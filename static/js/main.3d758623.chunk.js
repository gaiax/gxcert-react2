(this["webpackJsonpgxcert-react2"]=this["webpackJsonpgxcert-react2"]||[]).push([[0],{1006:function(e,t){},1007:function(e,t){},1030:function(e,t){},1037:function(e,t){},1144:function(e,t){},1261:function(e,t,r){"use strict";r.r(t);var n=r(2),a=r.n(n),s=r(190),c=r.n(s),i=(r(460),r(38)),o=r(10),u=r(11),p=r(17),l=r(16),d=(r.p,r(448)),f=r.n(d)()(),b=r(28),h=r(0);var j=function(e){return Object(h.jsxs)("header",{className:"App-header",children:[Object(h.jsxs)("div",{className:"header-wrapper",children:[Object(h.jsx)(b.b,{to:"/top",className:"logo",children:"GxCert"}),e.isLoggedIn?Object(h.jsx)(b.b,{to:"/",className:"header-left-link",children:"OBTAINED"}):"",e.isLoggedIn?Object(h.jsx)(b.b,{to:"/issue",className:"header-left-link",children:"ISSUE"}):""]}),e.isLoggedIn?Object(h.jsxs)("div",{className:"header-right-links",children:[Object(h.jsx)(b.b,{to:"/profile/edit",className:"edit-profile-button",children:"PROFILE"}),Object(h.jsx)("div",{className:"sign-out-button",onClick:e.signOut,children:"SIGN OUT"})]}):Object(h.jsx)("div",{className:"sign-in-button",onClick:function(){return f.push("/signup")},children:"SIGN IN"})]})};var g=function(){return Object(h.jsxs)("div",{className:"top",children:[Object(h.jsx)("div",{className:"top-left"}),Object(h.jsxs)("div",{className:"top-right",children:[Object(h.jsx)("p",{className:"concept",children:"\u78ba\u304b\u306a\u8a3c\u660e\u66f8\u3092\u8ab0\u306b\u3067\u3082\u7c21\u5358\u306b"}),Object(h.jsx)("p",{className:"concept-large",children:"\u30d6\u30ed\u30c3\u30af\u30c1\u30a7\u30fc\u30f3\u6280\u8853\u306b\u3088\u308b\u3001\u6539\u3056\u3093\u3055\u308c\u306a\u3044\u78ba\u304b\u306a\u8a3c\u660e\u66f8\u3092\u7c21\u5358\u306b\u767a\u884c\u3001\u53d7\u3051\u53d6\u308a\u3059\u308b\u3053\u3068\u304c\u3067\u304d\u307e\u3059\u3002"}),Object(h.jsx)(b.b,{to:"/signup",children:Object(h.jsx)("div",{className:"sign-up",children:"SIGN UP"})})]})]})};var O=function(e){return Object(h.jsx)("div",{className:"sign-in",children:Object(h.jsxs)("div",{className:"sign-in-content",children:[Object(h.jsx)("p",{className:"sign-in-message",children:"\u30b5\u30fc\u30d3\u30b9\u306e\u5229\u7528\u306b\u306fGoogle\u30a2\u30ab\u30a6\u30f3\u30c8\u3067\u306e\u8a8d\u8a3c\u304c\u5fc5\u9808\u3067\u3059\u3002Google\u30a2\u30ab\u30a6\u30f3\u30c8\u3067\u8a8d\u8a3c\u3092\u884c\u3063\u305f\u5f8c\u3001\u767b\u9332\u3092\u5b8c\u4e86\u3055\u305b\u3066\u304f\u3060\u3055\u3044\u3002"}),Object(h.jsx)("img",{src:"/google.png",onClick:e.signIn})]})})};var m=r(73),x=r.n(m),I=function(e){Object(p.a)(r,e);var t=Object(l.a)(r);function r(){return Object(o.a)(this,r),t.call(this)}return Object(u.a)(r,[{key:"componentDidMount",value:function(){this.props.fetchCertificates()}},{key:"render",value:function(){return Object(h.jsx)("div",{className:"certificates",children:Object(h.jsxs)("div",{className:"certificates-content",children:[Object(h.jsx)("p",{className:"certificates-title",children:"\u8a3c\u660e\u66f8"}),Object(h.jsx)("div",{className:"certificates-list",children:null!==this.props.userCerts?this.props.userCerts.map((function(e,t){return Object(h.jsx)(b.b,{to:"/certs/"+e.userCertId,children:Object(h.jsxs)("div",{className:"certificates-list-cell",children:[Object(h.jsx)("img",{src:e.certificate.imageUrl,className:"certificates-list-cell-icon"}),Object(h.jsxs)("div",{className:"certificates-list-cell-detail",children:[Object(h.jsx)("p",{className:"certificates-list-cell-title",children:e.certificate.title}),Object(h.jsx)("p",{className:"certificates-list-cell-by",children:e.certificate.groupName}),Object(h.jsx)("p",{className:"certificates-list-cell-date",children:new Date(1e3*parseInt(e.timestamp)).toISOString()})]})]})})})):Object(h.jsx)(x.a,{type:"Puff",color:"#00BFFF",height:100,width:100})})]})})}}]),r}(a.a.Component),v=r(14),E=r(1),N=r.n(E),C=r(152),_=r(260)({host:"ipfs.infura.io",port:5001,protocol:"https"});function y(e){var t=new Blob([e]);return(window.URL||window.webkitURL).createObjectURL(t)}var w=function(e,t){var r=new Uint8Array(e.byteLength+t.byteLength);return r.set(new Uint8Array(e),0),r.set(new Uint8Array(t),e.byteLength),r.buffer};function G(e){var t,r,n,a,s,c,i,o,u,p,l,d,f,b,h,j;return N.a.async((function(g){for(;;)switch(g.prev=g.next){case 0:return g.next=2,N.a.awrap(_.get(e));case 2:t=g.sent,r=!0,n=!1,g.prev=5,s=Object(C.a)(t);case 7:return g.next=9,N.a.awrap(s.next());case 9:return c=g.sent,r=c.done,g.next=13,N.a.awrap(c.value);case 13:if(i=g.sent,r){g.next=56;break}o=i,console.log(o),u=new ArrayBuffer(0),p=!0,l=!1,g.prev=20,f=Object(C.a)(o.content);case 22:return g.next=24,N.a.awrap(f.next());case 24:return b=g.sent,p=b.done,g.next=28,N.a.awrap(b.value);case 28:if(h=g.sent,p){g.next=35;break}u=w(u,h);case 32:p=!0,g.next=22;break;case 35:g.next=41;break;case 37:g.prev=37,g.t0=g.catch(20),l=!0,d=g.t0;case 41:if(g.prev=41,g.prev=42,p||null==f.return){g.next=46;break}return g.next=46,N.a.awrap(f.return());case 46:if(g.prev=46,!l){g.next=49;break}throw d;case 49:return g.finish(46);case 50:return g.finish(41);case 51:return j=y(u),g.abrupt("return",j);case 53:r=!0,g.next=7;break;case 56:g.next=62;break;case 58:g.prev=58,g.t1=g.catch(5),n=!0,a=g.t1;case 62:if(g.prev=62,g.prev=63,r||null==s.return){g.next=67;break}return g.next=67,N.a.awrap(s.return());case 67:if(g.prev=67,!n){g.next=70;break}throw a;case 70:return g.finish(67);case 71:return g.finish(62);case 72:return g.abrupt("return",null);case 73:case"end":return g.stop()}}),null,null,[[5,58,62,72],[20,37,41,51],[42,,46,50],[63,,67,71]],Promise)}var k=function(e){Object(p.a)(r,e);var t=Object(l.a)(r);function r(){return Object(o.a)(this,r),t.call(this)}return Object(u.a)(r,[{key:"componentDidMount",value:function(){var e=parseInt(this.props.match.params.id);this.props.fetchCertificate(e)}},{key:"render",value:function(){return console.log(this.props.userCert),Object(h.jsx)("div",{className:"certificate",children:this.props.userCert&&this.props.userCert.certificate?Object(h.jsxs)("div",{className:"certificate-content",children:[Object(h.jsx)("p",{className:"certificate-title",children:this.props.userCert.certificate.title}),Object(h.jsx)("img",{src:this.props.certificateImage,className:"certificate-icon"}),Object(h.jsxs)("table",{className:"certificate-detail",children:[Object(h.jsxs)("tr",{children:[Object(h.jsx)("td",{children:"Issue Date: "}),Object(h.jsx)("td",{children:new Date(parseInt(1e3*this.props.userCert.timestamp)).toISOString()})]}),Object(h.jsxs)("tr",{children:[Object(h.jsx)("td",{children:"Issuer: "}),Object(h.jsx)("td",{children:this.props.userCert.certificate.group?this.props.userCert.certificate.group.name:""})]}),Object(h.jsxs)("tr",{children:[Object(h.jsx)("td",{children:"To: "}),Object(h.jsx)("td",{children:this.props.userCert.to})]}),Object(h.jsxs)("tr",{children:[Object(h.jsx)("td",{children:"Title: "}),Object(h.jsx)("td",{children:this.props.userCert.certificate.title})]}),Object(h.jsxs)("tr",{children:[Object(h.jsx)("td",{children:"Description: "}),Object(h.jsx)("td",{children:this.props.userCert.certificate.description})]})]}),Object(h.jsxs)("div",{className:"certificate-buttons",children:[Object(h.jsx)("div",{className:"certificate-button",children:"\u53c2\u7167URL\u306e\u767a\u884c"}),Object(h.jsx)("div",{className:"certificate-button",children:"PDF\u306e\u30c0\u30a6\u30f3\u30ed\u30fc\u30c9"})]})]}):Object(h.jsx)(x.a,{type:"Puff",color:"#00BFFF",height:100,width:100})})}}]),r}(a.a.Component),S=function(e){Object(p.a)(r,e);var t=Object(l.a)(r);function r(){return Object(o.a)(this,r),t.call(this)}return Object(u.a)(r,[{key:"componentDidMount",value:function(){this.props.fetchGroupsInSidebar()}},{key:"render",value:function(){var e=this,t="";try{t=y(this.props.image)}catch(r){console.error(r)}return Object(h.jsxs)("div",{className:"new-cert",children:[Object(h.jsxs)("div",{className:"sidebar",children:[Object(h.jsx)("p",{className:"sidebar-title",children:"ISSUE"}),Object(h.jsxs)("select",{className:"sidebar-group",onChange:this.props.onChangeGroupInSidebar,defaultValue:null!==this.props.groupInSidebar?this.props.groupInSidebar.groupId.toString():"",children:[Object(h.jsx)("option",{hidden:!0,children:"Choose group"}),null!==this.props.groupsInSidebar?this.props.groupsInSidebar.map((function(e){return Object(h.jsx)("option",{value:e.groupId.toString(),children:e.name})})):"",Object(h.jsx)("option",{value:"new",children:"Create new group"})]}),Object(h.jsxs)("ul",{children:[Object(h.jsx)("li",{children:Object(h.jsx)(b.b,{to:"/issue",children:"CERTIFICATE"})}),Object(h.jsx)("li",{children:Object(h.jsx)(b.b,{to:"/group",children:"MEMBERS"})}),Object(h.jsx)("li",{children:Object(h.jsx)(b.b,{to:"/group/edit/",children:"ISSUER"})})]})]}),Object(h.jsxs)("div",{className:"new-cert-content",children:[Object(h.jsxs)("p",{className:"new-cert-title",children:[null!==this.props.groupInSidebar?this.props.groupInSidebar.name+"\u306e":"","\u8a3c\u660e\u66f8\u306e\u767b\u9332"]}),Object(h.jsx)("p",{className:"new-cert-description",children:"\u8a3c\u660e\u66f8\u3092\u767b\u9332\u3057\u3066\u304f\u3060\u3055\u3044\u3002\u8a3c\u660e\u66f8\u306f\u8907\u6570\u767b\u9332\u3059\u308b\u3053\u3068\u304c\u3067\u304d\u3001\u305d\u308c\u305e\u308c\u306e\u8907\u6570\u306e\u30e6\u30fc\u30b6\u30fc\u306b\u5bfe\u3057\u3066\u767a\u884c\u3059\u308b\u3053\u3068\u304c\u3067\u304d\u307e\u3059\u3002"}),Object(h.jsxs)("div",{className:"new-cert-form",children:[Object(h.jsx)("p",{className:"new-cert-form-title",children:"Title of Certificate"}),Object(h.jsx)("input",{type:"text",className:"new-cert-form-name",onChange:this.props.onChangeTitle}),Object(h.jsx)("p",{className:"new-cert-form-title",children:"Description of Certificate"}),Object(h.jsx)("textarea",{className:"new-cert-form-description",onChange:this.props.onChangeDescription}),Object(h.jsx)("p",{className:"new-cert-form-title",children:"Certificate Image"}),Object(h.jsx)("img",{src:t,className:"new-cert-form-image"}),Object(h.jsx)("div",{className:"new-cert-form-image-file-div",children:Object(h.jsxs)("label",{className:"new-cert-form-image-file-label",children:[Object(h.jsx)("input",{type:"file",className:"new-cert-form-image-file",onChange:this.props.onChangeImage}),"\u753b\u50cf\u9078\u629e"]})}),Object(h.jsx)("div",{className:"register-button",onClick:function(){return e.props.sign()},children:"\u767b\u9332"})]})]})]})}}]),r}(a.a.Component),T=function(e){Object(p.a)(r,e);var t=Object(l.a)(r);function r(){return Object(o.a)(this,r),t.call(this)}return Object(u.a)(r,[{key:"render",value:function(){var e="";try{e=y(this.props.image)}catch(t){console.error(t)}return Object(h.jsx)("div",{className:"new-profile",children:Object(h.jsxs)("div",{className:"new-profile-content",children:[Object(h.jsx)("p",{className:"new-profile-title",children:"\u30e6\u30fc\u30b6\u30fc\u767b\u9332"}),Object(h.jsxs)("div",{className:"new-profile-form",children:[Object(h.jsxs)("div",{className:"new-profile-form-image",children:[Object(h.jsx)("label",{for:"new-profile-form-image-file",children:Object(h.jsx)("img",{src:e,className:"new-profile-form-image"})}),Object(h.jsx)("input",{id:"new-profile-form-image-file",type:"file",onChange:this.props.onChangeProfileImage})]}),Object(h.jsx)("p",{className:"new-profile-form-title",children:"Name"}),Object(h.jsx)("input",{type:"text",className:"new-profile-form-name",onChange:this.props.onChangeProfileName}),Object(h.jsx)("p",{className:"new-profile-form-title",children:"E-mail"}),Object(h.jsx)("input",{type:"text",className:"new-profile-form-email",onChange:this.props.onChangeProfileEmail}),Object(h.jsx)("div",{className:"register-button",onClick:this.props.registerProfile,children:"\u767b\u9332"})]})]})})}}]),r}(a.a.Component),A=function(e){Object(p.a)(r,e);var t=Object(l.a)(r);function r(){return Object(o.a)(this,r),t.call(this)}return Object(u.a)(r,[{key:"componentDidMount",value:function(){this.props.fetchProfile()}},{key:"render",value:function(){var e=null,t=null;if(null!==this.props.profile&&(t=this.props.profile.imageUrl),this.props.image)try{e=y(this.props.image)}catch(r){console.error(r)}return console.log(e),Object(h.jsx)("div",{className:"edit-profile",children:Object(h.jsxs)("div",{className:"edit-profile-content",children:[Object(h.jsx)("p",{className:"edit-profile-title",children:"\u30d7\u30ed\u30d5\u30a3\u30fc\u30eb\u7de8\u96c6"}),Object(h.jsxs)("div",{className:"edit-profile-form",children:[Object(h.jsxs)("div",{className:"edit-profile-form-image",children:[Object(h.jsx)("label",{for:"edit-profile-form-image-file",children:Object(h.jsx)("img",{src:null===e?t:e,className:"edit-profile-form-image"})}),Object(h.jsx)("input",{id:"edit-profile-form-image-file",type:"file",onChange:this.props.onChangeProfileImage})]}),Object(h.jsx)("p",{className:"edit-profile-form-title",children:"Name"}),Object(h.jsx)("input",{type:"text",className:"edit-profile-form-name",onChange:this.props.onChangeProfileName,defaultValue:null!==this.props.profile?this.props.profile.name:""}),Object(h.jsx)("p",{className:"edit-profile-form-title",children:"E-mail"}),Object(h.jsx)("input",{type:"text",className:"edit-profile-form-email",onChange:this.props.onChangeProfileEmail,defaultValue:null!==this.props.profile?this.props.profile.email:""}),Object(h.jsx)("div",{className:"register-button",onClick:this.props.updateProfile,children:"\u66f4\u65b0"})]})]})})}}]),r}(a.a.Component),P=function(e){Object(p.a)(r,e);var t=Object(l.a)(r);function r(){return Object(o.a)(this,r),t.call(this)}return Object(u.a)(r,[{key:"render",value:function(){return Object(h.jsx)("div",{className:"new-group",children:Object(h.jsxs)("div",{className:"new-group-content",children:[Object(h.jsx)("p",{className:"new-group-title",children:"\u767a\u884c\u5143\u306e\u767b\u9332"}),Object(h.jsx)("p",{className:"new-group-description",children:"\u8a3c\u660e\u66f8\u306e\u767a\u884c\u306b\u306f\u767a\u884c\u5143\u3068\u306a\u308b\u56e3\u4f53\uff08\u4f01\u696d\u3001\u6559\u80b2\u6a5f\u95a2\u3001NPO\u6cd5\u4eba\u306a\u3069\uff09\u306e\u767b\u9332\u304c\u5fc5\u8981\u3067\u3059\u3002"}),Object(h.jsxs)("div",{className:"new-group-form",children:[Object(h.jsx)("p",{className:"new-group-form-title",children:"Name"}),Object(h.jsx)("input",{type:"text",className:"new-group-form-name",onChange:this.props.onChangeGroupName}),Object(h.jsx)("p",{className:"new-group-form-title",children:"Address"}),Object(h.jsx)("input",{type:"text",className:"new-group-form-address",onChange:this.props.onChangeGroupAddress}),Object(h.jsx)("p",{className:"new-group-form-title",children:"Phone"}),Object(h.jsx)("input",{type:"text",className:"new-group-form-phone",onChange:this.props.onChangeGroupPhone}),Object(h.jsx)("div",{className:"register-button",onClick:this.props.registerGroup,children:"\u767b\u9332"})]})]})})}}]),r}(a.a.Component),F=function(e){Object(p.a)(r,e);var t=Object(l.a)(r);function r(){return Object(o.a)(this,r),t.call(this)}return Object(u.a)(r,[{key:"componentDidMount",value:function(){}},{key:"render",value:function(){return console.log(this.props.groupInSidebar),Object(h.jsxs)("div",{className:"edit-group",children:[Object(h.jsxs)("div",{className:"sidebar",children:[Object(h.jsx)("p",{className:"sidebar-title",children:"ISSUE"}),Object(h.jsxs)("select",{className:"sidebar-group",onChange:this.props.onChangeGroupInSidebar,defaultValue:null!==this.props.groupInSidebar?this.props.groupInSidebar.groupId.toString():"",children:[Object(h.jsx)("option",{hidden:!0,children:"Choose group"}),null!==this.props.groupsInSidebar?this.props.groupsInSidebar.map((function(e){return Object(h.jsx)("option",{value:e.groupId.toString(),children:e.name})})):"",Object(h.jsx)("option",{value:"new",children:"Create new group"})]}),Object(h.jsxs)("ul",{children:[Object(h.jsx)("li",{children:Object(h.jsx)(b.b,{to:"/issue",children:"CERTIFICATE"})}),Object(h.jsx)("li",{children:Object(h.jsx)(b.b,{to:"/group",children:"MEMBERS"})}),Object(h.jsx)("li",{children:Object(h.jsx)(b.b,{to:"/group/edit/",children:"ISSUER"})})]})]}),null!==this.props.groupInSidebar?Object(h.jsxs)("div",{className:"edit-group-content",children:[Object(h.jsxs)("p",{className:"edit-group-title",children:["\u767a\u884c\u5143 ",this.props.groupInSidebar.name,"\u306e\u66f4\u65b0"]}),Object(h.jsx)("p",{className:"edit-group-description",children:"\u8a3c\u660e\u66f8\u306e\u767a\u884c\u306b\u306f\u767a\u884c\u5143\u3068\u306a\u308b\u56e3\u4f53\uff08\u4f01\u696d\u3001\u6559\u80b2\u6a5f\u95a2\u3001NPO\u6cd5\u4eba\u306a\u3069\uff09\u306e\u767b\u9332\u304c\u5fc5\u8981\u3067\u3059\u3002"}),Object(h.jsxs)("div",{className:"edit-group-form",children:[Object(h.jsx)("p",{className:"edit-group-form-title",children:"Name"}),Object(h.jsx)("input",{type:"text",className:"edit-group-form-name",onChange:this.props.onChangeGroupName,defaultValue:this.props.groupInSidebar.name}),Object(h.jsx)("p",{className:"edit-group-form-title",children:"Address"}),Object(h.jsx)("input",{type:"text",className:"edit-group-form-address",onChange:this.props.onChangeGroupAddress,defaultValue:this.props.groupInSidebar.residence}),Object(h.jsx)("p",{className:"edit-group-form-title",children:"Phone"}),Object(h.jsx)("input",{type:"text",className:"edit-group-form-phone",onChange:this.props.onChangeGroupPhone,defaultValue:this.props.groupInSidebar.phone}),Object(h.jsx)("div",{className:"register-button",onClick:this.props.updateGroup,children:"\u66f4\u65b0"})]})]}):Object(h.jsx)("div",{className:"edit-group-content",children:Object(h.jsx)(x.a,{type:"Puff",color:"#00BFFF",height:100,width:100})})]})}}]),r}(a.a.Component),R=function(e){Object(p.a)(r,e);var t=Object(l.a)(r);function r(){return Object(o.a)(this,r),t.call(this)}return Object(u.a)(r,[{key:"componentDidMount",value:function(){}},{key:"render",value:function(){var e=this;return Object(h.jsxs)("div",{className:"group-members",children:[Object(h.jsxs)("div",{className:"sidebar",children:[Object(h.jsx)("p",{className:"sidebar-title",children:"ISSUE"}),Object(h.jsxs)("select",{className:"sidebar-group",onChange:this.props.onChangeGroupInSidebar,defaultValue:null!==this.props.groupInSidebar?this.props.groupInSidebar.groupId.toString():"",children:[Object(h.jsx)("option",{hidden:!0,children:"Choose group"}),null!==this.props.groupsInSidebar?this.props.groupsInSidebar.map((function(e){return Object(h.jsx)("option",{value:e.groupId.toString(),children:e.name})})):"",Object(h.jsx)("option",{value:"new",children:"Create new group"})]}),Object(h.jsxs)("ul",{children:[Object(h.jsx)("li",{children:Object(h.jsx)(b.b,{to:"/issue",children:"CERTIFICATE"})}),Object(h.jsx)("li",{children:Object(h.jsx)(b.b,{to:"/group",children:"MEMBERS"})}),Object(h.jsx)("li",{children:Object(h.jsx)(b.b,{to:"/group/edit/",children:"ISSUER"})})]})]}),Object(h.jsx)("div",{className:"group-members-content",children:function(){var t=e;return e.props.groupInSidebar?Object(h.jsxs)("div",{children:[Object(h.jsxs)("p",{className:"group-members-title",children:[e.props.groupInSidebar.name,"\u306e\u30e1\u30f3\u30d0\u30fc"]}),Object(h.jsx)("input",{type:"text",className:"group-members-invite",onChange:e.props.onChangeGroupMemberToInvite}),Object(h.jsx)("button",{className:"group-members-invite-button",onClick:e.props.inviteMember,children:"Invite"}),Object(h.jsx)("div",{className:"group-members-list",children:e.props.groupInSidebar.members.map((function(e){return Object(h.jsxs)("div",{className:"group-members-list-cell",children:[Object(h.jsx)("img",{src:e.imageUrl,className:"group-members-list-cell-icon"}),Object(h.jsxs)("div",{className:"group-members-list-cell-detail",children:[Object(h.jsx)("p",{className:"group-members-list-cell-name",children:e.name}),Object(h.jsx)("p",{className:"group-members-list-cell-address",children:e.address})]}),Object(h.jsx)("div",{className:"group-members-list-cell-disable",onClick:function(){return t.props.disableGroupMember(t.props.groupInSidebar.groupId,e.address)},children:"\u7121\u52b9\u5316"})]})}))})]}):Object(h.jsx)(x.a,{type:"Puff",color:"#00BFFF",height:100,width:100})}()})]})}}]),r}(a.a.Component),D=function(e){Object(p.a)(r,e);var t=Object(l.a)(r);function r(){return Object(o.a)(this,r),t.call(this)}return Object(u.a)(r,[{key:"componentDidMount",value:function(){this.props.fetchGroupsInSidebar()}},{key:"render",value:function(){var e=this;return Object(h.jsxs)("div",{className:"issuer",children:[Object(h.jsxs)("div",{className:"sidebar",children:[Object(h.jsx)("p",{className:"sidebar-title",children:"ISSUE"}),Object(h.jsxs)("select",{className:"sidebar-group",onChange:this.props.onChangeGroupInSidebar,defaultValue:null!==this.props.groupInSidebar?this.props.groupInSidebar.groupId.toString():"",children:[Object(h.jsx)("option",{hidden:!0,children:"Choose group"}),null!==this.props.groupsInSidebar?this.props.groupsInSidebar.map((function(e){return Object(h.jsx)("option",{value:e.groupId.toString(),children:e.name})})):"",Object(h.jsx)("option",{value:"new",children:"Create new group"})]}),Object(h.jsxs)("ul",{children:[Object(h.jsx)("li",{children:Object(h.jsx)(b.b,{to:"/issue",children:"CERTIFICATE"})}),Object(h.jsx)("li",{children:Object(h.jsx)(b.b,{to:"/group",children:"MEMBERS"})}),Object(h.jsx)("li",{children:Object(h.jsx)(b.b,{to:"/group/edit/",children:"ISSUER"})})]})]}),Object(h.jsxs)("div",{className:"issuer-certificates-wrapper",children:[Object(h.jsxs)("div",{className:"issuer-certificates",children:[Object(h.jsx)(b.b,{to:"/new",children:Object(h.jsx)("div",{className:"issuer-certificates-new",children:"\u65b0\u898f\u4f5c\u6210"})}),Object(h.jsx)("br",{}),Object(h.jsxs)("p",{className:"issuer-certificates-title",children:[null!==this.props.groupInSidebar?this.props.groupInSidebar.name+"\u306e":"","\u8a3c\u660e\u66f8"]}),null===this.props.groupInSidebar?Object(h.jsx)("div",{className:"issuer-certificates-select-group",children:"Choose group on sidebar."}):Object(h.jsx)("div",{className:"issuer-certificates-list",children:null!==this.props.certificates?this.props.certificates.map((function(e){return Object(h.jsxs)("div",{className:"issuer-certificates-list-cell",children:[Object(h.jsx)("img",{src:e.imageUrl,className:"issuer-certificates-list-cell-icon"}),Object(h.jsx)("p",{className:"issuer-certificates-list-cell-title",children:e.title}),Object(h.jsx)(b.b,{to:"/issue/"+e.id,children:Object(h.jsx)("div",{className:"issuer-certificates-list-cell-issue",children:"\u767a\u884c"})})]})})):Object(h.jsx)(x.a,{type:"Puff",color:"#00BFFF",height:100,width:100})})]}),null!==this.props.certificates?this.props.certificates.map((function(t){return Object(h.jsxs)("div",{className:"issuer-certificate",children:[Object(h.jsx)("p",{className:"issuer-certificate-title",children:t.title}),Object(h.jsx)("div",{className:"issuer-certificate-list",children:t.userCerts.map((function(t,r){return Object(h.jsxs)("div",{className:"certificates-list-cell",children:[Object(h.jsx)("img",{src:t.profile?t.profile.imageUrl:"",className:"issuer-certificate-list-cell-icon"}),Object(h.jsxs)("div",{className:"issuer-certificate-list-cell-detail",children:[Object(h.jsx)("p",{className:"issuer-certificate-list-cell-name",children:t.profile?t.profile.name:""}),Object(h.jsx)("p",{className:"issuer-certificate-list-cell-address",children:t.to})]}),Object(h.jsx)("div",{className:"issuer-certificate-list-cell-invalidate",onClick:function(){return e.props.invalidateUserCert(t.userCertId)},children:"\u7121\u52b9\u5316"})]})}))})]})})):""]})]})}}]),r}(a.a.Component),U=function(e){Object(p.a)(r,e);var t=Object(l.a)(r);function r(){return Object(o.a)(this,r),t.call(this)}return Object(u.a)(r,[{key:"componentDidMount",value:function(){this.certId=parseInt(this.props.match.params.certId),this.props.fetchCertificate(this.certId)}},{key:"render",value:function(){var e=this;return Object(h.jsx)("div",{className:"issue",children:this.props.certificate?Object(h.jsxs)("div",{className:"issue-content",children:[Object(h.jsxs)("p",{className:"issue-title",children:[this.props.certificate.title,"\u306e\u767a\u884c"]}),Object(h.jsx)("p",{className:"issue-form-title",children:"Add Address"}),Object(h.jsxs)("div",{className:"issue-form",children:[Object(h.jsx)("input",{type:"text",className:"issue-form-to",onChange:this.props.onChangeToInIssue}),Object(h.jsx)("button",{className:"issue-form-issue",onClick:function(){e.props.issue(e.certId)},children:"\u767a\u884c"})]})]}):Object(h.jsx)("div",{className:"issue-content",children:Object(h.jsx)("p",{className:"certificate-not-found",children:"Certificate not found."})})})}}]),r}(a.a.Component),H=(r(769),r(37)),M=(r(770),function(e){Object(p.a)(r,e);var t=Object(l.a)(r);function r(){return Object(o.a)(this,r),t.call(this)}return Object(u.a)(r,[{key:"render",value:function(){var e=this;return Object(h.jsxs)("div",{className:"App",children:[Object(h.jsx)(j,{isLoggedIn:""!==e.props.state.from,signOut:e.props.signOut}),Object(h.jsxs)(H.c,{children:[Object(h.jsx)(H.a,{exact:!0,path:"/",render:function(t){return""===e.props.state.from?Object(h.jsx)(g,{}):Object(h.jsx)(I,Object(i.a)(Object(i.a)({},t),{},{userCerts:e.props.state.certificates,fetchCertificates:e.props.fetchCertificates}))}}),Object(h.jsx)(H.a,{exact:!0,path:"/top",render:function(e){return Object(h.jsx)(g,{})}}),Object(h.jsx)(H.a,{exact:!0,path:"/signup",render:function(t){return Object(h.jsx)(O,Object(i.a)(Object(i.a)({},t),{},{signIn:e.props.signIn}))}}),Object(h.jsx)(H.a,{exact:!0,path:"/new/",render:function(){return Object(h.jsx)(S,{fetchGroups:e.props.fetchGroups,fetchGroupsInSidebar:e.props.fetchGroupsInSidebar,groupsInSidebar:e.props.state.groupsInSidebar,groupInSidebar:e.props.state.groupInSidebar,onChangeGroupInSidebar:e.props.onChangeGroupInSidebar,onChangeTitle:e.props.onChangeTitle,onChangeDescription:e.props.onChangeDescription,onChangeImage:e.props.onChangeImage,onChangeGroup:e.props.onChangeGroup,sign:e.props.sign,from:e.props.state.from,image:e.props.state.image,groups:e.props.state.groups})}}),Object(h.jsx)(H.a,{exact:!0,path:"/issue/",render:function(t){return Object(h.jsx)(D,Object(i.a)(Object(i.a)({},t),{},{fetchGroupsInSidebar:e.props.fetchGroupsInSidebar,groupsInSidebar:e.props.state.groupsInSidebar,groupInSidebar:e.props.state.groupInSidebar,onChangeGroupInSidebar:e.props.onChangeGroupInSidebar,groups:e.props.state.groupsInIssuer,certificates:e.props.state.certificatesInIssuer,fetchCertificates:e.props.fetchCertificatesInIssuer,issue:e.props.issue,invalidateUserCert:e.props.invalidateUserCert}))}}),Object(h.jsx)(H.a,{exact:!0,path:"/issue/:certId",render:function(t){return Object(h.jsx)(U,Object(i.a)(Object(i.a)({},t),{},{certificate:e.props.state.certificateInIssue,fetchCertificate:e.props.fetchCertificateInIssue,onChangeToInIssue:e.props.onChangeToInIssue,issue:e.props.issue}))}}),Object(h.jsx)(H.a,{exact:!0,path:"/certs/:id",render:function(t){return Object(h.jsx)(k,Object(i.a)(Object(i.a)({},t),{},{userCert:e.props.state.certificate,certificateImage:e.props.state.certificateImage,fetchCertificate:e.props.fetchCertificate}))}}),Object(h.jsx)(H.a,{exact:!0,path:"/group/new",render:function(t){return Object(h.jsx)(P,Object(i.a)(Object(i.a)({},t),{},{registerGroup:e.props.registerGroup,onChangeGroupName:e.props.onChangeGroupName,onChangeGroupAddress:e.props.onChangeGroupAddress,onChangeGroupPhone:e.props.onChangeGroupPhone}))}}),Object(h.jsx)(H.a,{exact:!0,path:"/group/edit",render:function(t){return Object(h.jsx)(F,Object(i.a)(Object(i.a)({},t),{},{fetchGroupsInSidebar:e.props.fetchGroupsInSidebar,groupsInSidebar:e.props.state.groupsInSidebar,groupInSidebar:e.props.state.groupInSidebar,onChangeGroupInSidebar:e.props.onChangeGroupInSidebar,group:e.props.state.groupInEdit,updateGroup:e.props.updateGroup,fetchGroup:e.props.fetchGroupInEdit,onChangeGroupId:e.props.onChangeGroupIdInEdit,onChangeGroupName:e.props.onChangeGroupNameInEdit,onChangeGroupAddress:e.props.onChangeGroupAddressInEdit,onChangeGroupPhone:e.props.onChangeGroupPhoneInEdit}))}}),Object(h.jsx)(H.a,{exact:!0,path:"/group",render:function(t){return Object(h.jsx)(R,Object(i.a)(Object(i.a)({},t),{},{fetchGroupsInSidebar:e.props.fetchGroupsInSidebar,groupsInSidebar:e.props.state.groupsInSidebar,groupInSidebar:e.props.state.groupInSidebar,onChangeGroupInSidebar:e.props.onChangeGroupInSidebar,group:e.props.state.group,fetchGroup:e.props.fetchGroup,inviteMember:e.props.inviteMember,onChangeGroupMemberToInvite:e.props.onChangeGroupMemberToInvite,disableGroupMember:e.props.disableGroupMember}))}}),Object(h.jsx)(H.a,{exact:!0,path:"/profile/new",render:function(t){return Object(h.jsx)(T,Object(i.a)(Object(i.a)({},t),{},{image:e.props.state.profileImage,registerProfile:e.props.registerProfile,onChangeProfileName:e.props.onChangeProfileName,onChangeProfileEmail:e.props.onChangeProfileEmail,onChangeProfileImage:e.props.onChangeProfileImage}))}}),Object(h.jsx)(H.a,{exact:!0,path:"/profile/edit",render:function(t){return Object(h.jsx)(A,Object(i.a)(Object(i.a)({},t),{},{image:e.props.state.profileImageInEdit,updateProfile:e.props.updateProfile,profile:e.props.state.profileInEdit,profileName:e.props.state.profileNameInEdit,profileEmail:e.props.state.profileEmailInEdit,profileImage:e.props.state.profileImageInEdit,fetchProfile:e.props.fetchProfileInEdit,onChangeProfileName:e.props.onChangeProfileNameInEdit,onChangeProfileEmail:e.props.onChangeProfileEmailInEdit,onChangeProfileImage:e.props.onChangeProfileImageInEdit}))}})]})]})}}]),r}(a.a.Component)),L=function(e){e&&e instanceof Function&&r.e(3).then(r.bind(null,1265)).then((function(t){var r=t.getCLS,n=t.getFID,a=t.getFCP,s=t.getLCP,c=t.getTTFB;r(e),n(e),a(e),s(e),c(e)}))},B=r(264),V=r(85),z={from:"",to:"",title:"",description:"",image:null,toInIssue:"",groupId:null,groupInEdit:null,groupName:"",groupMemberToInvite:"",groupAddress:"",groupPhone:"",groupIdInEdit:"",groupNameInEdit:"",groupAddressInEdit:"",groupPhoneInEdit:"",groupInIssuer:null,groupInSidebar:null,groupsInSidebar:[],certificate:{},certificateImage:"",certificates:[],certificatesInIssuer:null,certificateInIssue:null,group:null,groups:[],profileInEdit:null,profileName:"",profileEmail:"",profileImage:"",profileNameInEdit:"",profileEmailInEdit:"",profileImageInEdit:""};var Y,J=r(449),X=r(265),q=r(450),K={key:"root",storage:r.n(q).a},Q=Object(X.a)(K,(function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:z,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"ON_CHANGE_TITLE":return Object.assign({},e,{title:t.payload});case"ON_CHANGE_DESCRIPTION":return Object.assign({},e,{description:t.payload});case"ON_CHANGE_IMAGE":return Object.assign({},e,{image:t.payload});case"ON_CHANGE_GROUP":return Object.assign({},e,{groupId:t.payload});case"ON_CHANGE_GROUP_NAME":return Object.assign({},e,{groupName:t.payload});case"ON_CHANGE_GROUP_ADDRESS":return Object.assign({},e,{groupAddress:t.payload});case"ON_CHANGE_GROUP_IN_SIDEBAR":return console.log(t.payload),Object.assign({},e,{groupInSidebar:t.payload});case"ON_CHANGE_GROUP_PHONE":return Object.assign({},e,{groupPhone:t.payload});case"ON_CHANGE_GROUP_MEMBER_TO_INVITE":return Object.assign({},e,{groupMemberToInvite:t.payload});case"ON_CHANGE_GROUP_ID_IN_EDIT":return Object.assign({},e,{groupIdInEdit:t.payload});case"ON_CHANGE_GROUP_NAME_IN_EDIT":return Object.assign({},e,{groupNameInEdit:t.payload});case"ON_CHANGE_GROUP_ADDRESS_IN_EDIT":return Object.assign({},e,{groupAddressInEdit:t.payload});case"ON_CHANGE_GROUP_PHONE_IN_EDIT":return Object.assign({},e,{groupPhoneInEdit:t.payload});case"ON_CHANGE_PROFILE_NAME":return Object.assign({},e,{profileName:t.payload});case"ON_CHANGE_PROFILE_EMAIL":return Object.assign({},e,{profileEmail:t.payload});case"ON_CHANGE_PROFILE_IMAGE":return Object.assign({},e,{profileImage:t.payload});case"ON_CHANGE_PROFILE_NAME_IN_EDIT":return Object.assign({},e,{profileNameInEdit:t.payload});case"ON_CHANGE_PROFILE_EMAIL_IN_EDIT":return Object.assign({},e,{profileEmailInEdit:t.payload});case"ON_CHANGE_PROFILE_IMAGE_IN_EDIT":return Object.assign({},e,{profileImageInEdit:t.payload});case"ON_CHANGE_TO_IN_ISSUE":return Object.assign({},e,{toInIssue:t.payload});case"LOGGED_IN":return Object.assign({},e,{from:t.payload});case"FETCHED_CERTIFICATE":return Object.assign({},e,{certificate:t.payload});case"FETCHED_CERTIFICATE_IN_ISSUE":return Object.assign({},e,{certificateInIssue:t.payload});case"FETCHED_CERTIFICATES":return null===t.payload?Object.assign({},e,{certificates:null}):Object.assign({},e,{certificates:t.payload});case"FETCHED_CERTIFICATE_IMAGE":return Object.assign({},e,{certificateImage:t.payload});case"FETCHED_GROUPS":return Object.assign({},e,{groups:t.payload});case"FETCHED_GROUPS_IN_SIDEBAR":return Object.assign({},e,{groupsInSidebar:t.payload});case"FETCHED_GROUP":return Object.assign({},e,{group:t.payload});case"FETCHED_GROUP_IN_EDIT":return Object.assign({},e,{groupInEdit:t.payload});case"FETCHED_CERTIFICATES_IN_ISSUER":return Object.assign({},e,{certificatesInIssuer:t.payload});case"FETCHED_PROFILE_IN_EDIT":return Object.assign({},e,{profileInEdit:t.payload});default:return z}})),W=window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__||V.c,Z=Object(V.d)(Object(V.b)({state:Q}),z,W(Object(V.a)(J.a))),$=(Object(X.b)(Z),Z),ee=r(266),te=r(263),re=r.n(te),ne=r(150),ae=r.n(ne),se=r(453),ce=r.n(se),ie=new(function(){function e(){Object(o.a)(this,e),this.torus=new ce.a}return Object(u.a)(e,[{key:"init",value:function(){var e=Object(v.a)(N.a.mark((function e(){return N.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.torus.init({buildEnv:"production",enableLogging:!0,network:{host:"https://matic-mumbai.chainstacklabs.com",chainId:80001,networkName:"Mumbai Testnet"},showTorusButton:!0,enabledVerifiers:{google:!0,facebook:!1,reddit:!1,twitch:!1,discord:!1}});case 2:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"login",value:function(){var e=Object(v.a)(N.a.mark((function e(){var t;return N.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.torus.login();case 2:return t=e.sent,console.log(t),console.log(this.torus),this.web3=new ae.a(this.torus.provider),console.log(this.web3),e.abrupt("return",this.web3);case 8:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"getPublicAddressByGoogle",value:function(){var e=Object(v.a)(N.a.mark((function e(t){return N.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.torus.getPublicAddress({verifier:"google",verifierId:t});case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()}]),e}()),oe={web3Host:"https://matic-mumbai.chainstacklabs.com",contractAddress:"0xE19F38e0fA7B005E8E62E837B0D79C8558fAd8E0",gxApi:"https://asia-northeast1-gxcert-21233.cloudfunctions.net/gxcert"},ue=new re.a(new ae.a(oe.web3Host),oe.contractAddress);function pe(){return le.apply(this,arguments)}function le(){return(le=Object(v.a)(N.a.mark((function e(){return N.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(ue.isInitialized()){e.next=3;break}return e.next=3,ue.init();case 3:return e.abrupt("return",ue);case 4:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function de(){return fe.apply(this,arguments)}function fe(){return(fe=Object(v.a)(N.a.mark((function e(){var t;return N.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,ie.init();case 3:return e.next=5,ie.login();case 5:t=e.sent,e.next=11;break;case 8:e.prev=8,e.t0=e.catch(0),console.error(e.t0);case 11:if(console.log(t),!t){e.next=23;break}return e.prev=13,Y=new re.a(t,oe.contractAddress,oe.gxApi),e.next=17,Y.init();case 17:e.next=23;break;case 19:throw e.prev=19,e.t1=e.catch(13),console.error(e.t1),new Error("gxCert is not initialized.");case 23:if(null!==Y){e.next=25;break}throw new Error("gxCert is not initialized.");case 25:if(Y.address){e.next=28;break}return e.next=28,Y.getMyAddress();case 28:return e.abrupt("return",Y);case 29:case"end":return e.stop()}}),e,null,[[0,8],[13,19]])})))).apply(this,arguments)}function be(){return new Promise((function(e,t){setTimeout((function(){e()}),6e3)}))}var he=function(){return function(){var e=Object(v.a)(N.a.mark((function e(t,r){var n,a,s,c,i,o,u,p;return N.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,de();case 3:n=e.sent,e.next=10;break;case 6:return e.prev=6,e.t0=e.catch(0),console.error(e.t0),e.abrupt("return");case 10:return a=r().state,n.address,s=[],c=a.groupInSidebar,i=c.groupId,e.prev=15,e.next=18,n.getGroupCerts(i);case 18:s=e.sent,e.next=26;break;case 21:return e.prev=21,e.t1=e.catch(15),console.error(e.t1),alert("Failed to fetch certificates."),e.abrupt("return");case 26:for(o=0;o<s.length;o++)s[o].userCerts=[];t({type:"FETCHED_CERTIFICATES_IN_ISSUER",payload:s}),u=N.a.mark((function e(r){var a,c,i;return N.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,n.getIssuedUserCerts(s[r].id);case 2:a=e.sent,s[r].userCerts=a,t({type:"FETCHED_CERTIFICATES_IN_ISSUER",payload:s}),c=N.a.mark((function e(c){var i;return N.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,n.getProfile(a[c].to);case 2:i=e.sent,s[r].userCerts[c].profile=i,G(i.icon).then((function(e){i.imageUrl=e,s[r].userCerts[c].profile=i,t({type:"FETCHED_CERTIFICATES_IN_ISSUER",payload:s})})).catch((function(e){console.error(e)}));case 5:case"end":return e.stop()}}),e)})),i=0;case 7:if(!(i<a.length)){e.next=12;break}return e.delegateYield(c(i),"t0",9);case 9:i++,e.next=7;break;case 12:G(s[r].image).then((function(e){s[r].imageUrl=e,t({type:"FETCHED_CERTIFICATES_IN_ISSUER",payload:s})})).catch((function(e){console.error(e)}));case 13:case"end":return e.stop()}}),e)})),p=0;case 30:if(!(p<s.length)){e.next=35;break}return e.delegateYield(u(p),"t2",32);case 32:p++,e.next=30;break;case 35:case"end":return e.stop()}}),e,null,[[0,6],[15,21]])})));return function(t,r){return e.apply(this,arguments)}}()};var je=Object(B.b)((function(e,t){return e}),(function(e,t){return{onChangeTitle:function(t){e(function(e){return function(){var t=Object(v.a)(N.a.mark((function t(r,n){return N.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:r({type:"ON_CHANGE_TITLE",payload:e.target.value});case 1:case"end":return t.stop()}}),t)})));return function(e,r){return t.apply(this,arguments)}}()}(t))},onChangeDescription:function(t){e(function(e){return function(){var t=Object(v.a)(N.a.mark((function t(r,n){return N.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:r({type:"ON_CHANGE_DESCRIPTION",payload:e.target.value});case 1:case"end":return t.stop()}}),t)})));return function(e,r){return t.apply(this,arguments)}}()}(t))},onChangeImage:function(t){e(function(e){return function(){var t=Object(v.a)(N.a.mark((function t(r,n){var a,s;return N.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:a=e.target.files[0],(s=new FileReader).onload=function(){r({type:"ON_CHANGE_IMAGE",payload:s.result})},s.readAsArrayBuffer(a);case 4:case"end":return t.stop()}}),t)})));return function(e,r){return t.apply(this,arguments)}}()}(t))},onChangeGroupName:function(t){e(function(e){return function(){var t=Object(v.a)(N.a.mark((function t(r,n){return N.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:r({type:"ON_CHANGE_GROUP_NAME",payload:e.target.value});case 1:case"end":return t.stop()}}),t)})));return function(e,r){return t.apply(this,arguments)}}()}(t))},onChangeGroupAddress:function(t){e(function(e){return function(){var t=Object(v.a)(N.a.mark((function t(r,n){return N.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:r({type:"ON_CHANGE_GROUP_ADDRESS",payload:e.target.value});case 1:case"end":return t.stop()}}),t)})));return function(e,r){return t.apply(this,arguments)}}()}(t))},onChangeGroupPhone:function(t){e(function(e){return function(){var t=Object(v.a)(N.a.mark((function t(r,n){return N.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:r({type:"ON_CHANGE_GROUP_PHONE",payload:e.target.value});case 1:case"end":return t.stop()}}),t)})));return function(e,r){return t.apply(this,arguments)}}()}(t))},onChangeGroupNameInEdit:function(t){e(function(e){return function(){var t=Object(v.a)(N.a.mark((function t(r,n){return N.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:r({type:"ON_CHANGE_GROUP_NAME_IN_EDIT",payload:e.target.value});case 1:case"end":return t.stop()}}),t)})));return function(e,r){return t.apply(this,arguments)}}()}(t))},onChangeGroupAddressInEdit:function(t){e(function(e){return function(){var t=Object(v.a)(N.a.mark((function t(r,n){return N.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:r({type:"ON_CHANGE_GROUP_ADDRESS_IN_EDIT",payload:e.target.value});case 1:case"end":return t.stop()}}),t)})));return function(e,r){return t.apply(this,arguments)}}()}(t))},onChangeGroupPhoneInEdit:function(t){e(function(e){return function(){var t=Object(v.a)(N.a.mark((function t(r,n){return N.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:r({type:"ON_CHANGE_GROUP_PHONE_IN_EDIT",payload:e.target.value});case 1:case"end":return t.stop()}}),t)})));return function(e,r){return t.apply(this,arguments)}}()}(t))},onChangeProfileName:function(t){e(function(e){return function(){var t=Object(v.a)(N.a.mark((function t(r,n){return N.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:r({type:"ON_CHANGE_PROFILE_NAME",payload:e.target.value});case 1:case"end":return t.stop()}}),t)})));return function(e,r){return t.apply(this,arguments)}}()}(t))},onChangeProfileEmail:function(t){e(function(e){return function(){var t=Object(v.a)(N.a.mark((function t(r,n){return N.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:r({type:"ON_CHANGE_PROFILE_EMAIL",payload:e.target.value});case 1:case"end":return t.stop()}}),t)})));return function(e,r){return t.apply(this,arguments)}}()}(t))},onChangeProfileImage:function(t){e(function(e){return function(){var t=Object(v.a)(N.a.mark((function t(r,n){var a,s;return N.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:a=e.target.files[0],(s=new FileReader).onload=function(){r({type:"ON_CHANGE_PROFILE_IMAGE",payload:s.result})},s.readAsArrayBuffer(a);case 4:case"end":return t.stop()}}),t)})));return function(e,r){return t.apply(this,arguments)}}()}(t))},onChangeProfileNameInEdit:function(t){e(function(e){return function(){var t=Object(v.a)(N.a.mark((function t(r,n){return N.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:r({type:"ON_CHANGE_PROFILE_NAME_IN_EDIT",payload:e.target.value});case 1:case"end":return t.stop()}}),t)})));return function(e,r){return t.apply(this,arguments)}}()}(t))},onChangeProfileEmailInEdit:function(t){e(function(e){return function(){var t=Object(v.a)(N.a.mark((function t(r,n){return N.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:r({type:"ON_CHANGE_PROFILE_EMAIL_IN_EDIT",payload:e.target.value});case 1:case"end":return t.stop()}}),t)})));return function(e,r){return t.apply(this,arguments)}}()}(t))},onChangeProfileImageInEdit:function(t){e(function(e){return function(){var t=Object(v.a)(N.a.mark((function t(r,n){var a,s;return N.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:a=e.target.files[0],(s=new FileReader).onload=function(){r({type:"ON_CHANGE_PROFILE_IMAGE_IN_EDIT",payload:s.result})},s.readAsArrayBuffer(a);case 4:case"end":return t.stop()}}),t)})));return function(e,r){return t.apply(this,arguments)}}()}(t))},onChangeGroup:function(t){e(function(e){return function(){var t=Object(v.a)(N.a.mark((function t(r,n){return N.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if("new"!==e.target.value){t.next=3;break}return f.push("/group/new"),t.abrupt("return");case 3:r({type:"ON_CHANGE_GROUP",payload:parseInt(e.target.value)});case 4:case"end":return t.stop()}}),t)})));return function(e,r){return t.apply(this,arguments)}}()}(t))},onChangeToInIssue:function(t){e(function(e){return function(){var t=Object(v.a)(N.a.mark((function t(r){return N.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:r({type:"ON_CHANGE_TO_IN_ISSUE",payload:e.target.value});case 1:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()}(t))},onChangeGroupMemberToInvite:function(t){e(function(e){return function(){var t=Object(v.a)(N.a.mark((function t(r,n){return N.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:r({type:"ON_CHANGE_GROUP_MEMBER_TO_INVITE",payload:e.target.value});case 1:case"end":return t.stop()}}),t)})));return function(e,r){return t.apply(this,arguments)}}()}(t))},onChangeGroupInSidebar:function(t){e(function(e){return function(){var t=Object(v.a)(N.a.mark((function t(r,n){var a,s,c,i,o,u,p;return N.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,de();case 3:t.sent,t.next=10;break;case 6:return t.prev=6,t.t0=t.catch(0),console.error(t.t0),t.abrupt("return");case 10:if(a=n().state,"new"!==(s=e.target.value)){t.next=15;break}return f.push("/group/new"),t.abrupt("return");case 15:c=parseInt(s),i=a.groupsInSidebar,o=Object(ee.a)(i),t.prev=18,p=function(){var e=u.value;if(e.groupId===c){r({type:"ON_CHANGE_GROUP_IN_SIDEBAR",payload:e}),r({type:"ON_CHANGE_GROUP_NAME_IN_EDIT",payload:e.name}),r({type:"ON_CHANGE_GROUP_ADDRESS_IN_EDIT",payload:e.residence}),r({type:"ON_CHANGE_GROUP_PHONE_IN_EDIT",payload:e.phone}),console.log(e);for(var t=function(t){G(e.members[t].icon).then((function(n){e.members[t].imageUrl=n,r({type:"ON_CHANGE_GROUP_IN_SIDEBAR",payload:e})})).catch((function(e){console.error(e)}))},n=0;n<e.members.length;n++)t(n);return"continue"}},o.s();case 21:if((u=o.n()).done){t.next=27;break}if("continue"!==p()){t.next=25;break}return t.abrupt("continue",25);case 25:t.next=21;break;case 27:t.next=32;break;case 29:t.prev=29,t.t1=t.catch(18),o.e(t.t1);case 32:return t.prev=32,o.f(),t.finish(32);case 35:he()(r,n);case 36:case"end":return t.stop()}}),t,null,[[0,6],[18,29,32,35]])})));return function(e,r){return t.apply(this,arguments)}}()}(t))},sign:function(){e(function(){var e=Object(v.a)(N.a.mark((function e(t,r){var n,a,s,c,i,o;return N.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,de();case 3:n=e.sent,e.next=10;break;case 6:return e.prev=6,e.t0=e.catch(0),console.error(e.t0),e.abrupt("return");case 10:if(null!==(a=r().state).groupInSidebar){e.next=14;break}return alert("Please set group on sidebar."),e.abrupt("return");case 14:if(s=a.image){e.next=18;break}return alert("Image not set."),e.abrupt("return");case 18:return e.prev=18,e.next=21,n.uploadImageToIpfs(s);case 21:c=e.sent,e.next=29;break;case 24:return e.prev=24,e.t1=e.catch(18),console.error(e.t1),alert("Failed to post the image to IPFS."),e.abrupt("return");case 29:if(i={context:{},title:a.title,description:a.description,image:c,groupId:a.groupInSidebar.groupId},n.isCertificate(i)){e.next=33;break}return alert("Invalid Certificate."),e.abrupt("return");case 33:return o=null,e.prev=34,e.next=37,n.signCertificate(i,{address:n.address});case 37:o=e.sent,e.next=45;break;case 40:return e.prev=40,e.t2=e.catch(34),console.error(e.t2),alert("Failed to sign the certificate."),e.abrupt("return");case 45:return e.prev=45,e.next=48,n.createCert(o);case 48:e.next=55;break;case 50:return e.prev=50,e.t3=e.catch(45),console.error(e.t3),alert("Failed to post the signed certificate."),e.abrupt("return");case 55:return e.next=57,be();case 57:f.push("/issue");case 58:case"end":return e.stop()}}),e,null,[[0,6],[18,24],[34,40],[45,50]])})));return function(t,r){return e.apply(this,arguments)}}())},fetchCertificate:function(t){var r;e((r=t,function(){var e=Object(v.a)(N.a.mark((function e(t){var n,a,s,c,i,o;return N.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t({type:"FETCHED_CERTIFICATE",payload:null}),e.prev=1,e.next=4,pe();case 4:n=e.sent,e.next=11;break;case 7:return e.prev=7,e.t0=e.catch(1),console.error(e.t0),e.abrupt("return");case 11:return e.prev=11,e.next=14,n.getUserCert(r);case 14:a=e.sent,e.next=21;break;case 17:return e.prev=17,e.t1=e.catch(11),console.error(e.t1),e.abrupt("return");case 21:return t({type:"FETCHED_CERTIFICATE",payload:a}),s=a.certificate.image,e.prev=23,e.next=26,G(s);case 26:c=e.sent,e.next=33;break;case 29:return e.prev=29,e.t2=e.catch(23),console.error(e.t2),e.abrupt("return");case 33:return t({type:"FETCHED_CERTIFICATE_IMAGE",payload:c}),e.prev=34,e.next=37,n.getGroup(a.certificate.groupId);case 37:i=e.sent,a.certificate.group=i,t({type:"FETCHED_CERTIFICATE",payload:a}),e.next=46;break;case 42:return e.prev=42,e.t3=e.catch(34),console.error(e.t3),e.abrupt("return");case 46:return e.prev=46,e.next=49,n.getProfile(a.to);case 49:o=e.sent,a.to=o.name,t({type:"FETCHED_CERTIFICATE",payload:a}),e.next=58;break;case 54:return e.prev=54,e.t4=e.catch(46),console.error(e.t4),e.abrupt("return");case 58:case"end":return e.stop()}}),e,null,[[1,7],[11,17],[23,29],[34,42],[46,54]])})));return function(t){return e.apply(this,arguments)}}()))},fetchCertificates:function(){e(function(){var e=Object(v.a)(N.a.mark((function e(t,r){var n,a,s,c,i,o;return N.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t({type:"FETCHED_CERTIFICATES",payload:null}),n=r().state,""!==(a=n.from)&&a){e.next=6;break}return f.push("/top"),e.abrupt("return");case 6:return e.prev=6,e.next=9,pe();case 9:s=e.sent,e.next=16;break;case 12:return e.prev=12,e.t0=e.catch(6),console.error(e.t0),e.abrupt("return");case 16:return e.prev=16,e.next=19,s.getReceivedUserCerts(a);case 19:c=e.sent,e.next=26;break;case 22:return e.prev=22,e.t1=e.catch(16),console.error(e.t1),e.abrupt("return");case 26:for(i=function(e){s.getGroup(c[e].certificate.groupId).then((function(r){c[e].certificate.groupName=r.name,t({type:"FETCHED_CERTIFICATES",payload:c})})),G(c[e].certificate.image).then((function(r){c[e].certificate.imageUrl=r,t({type:"FETCHED_CERTIFICATES",payload:c})}))},o=0;o<c.length;o++)i(o);t({type:"FETCHED_CERTIFICATES",payload:c});case 29:case"end":return e.stop()}}),e,null,[[6,12],[16,22]])})));return function(t,r){return e.apply(this,arguments)}}())},fetchGroups:function(){e(function(){var e=Object(v.a)(N.a.mark((function e(t,r){var n,a,s,c;return N.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,de();case 3:n=e.sent,e.next=10;break;case 6:return e.prev=6,e.t0=e.catch(0),console.error(e.t0),e.abrupt("return");case 10:return a=r().state,s=a.from,e.prev=12,e.next=15,n.getGroups(s);case 15:c=e.sent,e.next=22;break;case 18:return e.prev=18,e.t1=e.catch(12),console.error(e.t1),e.abrupt("return");case 22:t({type:"FETCHED_GROUPS",payload:c});case 23:case"end":return e.stop()}}),e,null,[[0,6],[12,18]])})));return function(t,r){return e.apply(this,arguments)}}())},fetchGroup:function(t){e(function(){var e=Object(v.a)(N.a.mark((function e(t,r){return N.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t({type:"FETCHED_GROUP",payload:null}),e.prev=1,e.next=4,pe();case 4:e.sent,e.next=11;break;case 7:return e.prev=7,e.t0=e.catch(1),console.error(e.t0),e.abrupt("return");case 11:case"end":return e.stop()}}),e,null,[[1,7]])})));return function(t,r){return e.apply(this,arguments)}}())},fetchGroupInEdit:function(t){e(function(e){return function(){var t=Object(v.a)(N.a.mark((function t(r,n){var a,s;return N.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return r({type:"ON_CHANGE_GROUP_ID_IN_EDIT",payload:e}),r({type:"FETCHED_GROUP_IN_EDIT",payload:null}),t.prev=2,t.next=5,pe();case 5:a=t.sent,t.next=12;break;case 8:return t.prev=8,t.t0=t.catch(2),console.error(t.t0),t.abrupt("return");case 12:return n().state,t.prev=13,t.next=16,a.getGroup(e);case 16:s=t.sent,t.next=23;break;case 19:return t.prev=19,t.t1=t.catch(13),console.error(t.t1),t.abrupt("return");case 23:r({type:"FETCHED_GROUP_IN_EDIT",payload:s});case 24:case"end":return t.stop()}}),t,null,[[2,8],[13,19]])})));return function(e,r){return t.apply(this,arguments)}}()}(t))},fetchCertificatesInIssuer:function(){e(he())},fetchCertificateInIssue:function(t){e(function(e){return function(){var t=Object(v.a)(N.a.mark((function t(r){var n,a;return N.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,pe();case 3:n=t.sent,t.next=10;break;case 6:return t.prev=6,t.t0=t.catch(0),console.error(t.t0),t.abrupt("return");case 10:return t.prev=10,t.next=13,n.getCert(e);case 13:a=t.sent,t.next=20;break;case 16:return t.prev=16,t.t1=t.catch(10),console.error(t.t1),t.abrupt("return");case 20:r({type:"FETCHED_CERTIFICATE_IN_ISSUE",payload:a});case 21:case"end":return t.stop()}}),t,null,[[0,6],[10,16]])})));return function(e){return t.apply(this,arguments)}}()}(t))},fetchGroupsInSidebar:function(){e(function(){var e=Object(v.a)(N.a.mark((function e(t,r){var n,a,s;return N.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,de();case 3:n=e.sent,e.next=10;break;case 6:return e.prev=6,e.t0=e.catch(0),console.error(e.t0),e.abrupt("return");case 10:return a=n.address,e.prev=11,e.next=14,n.getGroups(a);case 14:s=e.sent,e.next=21;break;case 17:return e.prev=17,e.t1=e.catch(11),console.error(e.t1),e.abrupt("return");case 21:t({type:"FETCHED_GROUPS_IN_SIDEBAR",payload:s});case 22:case"end":return e.stop()}}),e,null,[[0,6],[11,17]])})));return function(t,r){return e.apply(this,arguments)}}())},fetchProfileInEdit:function(){e(function(){var e=Object(v.a)(N.a.mark((function e(t,r){var n,a;return N.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t({type:"FETCHED_PROFILE_IN_EDIT",payload:null}),e.prev=1,e.next=4,de();case 4:n=e.sent,e.next=11;break;case 7:return e.prev=7,e.t0=e.catch(1),console.error(e.t0),e.abrupt("return");case 11:return e.prev=11,e.next=14,n.getProfile(n.address);case 14:a=e.sent,e.next=22;break;case 17:return e.prev=17,e.t1=e.catch(11),console.error(e.t1),alert("Failed to fetch profile."),e.abrupt("return");case 22:t({type:"FETCHED_PROFILE_IN_EDIT",payload:a}),t({type:"ON_CHANGE_PROFILE_NAME_IN_EDIT",payload:a.name}),t({type:"ON_CHANGE_PROFILE_EMAIL_IN_EDIT",payload:a.email}),G(a.icon).then((function(e){a.imageUrl=e,t({type:"FETCHED_PROFILE_IN_EDIT",payload:a})})).catch((function(e){console.error(e)}));case 26:case"end":return e.stop()}}),e,null,[[1,7],[11,17]])})));return function(t,r){return e.apply(this,arguments)}}())},signIn:function(){e(function(){var e=Object(v.a)(N.a.mark((function e(t){var r;return N.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,de();case 2:if((r=e.sent).address){e.next=6;break}return console.log("Failed to login."),e.abrupt("return");case 6:return console.log(r.address),t({type:"LOGGED_IN",payload:r.address}),e.prev=8,e.next=11,r.getProfile(r.address);case 11:e.sent,e.next=19;break;case 14:return e.prev=14,e.t0=e.catch(8),console.error(e.t0),f.push("/profile/new"),e.abrupt("return");case 19:f.push("/");case 20:case"end":return e.stop()}}),e,null,[[8,14]])})));return function(t){return e.apply(this,arguments)}}())},registerGroup:function(){e(function(){var e=Object(v.a)(N.a.mark((function e(t,r){var n,a,s,c,i,o;return N.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,de();case 3:n=e.sent,e.next=10;break;case 6:return e.prev=6,e.t0=e.catch(0),console.error(e.t0),e.abrupt("return");case 10:return a=r().state,s=a.from,c=a.groupName,i=a.groupAddress,o=a.groupPhone,e.prev=15,e.next=18,n.createGroup(c,i,o,s);case 18:e.next=25;break;case 20:return e.prev=20,e.t1=e.catch(15),console.error(e.t1),alert("Failed to create group."),e.abrupt("return");case 25:return e.next=27,be();case 27:f.push("/new");case 28:case"end":return e.stop()}}),e,null,[[0,6],[15,20]])})));return function(t,r){return e.apply(this,arguments)}}())},updateGroup:function(){e(function(){var e=Object(v.a)(N.a.mark((function e(t,r){var n,a,s,c,i,o,u,p;return N.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,de();case 3:n=e.sent,e.next=10;break;case 6:return e.prev=6,e.t0=e.catch(0),console.error(e.t0),e.abrupt("return");case 10:if(null!==(a=r().state).groupInSidebar){e.next=14;break}return alert("Please choose group on sidebar."),e.abrupt("return");case 14:return s=a.groupInSidebar.groupId,c=a.groupNameInEdit,i=a.groupAddressInEdit,o=a.groupPhoneInEdit,u={groupId:s,name:c,residence:i,phone:o},e.next=21,n.signGroup(u,{address:n.address});case 21:return p=e.sent,e.prev=22,e.next=25,n.updateGroup(p);case 25:e.next=32;break;case 27:return e.prev=27,e.t1=e.catch(22),console.error(e.t1),alert("Failed to update group."),e.abrupt("return");case 32:f.push("/");case 33:case"end":return e.stop()}}),e,null,[[0,6],[22,27]])})));return function(t,r){return e.apply(this,arguments)}}())},updateProfile:function(){e(function(){var e=Object(v.a)(N.a.mark((function e(t,r){var n,a,s,c,i,o,u,p,l;return N.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,de();case 3:n=e.sent,e.next=10;break;case 6:return e.prev=6,e.t0=e.catch(0),console.error(e.t0),e.abrupt("return");case 10:if(a=r().state,s=a.profileNameInEdit,c=a.profileEmailInEdit,""!==(i=a.profileImageInEdit)){e.next=18;break}o=null!==a.profileInEdit?a.profileInEdit.icon:"",e.next=21;break;case 18:return e.next=20,n.uploadImageToIpfs(i);case 20:o=e.sent;case 21:return u=n.address,p={name:s,email:c,icon:o},console.log(p),e.next=26,n.signProfileForUpdating(p,{address:u});case 26:return l=e.sent,e.prev=27,e.next=30,n.updateProfile(l);case 30:e.next=37;break;case 32:return e.prev=32,e.t1=e.catch(27),console.error(e.t1),alert("Failed to update your profile."),e.abrupt("return");case 37:f.push("/");case 38:case"end":return e.stop()}}),e,null,[[0,6],[27,32]])})));return function(t,r){return e.apply(this,arguments)}}())},registerProfile:function(){e(function(){var e=Object(v.a)(N.a.mark((function e(t,r){var n,a,s,c,i,o,u,p;return N.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,de();case 3:n=e.sent,e.next=10;break;case 6:return e.prev=6,e.t0=e.catch(0),console.error(e.t0),e.abrupt("return");case 10:return a=r().state,s=a.profileName,c=a.profileEmail,i=a.profileImage,o=a.from,e.prev=15,e.next=18,n.uploadImageToIpfs(i);case 18:u=e.sent,e.next=26;break;case 21:return e.prev=21,e.t1=e.catch(15),console.error(e.t1),alert("Failed to upload image to IPFS."),e.abrupt("return");case 26:return e.prev=26,e.next=29,n.signProfile({name:s,email:c,icon:u},{address:o});case 29:p=e.sent,e.next=37;break;case 32:return e.prev=32,e.t2=e.catch(26),console.error(e.t2),alert("Failed to sign profile."),e.abrupt("return");case 37:return e.prev=37,e.next=40,n.createProfile(o,p);case 40:e.next=47;break;case 42:return e.prev=42,e.t3=e.catch(37),console.error(e.t3),alert("Failed to register profile."),e.abrupt("return");case 47:f.push("/");case 48:case"end":return e.stop()}}),e,null,[[0,6],[15,21],[26,32],[37,42]])})));return function(t,r){return e.apply(this,arguments)}}())},inviteMember:function(){e(function(){var e=Object(v.a)(N.a.mark((function e(t,r){var n,a,s,c,i,o,u,p;return N.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,de();case 3:n=e.sent,e.next=10;break;case 6:return e.prev=6,e.t0=e.catch(0),console.error(e.t0),e.abrupt("return");case 10:return a=r().state,s=a.from,c=a.group.groupId,i=a.groupMemberToInvite,e.prev=14,e.next=17,ie.getPublicAddressByGoogle(i);case 17:o=e.sent,e.next=25;break;case 20:return e.prev=20,e.t1=e.catch(14),console.error(e.t1),alert("Email is not registered."),e.abrupt("return");case 25:return e.prev=25,e.next=28,n.signMemberAddressForInviting(o,{address:s});case 28:u=e.sent,e.next=36;break;case 31:return e.prev=31,e.t2=e.catch(25),console.error(e.t2),alert("Failed to sign for invitation."),e.abrupt("return");case 36:return e.prev=36,e.next=39,n.inviteMemberToGroup(c,u);case 39:e.next=46;break;case 41:return e.prev=41,e.t3=e.catch(36),console.error(e.t3),alert("Failed to send invitation."),e.abrupt("return");case 46:return e.prev=46,e.next=49,n.getGroup(c);case 49:p=e.sent,e.next=56;break;case 52:return e.prev=52,e.t4=e.catch(46),console.error(e.t4),e.abrupt("return");case 56:t({type:"FETCHED_GROUP",payload:p});case 57:case"end":return e.stop()}}),e,null,[[0,6],[14,20],[25,31],[36,41],[46,52]])})));return function(t,r){return e.apply(this,arguments)}}())},issue:function(t){e(function(e){return function(){var t=Object(v.a)(N.a.mark((function t(r,n){var a,s,c,i,o,u,p;return N.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,de();case 3:a=t.sent,t.next=10;break;case 6:return t.prev=6,t.t0=t.catch(0),console.error(t.t0),t.abrupt("return");case 10:return s=n().state,c=s.from,s.from,i=s.toInIssue,t.prev=14,t.next=17,ie.getPublicAddressByGoogle(i);case 17:o=t.sent,t.next=25;break;case 20:return t.prev=20,t.t1=t.catch(14),console.error(t.t1),alert("Failed to get public address of the Google account."),t.abrupt("return");case 25:return u={certId:e,from:c,to:o},t.prev=26,t.next=29,a.signUserCertificate(u,{address:c});case 29:p=t.sent,t.next=37;break;case 32:return t.prev=32,t.t2=t.catch(26),console.error(t.t2),alert("Failed to sign the certificate."),t.abrupt("return");case 37:return t.prev=37,t.next=40,a.createUserCert(p);case 40:t.next=47;break;case 42:return t.prev=42,t.t3=t.catch(37),console.error(t.t3),alert("Failed to issue the certificate."),t.abrupt("return");case 47:return t.next=49,be();case 49:f.push("/");case 50:case"end":return t.stop()}}),t,null,[[0,6],[14,20],[26,32],[37,42]])})));return function(e,r){return t.apply(this,arguments)}}()}(t))},disableGroupMember:function(t,r){e(function(e,t){return function(){var r=Object(v.a)(N.a.mark((function r(n,a){var s,c;return N.a.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.prev=0,r.next=3,de();case 3:s=r.sent,r.next=10;break;case 6:return r.prev=6,r.t0=r.catch(0),console.error(r.t0),r.abrupt("return");case 10:return a().state,r.next=13,s.signMemberAddressForDisabling(t,{address:s.address});case 13:return c=r.sent,r.prev=14,r.next=17,s.disableGroupMember(e,c);case 17:r.next=23;break;case 19:return r.prev=19,r.t1=r.catch(14),console.error(r.t1),r.abrupt("return");case 23:case"end":return r.stop()}}),r,null,[[0,6],[14,19]])})));return function(e,t){return r.apply(this,arguments)}}()}(t,r))},invalidateUserCert:function(t){e(function(e){return function(){var t=Object(v.a)(N.a.mark((function t(r,n){var a,s,c,i,o,u,p,l,d,f,b,h;return N.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,de();case 3:a=t.sent,t.next=10;break;case 6:return t.prev=6,t.t0=t.catch(0),console.error(t.t0),t.abrupt("return");case 10:return t.next=12,a.signUserCertForInvalidation(e,{address:a.address});case 12:return s=t.sent,console.log(s),t.prev=14,t.next=17,a.invalidateUserCert(s);case 17:t.next=23;break;case 19:return t.prev=19,t.t1=t.catch(14),console.error(t.t1),t.abrupt("return");case 23:return t.next=25,be();case 25:return n().state,c=a.address,t.prev=27,t.next=30,a.getGroups(c);case 30:i=t.sent,t.next=38;break;case 33:return t.prev=33,t.t2=t.catch(27),console.error(t.t2),alert("Failed to fetch your groups"),t.abrupt("return");case 38:o=[],u=Object(ee.a)(i),t.prev=40,u.s();case 42:if((p=u.n()).done){t.next=59;break}return l=p.value,d=l.groupId,t.prev=45,t.t3=o,t.next=49,a.getGroupCerts(d);case 49:t.t4=t.sent,o=t.t3.concat.call(t.t3,t.t4),t.next=57;break;case 53:return t.prev=53,t.t5=t.catch(45),console.error(t.t5),t.abrupt("continue",57);case 57:t.next=42;break;case 59:t.next=64;break;case 61:t.prev=61,t.t6=t.catch(40),u.e(t.t6);case 64:return t.prev=64,u.f(),t.finish(64);case 67:for(f=0;f<o.length;f++)o[f].userCerts=[];r({type:"FETCHED_CERTIFICATES_IN_ISSUER",payload:o}),b=N.a.mark((function e(t){var n,s,c;return N.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,a.getIssuedUserCerts(o[t].id);case 2:n=e.sent,o[t].userCerts=n,r({type:"FETCHED_CERTIFICATES_IN_ISSUER",payload:o}),s=0;case 6:if(!(s<n.length)){e.next=14;break}return e.next=9,a.getProfile(n[s].to);case 9:c=e.sent,o[t].userCerts[s].profile=c;case 11:s++,e.next=6;break;case 14:G(o[t].image).then((function(e){o[t].imageUrl=e,r({type:"FETCHED_CERTIFICATES_IN_ISSUER",payload:o})})).catch((function(e){console.error(e)}));case 15:case"end":return e.stop()}}),e)})),h=0;case 71:if(!(h<o.length)){t.next=76;break}return t.delegateYield(b(h),"t7",73);case 73:h++,t.next=71;break;case 76:case"end":return t.stop()}}),t,null,[[0,6],[14,19],[27,33],[40,61,64,67],[45,53]])})));return function(e,r){return t.apply(this,arguments)}}()}(t))},signOut:function(){e(function(){var e=Object(v.a)(N.a.mark((function e(t){return N.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t({type:"SIGN_OUT",payload:null}),f.push("/top");case 2:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}())}}}))(Object(H.f)(M));c.a.render(Object(h.jsx)(B.a,{store:$,children:Object(h.jsx)(b.a,{history:f,children:Object(h.jsx)(je,{})})}),document.getElementById("root")),L()},460:function(e,t,r){},537:function(e,t){},544:function(e,t){},559:function(e,t){},560:function(e,t){},769:function(e,t,r){},835:function(e,t){},836:function(e,t){},863:function(e,t){},865:function(e,t){},876:function(e,t){},878:function(e,t){},997:function(e,t){},999:function(e,t){}},[[1261,1,2]]]);
//# sourceMappingURL=main.3d758623.chunk.js.map