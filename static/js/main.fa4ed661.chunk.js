(this["webpackJsonpgxcert-react2"]=this["webpackJsonpgxcert-react2"]||[]).push([[0],{1001:function(e,t){},1008:function(e,t){},1009:function(e,t){},1032:function(e,t){},1039:function(e,t){},1146:function(e,t){},1263:function(e,t,r){"use strict";r.r(t);var n=r(2),a=r.n(n),s=r(190),c=r.n(s),i=(r(461),r(36)),o=r(9),u=r(10),p=r(13),l=r(12),d=(r.p,r(448)),f=r.n(d)()(),h=r(28),b=r(0);var j=function(e){return Object(b.jsxs)("header",{className:"App-header",children:[Object(b.jsxs)("div",{className:"header-wrapper",children:[Object(b.jsx)(h.b,{to:"/top",className:"logo",children:"GxCert"}),e.isLoggedIn?Object(b.jsx)(h.b,{to:"/",className:"header-left-link",children:"OBTAINED"}):"",e.isLoggedIn?Object(b.jsx)(h.b,{to:"/issue",className:"header-left-link",children:"ISSUE"}):""]}),e.isLoggedIn?Object(b.jsxs)("div",{className:"header-right-links",children:[Object(b.jsx)(h.b,{to:"/profile/edit",className:"edit-profile-button",children:"PROFILE"}),Object(b.jsx)("div",{className:"sign-out-button",onClick:e.signOut,children:"SIGN OUT"})]}):Object(b.jsx)("div",{className:"sign-in-button",onClick:function(){return f.push("/signup")},children:"SIGN IN"})]})},O=function(e){Object(p.a)(r,e);var t=Object(l.a)(r);function r(){return Object(o.a)(this,r),t.call(this)}return Object(u.a)(r,[{key:"render",value:function(){return Object(b.jsxs)("footer",{children:[Object(b.jsx)("div",{className:"footer-message",children:"\u3053\u306e\u30a2\u30d7\u30ea\u30b1\u30fc\u30b7\u30e7\u30f3\u306f\u3001\u901a\u8ca8MATIC\u306e\u5bc4\u4ed8\u306b\u3088\u308a\u3001\u30c7\u30fc\u30bf\u306e\u66f8\u304d\u8fbc\u307f\u30fb\u5909\u66f4\u304c\u3067\u304d\u307e\u3059\u3002"}),Object(b.jsx)("div",{className:"footer-app",children:"Copyright Gaiax inc."})]})}}]),r}(a.a.Component);var g=function(){return Object(b.jsxs)("div",{className:"top",children:[Object(b.jsx)("div",{className:"top-left"}),Object(b.jsxs)("div",{className:"top-right",children:[Object(b.jsx)("p",{className:"concept",children:"\u78ba\u304b\u306a\u8a3c\u660e\u66f8\u3092\u8ab0\u306b\u3067\u3082\u7c21\u5358\u306b"}),Object(b.jsx)("p",{className:"concept-large",children:"\u30d6\u30ed\u30c3\u30af\u30c1\u30a7\u30fc\u30f3\u6280\u8853\u306b\u3088\u308b\u3001\u6539\u3056\u3093\u3055\u308c\u306a\u3044\u78ba\u304b\u306a\u8a3c\u660e\u66f8\u3092\u7c21\u5358\u306b\u767a\u884c\u3001\u53d7\u3051\u53d6\u308a\u3059\u308b\u3053\u3068\u304c\u3067\u304d\u307e\u3059\u3002"}),Object(b.jsx)(h.b,{to:"/signup",children:Object(b.jsx)("div",{className:"sign-up",children:"SIGN UP"})})]})]})};var m=function(e){return Object(b.jsx)("div",{className:"sign-in",children:Object(b.jsxs)("div",{className:"sign-in-content",children:[Object(b.jsx)("p",{className:"sign-in-message",children:"\u30b5\u30fc\u30d3\u30b9\u306e\u5229\u7528\u306b\u306fGoogle\u30a2\u30ab\u30a6\u30f3\u30c8\u3067\u306e\u8a8d\u8a3c\u304c\u5fc5\u9808\u3067\u3059\u3002Google\u30a2\u30ab\u30a6\u30f3\u30c8\u3067\u8a8d\u8a3c\u3092\u884c\u3063\u305f\u5f8c\u3001\u767b\u9332\u3092\u5b8c\u4e86\u3055\u305b\u3066\u304f\u3060\u3055\u3044\u3002"}),Object(b.jsx)("img",{src:"/google.png",onClick:e.signIn})]})})};var x=r(50),I=r.n(x),v=function(e){Object(p.a)(r,e);var t=Object(l.a)(r);function r(){return Object(o.a)(this,r),t.call(this)}return Object(u.a)(r,[{key:"componentDidMount",value:function(){this.props.fetchCertificates()}},{key:"render",value:function(){return Object(b.jsx)("div",{className:"certificates",children:Object(b.jsxs)("div",{className:"certificates-content",children:[Object(b.jsx)("p",{className:"certificates-title",children:"\u8a3c\u660e\u66f8"}),Object(b.jsx)("div",{className:"certificates-list",children:null!==this.props.userCerts?this.props.userCerts.map((function(e,t){return Object(b.jsx)(h.b,{to:"/certs/"+e.userCertId,children:Object(b.jsxs)("div",{className:"certificates-list-cell",children:[Object(b.jsx)("img",{src:e.certificate.imageUrl,className:"certificates-list-cell-icon"}),Object(b.jsxs)("div",{className:"certificates-list-cell-detail",children:[Object(b.jsx)("p",{className:"certificates-list-cell-title",children:e.certificate.title}),Object(b.jsx)("p",{className:"certificates-list-cell-by",children:e.certificate.groupName}),Object(b.jsx)("p",{className:"certificates-list-cell-date",children:new Date(1e3*parseInt(e.timestamp)).toISOString()})]})]})})})):Object(b.jsx)(I.a,{type:"Puff",color:"#00BFFF",height:100,width:100})})]})})}}]),r}(a.a.Component),N=r(15),E=r(1),C=r.n(E),y=r(152),_=r(260)({host:"ipfs.infura.io",port:5001,protocol:"https"});function G(e){var t=new Blob([e]);return(window.URL||window.webkitURL).createObjectURL(t)}var w=function(e,t){var r=new Uint8Array(e.byteLength+t.byteLength);return r.set(new Uint8Array(e),0),r.set(new Uint8Array(t),e.byteLength),r.buffer};function k(e){var t,r,n,a,s,c,i,o,u,p,l,d,f,h,b,j;return C.a.async((function(O){for(;;)switch(O.prev=O.next){case 0:return O.next=2,C.a.awrap(_.get(e));case 2:t=O.sent,r=!0,n=!1,O.prev=5,s=Object(y.a)(t);case 7:return O.next=9,C.a.awrap(s.next());case 9:return c=O.sent,r=c.done,O.next=13,C.a.awrap(c.value);case 13:if(i=O.sent,r){O.next=56;break}o=i,console.log(o),u=new ArrayBuffer(0),p=!0,l=!1,O.prev=20,f=Object(y.a)(o.content);case 22:return O.next=24,C.a.awrap(f.next());case 24:return h=O.sent,p=h.done,O.next=28,C.a.awrap(h.value);case 28:if(b=O.sent,p){O.next=35;break}u=w(u,b);case 32:p=!0,O.next=22;break;case 35:O.next=41;break;case 37:O.prev=37,O.t0=O.catch(20),l=!0,d=O.t0;case 41:if(O.prev=41,O.prev=42,p||null==f.return){O.next=46;break}return O.next=46,C.a.awrap(f.return());case 46:if(O.prev=46,!l){O.next=49;break}throw d;case 49:return O.finish(46);case 50:return O.finish(41);case 51:return j=G(u),O.abrupt("return",j);case 53:r=!0,O.next=7;break;case 56:O.next=62;break;case 58:O.prev=58,O.t1=O.catch(5),n=!0,a=O.t1;case 62:if(O.prev=62,O.prev=63,r||null==s.return){O.next=67;break}return O.next=67,C.a.awrap(s.return());case 67:if(O.prev=67,!n){O.next=70;break}throw a;case 70:return O.finish(67);case 71:return O.finish(62);case 72:return O.abrupt("return",null);case 73:case"end":return O.stop()}}),null,null,[[5,58,62,72],[20,37,41,51],[42,,46,50],[63,,67,71]],Promise)}var S=r(449),A=r.n(S);var T={web3Host:"https://matic-mumbai.chainstacklabs.com",contractAddress:"0xE19F38e0fA7B005E8E62E837B0D79C8558fAd8E0",gxApi:"https://asia-northeast1-gxcert-21233.cloudfunctions.net/gxcert",host:"https://gaiax.github.io/gxcert-react2/#"},D=function(e){Object(p.a)(r,e);var t=Object(l.a)(r);function r(){return Object(o.a)(this,r),t.call(this)}return Object(u.a)(r,[{key:"componentDidMount",value:function(){var e=parseInt(this.props.match.params.id);this.props.fetchCertificate(e)}},{key:"render",value:function(){return console.log(this.props.userCert),Object(b.jsxs)("div",{className:"certificate",children:[this.props.userCert&&this.props.userCert.certificate?Object(b.jsx)("div",{className:"hidden",children:Object(b.jsxs)("div",{className:"certificate-content-export",id:"certificate-content-export",children:[Object(b.jsx)("p",{className:"certificate-title",children:this.props.userCert.certificate.title}),Object(b.jsx)("img",{src:this.props.certificateImage,className:"certificate-icon"}),Object(b.jsxs)("table",{className:"certificate-detail",children:[Object(b.jsxs)("tr",{children:[Object(b.jsx)("td",{children:"Issue Date: "}),Object(b.jsx)("td",{children:new Date(parseInt(1e3*this.props.userCert.timestamp)).toISOString()})]}),Object(b.jsxs)("tr",{children:[Object(b.jsx)("td",{children:"Issuer: "}),Object(b.jsx)("td",{children:this.props.userCert.certificate.group?this.props.userCert.certificate.group.name:""})]}),Object(b.jsxs)("tr",{children:[Object(b.jsx)("td",{children:"To: "}),Object(b.jsx)("td",{children:this.props.userCert.to})]}),Object(b.jsxs)("tr",{children:[Object(b.jsx)("td",{children:"Title: "}),Object(b.jsx)("td",{children:this.props.userCert.certificate.title})]}),Object(b.jsxs)("tr",{children:[Object(b.jsx)("td",{children:"Description: "}),Object(b.jsx)("td",{children:this.props.userCert.certificate.description})]})]}),Object(b.jsx)("a",{id:"cert-link",download:"cert.png",href:""})]})}):"",this.props.userCert&&this.props.userCert.certificate?Object(b.jsxs)("div",{className:"certificate-content",id:"certificate-content",children:[Object(b.jsx)("p",{className:"certificate-title",children:this.props.userCert.certificate.title}),Object(b.jsx)("img",{src:this.props.certificateImage,className:"certificate-icon"}),Object(b.jsxs)("table",{className:"certificate-detail",children:[Object(b.jsxs)("tr",{children:[Object(b.jsx)("td",{children:"Issue Date: "}),Object(b.jsx)("td",{children:new Date(parseInt(1e3*this.props.userCert.timestamp)).toISOString()})]}),Object(b.jsxs)("tr",{children:[Object(b.jsx)("td",{children:"Issuer: "}),Object(b.jsx)("td",{children:this.props.userCert.certificate.group?Object(b.jsx)("a",{href:T.host+"/group/"+this.props.userCert.certificate.group.groupId,children:this.props.userCert.certificate.group.name}):""})]}),Object(b.jsxs)("tr",{children:[Object(b.jsx)("td",{children:"To: "}),Object(b.jsx)("td",{children:this.props.userCert.to})]}),Object(b.jsxs)("tr",{children:[Object(b.jsx)("td",{children:"Title: "}),Object(b.jsx)("td",{children:this.props.userCert.certificate.title})]}),Object(b.jsxs)("tr",{children:[Object(b.jsx)("td",{children:"Description: "}),Object(b.jsx)("td",{children:this.props.userCert.certificate.description})]})]}),Object(b.jsx)("a",{id:"cert-link",download:"cert.png",href:""}),Object(b.jsxs)("div",{className:"certificate-buttons",children:[Object(b.jsx)("div",{className:"certificate-button",onClick:function(){!function(e){var t=document.createElement("input");document.body.appendChild(t),t.setAttribute("value",e),t.select(),document.execCommand("copy"),document.body.removeChild(t)}(window.location.href),alert("\u30b3\u30d4\u30fc\u3057\u307e\u3057\u305f")},children:"\u53c2\u7167URL\u306e\u767a\u884c"}),Object(b.jsx)("div",{className:"certificate-button",onClick:function(){A.a.toPng(document.getElementById("certificate-content-export")).then((function(e){document.getElementById("cert-link").href=e,document.getElementById("cert-link").click()})).catch((function(e){console.error(e),alert("\u8a3c\u660e\u66f8\u306e\u66f8\u304d\u51fa\u3057\u306b\u5931\u6557\u3057\u307e\u3057\u305f")}))},children:"\u8a3c\u660e\u66f8\u306e\u30c0\u30a6\u30f3\u30ed\u30fc\u30c9"})]})]}):Object(b.jsx)(I.a,{type:"Puff",color:"#00BFFF",height:100,width:100})]})}}]),r}(a.a.Component),P=function(e){Object(p.a)(r,e);var t=Object(l.a)(r);function r(){return Object(o.a)(this,r),t.call(this)}return Object(u.a)(r,[{key:"componentDidMount",value:function(){this.props.fetchGroupsInSidebar()}},{key:"render",value:function(){var e=this,t="";try{t=G(this.props.image)}catch(r){console.error(r)}return Object(b.jsxs)("div",{className:"new-cert",children:[Object(b.jsxs)("div",{className:"sidebar",children:[Object(b.jsx)("p",{className:"sidebar-title",children:"ISSUE"}),Object(b.jsxs)("select",{className:"sidebar-group",onChange:this.props.onChangeGroupInSidebar,defaultValue:null!==this.props.groupInSidebar?this.props.groupInSidebar.groupId.toString():"",children:[Object(b.jsx)("option",{hidden:!0,children:"Choose group"}),null!==this.props.groupsInSidebar?this.props.groupsInSidebar.map((function(e){return Object(b.jsx)("option",{value:e.groupId.toString(),children:e.name})})):"",Object(b.jsx)("option",{value:"new",children:"Create new group"})]}),Object(b.jsxs)("ul",{children:[Object(b.jsx)("li",{children:Object(b.jsx)(h.b,{to:"/issue",children:"CERTIFICATE"})}),Object(b.jsx)("li",{children:Object(b.jsx)(h.b,{to:"/group",children:"MEMBERS"})}),Object(b.jsx)("li",{children:Object(b.jsx)(h.b,{to:"/group/edit/",children:"ISSUER"})})]})]}),Object(b.jsxs)("div",{className:"new-cert-content",children:[Object(b.jsxs)("p",{className:"new-cert-title",children:[null!==this.props.groupInSidebar?this.props.groupInSidebar.name+"\u306e":"","\u8a3c\u660e\u66f8\u306e\u767b\u9332"]}),Object(b.jsx)("p",{className:"new-cert-description",children:"\u8a3c\u660e\u66f8\u3092\u767b\u9332\u3057\u3066\u304f\u3060\u3055\u3044\u3002\u8a3c\u660e\u66f8\u306f\u8907\u6570\u767b\u9332\u3059\u308b\u3053\u3068\u304c\u3067\u304d\u3001\u305d\u308c\u305e\u308c\u306e\u8907\u6570\u306e\u30e6\u30fc\u30b6\u30fc\u306b\u5bfe\u3057\u3066\u767a\u884c\u3059\u308b\u3053\u3068\u304c\u3067\u304d\u307e\u3059\u3002"}),Object(b.jsxs)("div",{className:"new-cert-form",children:[Object(b.jsx)("p",{className:"new-cert-form-title",children:"Title of Certificate"}),Object(b.jsx)("input",{type:"text",className:"new-cert-form-name",onChange:this.props.onChangeTitle}),Object(b.jsx)("p",{className:"new-cert-form-title",children:"Description of Certificate"}),Object(b.jsx)("textarea",{className:"new-cert-form-description",onChange:this.props.onChangeDescription}),Object(b.jsx)("p",{className:"new-cert-form-title",children:"Certificate Image"}),Object(b.jsx)("img",{src:t,className:"new-cert-form-image"}),Object(b.jsx)("div",{className:"new-cert-form-image-file-div",children:Object(b.jsxs)("label",{className:"new-cert-form-image-file-label",children:[Object(b.jsx)("input",{type:"file",className:"new-cert-form-image-file",onChange:this.props.onChangeImage}),"\u753b\u50cf\u9078\u629e"]})}),Object(b.jsx)("div",{className:"register-button",onClick:function(){return e.props.sign()},children:"\u767b\u9332"})]})]})]})}}]),r}(a.a.Component),F=function(e){Object(p.a)(r,e);var t=Object(l.a)(r);function r(){return Object(o.a)(this,r),t.call(this)}return Object(u.a)(r,[{key:"render",value:function(){var e="";try{e=G(this.props.image)}catch(t){console.error(t)}return Object(b.jsx)("div",{className:"new-profile",children:Object(b.jsxs)("div",{className:"new-profile-content",children:[Object(b.jsx)("p",{className:"new-profile-title",children:"\u30e6\u30fc\u30b6\u30fc\u767b\u9332"}),Object(b.jsxs)("div",{className:"new-profile-form",children:[Object(b.jsxs)("div",{className:"new-profile-form-image",children:[Object(b.jsx)("label",{for:"new-profile-form-image-file",children:Object(b.jsx)("img",{src:e,className:"new-profile-form-image"})}),Object(b.jsx)("input",{id:"new-profile-form-image-file",type:"file",onChange:this.props.onChangeProfileImage})]}),Object(b.jsx)("p",{className:"new-profile-form-title",children:"Name"}),Object(b.jsx)("input",{type:"text",className:"new-profile-form-name",onChange:this.props.onChangeProfileName}),Object(b.jsx)("p",{className:"new-profile-form-title",children:"E-mail"}),Object(b.jsx)("input",{type:"text",className:"new-profile-form-email",onChange:this.props.onChangeProfileEmail}),Object(b.jsx)("div",{className:"register-button",onClick:this.props.registerProfile,children:"\u767b\u9332"})]})]})})}}]),r}(a.a.Component),R=function(e){Object(p.a)(r,e);var t=Object(l.a)(r);function r(){return Object(o.a)(this,r),t.call(this)}return Object(u.a)(r,[{key:"componentDidMount",value:function(){this.props.fetchProfile()}},{key:"render",value:function(){var e=null,t=null;if(null!==this.props.profile&&(t=this.props.profile.imageUrl),this.props.image)try{e=G(this.props.image)}catch(r){console.error(r)}return console.log(e),Object(b.jsx)("div",{className:"edit-profile",children:Object(b.jsxs)("div",{className:"edit-profile-content",children:[Object(b.jsx)("p",{className:"edit-profile-title",children:"\u30d7\u30ed\u30d5\u30a3\u30fc\u30eb\u7de8\u96c6"}),Object(b.jsxs)("div",{className:"edit-profile-form",children:[Object(b.jsxs)("div",{className:"edit-profile-form-image",children:[Object(b.jsx)("label",{for:"edit-profile-form-image-file",children:Object(b.jsx)("img",{src:null===e?t:e,className:"edit-profile-form-image"})}),Object(b.jsx)("input",{id:"edit-profile-form-image-file",type:"file",onChange:this.props.onChangeProfileImage})]}),Object(b.jsx)("p",{className:"edit-profile-form-title",children:"Name"}),Object(b.jsx)("input",{type:"text",className:"edit-profile-form-name",onChange:this.props.onChangeProfileName,defaultValue:null!==this.props.profile?this.props.profile.name:""}),Object(b.jsx)("p",{className:"edit-profile-form-title",children:"E-mail"}),Object(b.jsx)("input",{type:"text",className:"edit-profile-form-email",onChange:this.props.onChangeProfileEmail,defaultValue:null!==this.props.profile?this.props.profile.email:""}),Object(b.jsx)("div",{className:"register-button",onClick:this.props.updateProfile,children:"\u66f4\u65b0"})]})]})})}}]),r}(a.a.Component),H=function(e){Object(p.a)(r,e);var t=Object(l.a)(r);function r(){return Object(o.a)(this,r),t.call(this)}return Object(u.a)(r,[{key:"render",value:function(){return Object(b.jsx)("div",{className:"new-group",children:Object(b.jsxs)("div",{className:"new-group-content",children:[Object(b.jsx)("p",{className:"new-group-title",children:"\u767a\u884c\u5143\u306e\u767b\u9332"}),Object(b.jsx)("p",{className:"new-group-description",children:"\u8a3c\u660e\u66f8\u306e\u767a\u884c\u306b\u306f\u767a\u884c\u5143\u3068\u306a\u308b\u56e3\u4f53\uff08\u4f01\u696d\u3001\u6559\u80b2\u6a5f\u95a2\u3001NPO\u6cd5\u4eba\u306a\u3069\uff09\u306e\u767b\u9332\u304c\u5fc5\u8981\u3067\u3059\u3002"}),Object(b.jsxs)("div",{className:"new-group-form",children:[Object(b.jsx)("p",{className:"new-group-form-title",children:"Name"}),Object(b.jsx)("input",{type:"text",className:"new-group-form-name",onChange:this.props.onChangeGroupName}),Object(b.jsx)("p",{className:"new-group-form-title",children:"Address"}),Object(b.jsx)("input",{type:"text",className:"new-group-form-address",onChange:this.props.onChangeGroupAddress}),Object(b.jsx)("p",{className:"new-group-form-title",children:"Phone"}),Object(b.jsx)("input",{type:"text",className:"new-group-form-phone",onChange:this.props.onChangeGroupPhone}),Object(b.jsx)("div",{className:"register-button",onClick:this.props.registerGroup,children:"\u767b\u9332"})]})]})})}}]),r}(a.a.Component),U=function(e){Object(p.a)(r,e);var t=Object(l.a)(r);function r(){return Object(o.a)(this,r),t.call(this)}return Object(u.a)(r,[{key:"componentDidMount",value:function(){}},{key:"render",value:function(){return console.log(this.props.groupInSidebar),Object(b.jsxs)("div",{className:"edit-group",children:[Object(b.jsxs)("div",{className:"sidebar",children:[Object(b.jsx)("p",{className:"sidebar-title",children:"ISSUE"}),Object(b.jsxs)("select",{className:"sidebar-group",onChange:this.props.onChangeGroupInSidebar,defaultValue:null!==this.props.groupInSidebar?this.props.groupInSidebar.groupId.toString():"",children:[Object(b.jsx)("option",{hidden:!0,children:"Choose group"}),null!==this.props.groupsInSidebar?this.props.groupsInSidebar.map((function(e){return Object(b.jsx)("option",{value:e.groupId.toString(),children:e.name})})):"",Object(b.jsx)("option",{value:"new",children:"Create new group"})]}),Object(b.jsxs)("ul",{children:[Object(b.jsx)("li",{children:Object(b.jsx)(h.b,{to:"/issue",children:"CERTIFICATE"})}),Object(b.jsx)("li",{children:Object(b.jsx)(h.b,{to:"/group",children:"MEMBERS"})}),Object(b.jsx)("li",{children:Object(b.jsx)(h.b,{to:"/group/edit/",children:"ISSUER"})})]})]}),null!==this.props.groupInSidebar?Object(b.jsxs)("div",{className:"edit-group-content",children:[Object(b.jsxs)("p",{className:"edit-group-title",children:["\u767a\u884c\u5143 ",this.props.groupInSidebar.name,"\u306e\u66f4\u65b0"]}),Object(b.jsx)("p",{className:"edit-group-description",children:"\u8a3c\u660e\u66f8\u306e\u767a\u884c\u306b\u306f\u767a\u884c\u5143\u3068\u306a\u308b\u56e3\u4f53\uff08\u4f01\u696d\u3001\u6559\u80b2\u6a5f\u95a2\u3001NPO\u6cd5\u4eba\u306a\u3069\uff09\u306e\u767b\u9332\u304c\u5fc5\u8981\u3067\u3059\u3002"}),Object(b.jsxs)("div",{className:"edit-group-form",children:[Object(b.jsx)("p",{className:"edit-group-form-title",children:"Name"}),Object(b.jsx)("input",{type:"text",className:"edit-group-form-name",onChange:this.props.onChangeGroupName,defaultValue:this.props.groupInSidebar.name}),Object(b.jsx)("p",{className:"edit-group-form-title",children:"Address"}),Object(b.jsx)("input",{type:"text",className:"edit-group-form-address",onChange:this.props.onChangeGroupAddress,defaultValue:this.props.groupInSidebar.residence}),Object(b.jsx)("p",{className:"edit-group-form-title",children:"Phone"}),Object(b.jsx)("input",{type:"text",className:"edit-group-form-phone",onChange:this.props.onChangeGroupPhone,defaultValue:this.props.groupInSidebar.phone}),Object(b.jsx)("div",{className:"register-button",onClick:this.props.updateGroup,children:"\u66f4\u65b0"})]})]}):Object(b.jsx)("div",{className:"edit-group-content",children:Object(b.jsx)(I.a,{type:"Puff",color:"#00BFFF",height:100,width:100})})]})}}]),r}(a.a.Component),L=function(e){Object(p.a)(r,e);var t=Object(l.a)(r);function r(){return Object(o.a)(this,r),t.call(this)}return Object(u.a)(r,[{key:"componentDidMount",value:function(){}},{key:"render",value:function(){var e=this;return Object(b.jsxs)("div",{className:"group-members",children:[Object(b.jsxs)("div",{className:"sidebar",children:[Object(b.jsx)("p",{className:"sidebar-title",children:"ISSUE"}),Object(b.jsxs)("select",{className:"sidebar-group",onChange:this.props.onChangeGroupInSidebar,defaultValue:null!==this.props.groupInSidebar?this.props.groupInSidebar.groupId.toString():"",children:[Object(b.jsx)("option",{hidden:!0,children:"Choose group"}),null!==this.props.groupsInSidebar?this.props.groupsInSidebar.map((function(e){return Object(b.jsx)("option",{value:e.groupId.toString(),children:e.name})})):"",Object(b.jsx)("option",{value:"new",children:"Create new group"})]}),Object(b.jsxs)("ul",{children:[Object(b.jsx)("li",{children:Object(b.jsx)(h.b,{to:"/issue",children:"CERTIFICATE"})}),Object(b.jsx)("li",{children:Object(b.jsx)(h.b,{to:"/group",children:"MEMBERS"})}),Object(b.jsx)("li",{children:Object(b.jsx)(h.b,{to:"/group/edit/",children:"ISSUER"})})]})]}),Object(b.jsx)("div",{className:"group-members-content",children:function(){var t=e;return e.props.groupInSidebar?Object(b.jsxs)("div",{children:[Object(b.jsxs)("p",{className:"group-members-title",children:[e.props.groupInSidebar.name,"\u306e\u30e1\u30f3\u30d0\u30fc"]}),Object(b.jsx)("input",{type:"text",className:"group-members-invite",onChange:e.props.onChangeGroupMemberToInvite}),Object(b.jsx)("button",{className:"group-members-invite-button",onClick:e.props.inviteMember,children:"Invite"}),Object(b.jsx)("div",{className:"group-members-list",children:e.props.groupInSidebar.members.map((function(e){return Object(b.jsxs)("div",{className:"group-members-list-cell",children:[Object(b.jsx)("img",{src:e.imageUrl,className:"group-members-list-cell-icon"}),Object(b.jsxs)("div",{className:"group-members-list-cell-detail",children:[Object(b.jsx)("p",{className:"group-members-list-cell-name",children:e.name}),Object(b.jsx)("p",{className:"group-members-list-cell-address",children:e.address})]}),Object(b.jsx)("div",{className:"group-members-list-cell-disable",onClick:function(){return t.props.disableGroupMember(t.props.groupInSidebar.groupId,e.address)},children:"\u7121\u52b9\u5316"})]})}))})]}):Object(b.jsx)(I.a,{type:"Puff",color:"#00BFFF",height:100,width:100})}()})]})}}]),r}(a.a.Component),M=function(e){Object(p.a)(r,e);var t=Object(l.a)(r);function r(){return Object(o.a)(this,r),t.call(this)}return Object(u.a)(r,[{key:"componentDidMount",value:function(){this.props.fetchGroupsInSidebar()}},{key:"render",value:function(){var e=this;return Object(b.jsxs)("div",{className:"issuer",children:[Object(b.jsxs)("div",{className:"sidebar",children:[Object(b.jsx)("p",{className:"sidebar-title",children:"ISSUE"}),Object(b.jsxs)("select",{className:"sidebar-group",onChange:this.props.onChangeGroupInSidebar,defaultValue:null!==this.props.groupInSidebar?this.props.groupInSidebar.groupId.toString():"",children:[Object(b.jsx)("option",{hidden:!0,children:"Choose group"}),null!==this.props.groupsInSidebar?this.props.groupsInSidebar.map((function(e){return Object(b.jsx)("option",{value:e.groupId.toString(),children:e.name})})):"",Object(b.jsx)("option",{value:"new",children:"Create new group"})]}),Object(b.jsxs)("ul",{children:[Object(b.jsx)("li",{children:Object(b.jsx)(h.b,{to:"/issue",children:"CERTIFICATE"})}),Object(b.jsx)("li",{children:Object(b.jsx)(h.b,{to:"/group",children:"MEMBERS"})}),Object(b.jsx)("li",{children:Object(b.jsx)(h.b,{to:"/group/edit/",children:"ISSUER"})})]})]}),Object(b.jsxs)("div",{className:"issuer-certificates-wrapper",children:[Object(b.jsxs)("div",{className:"issuer-certificates",children:[Object(b.jsx)(h.b,{to:"/new",children:Object(b.jsx)("div",{className:"issuer-certificates-new",children:"\u65b0\u898f\u4f5c\u6210"})}),Object(b.jsx)("br",{}),Object(b.jsxs)("p",{className:"issuer-certificates-title",children:[null!==this.props.groupInSidebar?this.props.groupInSidebar.name+"\u306e":"","\u8a3c\u660e\u66f8"]}),null===this.props.groupInSidebar?Object(b.jsx)("div",{className:"issuer-certificates-select-group",children:"Choose group on sidebar."}):Object(b.jsx)("div",{className:"issuer-certificates-list",children:null!==this.props.certificates?this.props.certificates.map((function(e){return Object(b.jsxs)("div",{className:"issuer-certificates-list-cell",children:[Object(b.jsx)("img",{src:e.imageUrl,className:"issuer-certificates-list-cell-icon"}),Object(b.jsx)("p",{className:"issuer-certificates-list-cell-title",children:e.title}),Object(b.jsx)(h.b,{to:"/issue/"+e.id,children:Object(b.jsx)("div",{className:"issuer-certificates-list-cell-issue",children:"\u767a\u884c"})})]})})):Object(b.jsx)(I.a,{type:"Puff",color:"#00BFFF",height:100,width:100})})]}),null!==this.props.certificates?this.props.certificates.map((function(t){return Object(b.jsxs)("div",{className:"issuer-certificate",children:[Object(b.jsx)("p",{className:"issuer-certificate-title",children:t.title}),Object(b.jsx)("div",{className:"issuer-certificate-list",children:t.userCerts.map((function(t,r){return Object(b.jsxs)("div",{className:"certificates-list-cell",children:[Object(b.jsx)("img",{src:t.profile?t.profile.imageUrl:"",className:"issuer-certificate-list-cell-icon"}),Object(b.jsxs)("div",{className:"issuer-certificate-list-cell-detail",children:[Object(b.jsx)("p",{className:"issuer-certificate-list-cell-name",children:t.profile?t.profile.name:""}),Object(b.jsx)("p",{className:"issuer-certificate-list-cell-address",children:t.to})]}),Object(b.jsx)("div",{className:"issuer-certificate-list-cell-invalidate",onClick:function(){return e.props.invalidateUserCert(t.userCertId)},children:"\u7121\u52b9\u5316"})]})}))})]})})):""]})]})}}]),r}(a.a.Component),B=function(e){Object(p.a)(r,e);var t=Object(l.a)(r);function r(){return Object(o.a)(this,r),t.call(this)}return Object(u.a)(r,[{key:"componentDidMount",value:function(){this.certId=parseInt(this.props.match.params.certId),this.props.fetchCertificate(this.certId)}},{key:"render",value:function(){var e=this;return Object(b.jsx)("div",{className:"issue",children:this.props.certificate?Object(b.jsxs)("div",{className:"issue-content",children:[Object(b.jsxs)("p",{className:"issue-title",children:[this.props.certificate.title,"\u306e\u767a\u884c"]}),Object(b.jsx)("p",{className:"issue-form-title",children:"Add Address"}),Object(b.jsxs)("div",{className:"issue-form",children:[Object(b.jsx)("input",{type:"text",className:"issue-form-to",onChange:this.props.onChangeToInIssue}),Object(b.jsx)("button",{className:"issue-form-issue",onClick:function(){e.props.issue(e.certId)},children:"\u767a\u884c"})]})]}):Object(b.jsx)("div",{className:"issue-content",children:Object(b.jsx)("p",{className:"certificate-not-found",children:"Certificate not found."})})})}}]),r}(a.a.Component),V=(r(770),function(e){Object(p.a)(r,e);var t=Object(l.a)(r);function r(){return Object(o.a)(this,r),t.apply(this,arguments)}return Object(u.a)(r,[{key:"render",value:function(){return Object(b.jsx)("div",{className:"loading-overlay",children:Object(b.jsx)(I.a,{type:"Puff",color:"#00BFFF",height:100,width:100,className:"loading-loader"})})}}]),r}(a.a.Component)),W=function(e){Object(p.a)(r,e);var t=Object(l.a)(r);function r(){return Object(o.a)(this,r),t.call(this)}return Object(u.a)(r,[{key:"componentDidMount",value:function(){var e=parseInt(this.props.match.params.groupId);this.props.fetchGroup(e)}},{key:"render",value:function(){return Object(b.jsx)("div",{className:"group",children:this.props.group?Object(b.jsxs)("div",{className:"group-content",children:[Object(b.jsx)("p",{className:"group-title",children:this.props.group.name}),Object(b.jsxs)("table",{className:"group-detail",children:[Object(b.jsxs)("tr",{children:[Object(b.jsx)("td",{children:"\u96fb\u8a71\u756a\u53f7"}),Object(b.jsx)("td",{children:this.props.group.phone})]}),Object(b.jsxs)("tr",{children:[Object(b.jsx)("td",{children:"\u4f4f\u6240"}),Object(b.jsx)("td",{children:this.props.group.residence})]})]})]}):Object(b.jsx)(I.a,{type:"Puff",color:"#00BFFF",height:100,width:100})})}}]),r}(a.a.Component),z=(a.a.Component,function(e){Object(p.a)(r,e);var t=Object(l.a)(r);function r(){return Object(o.a)(this,r),t.call(this)}return Object(u.a)(r,[{key:"render",value:function(){return Object(b.jsx)("div",{className:"not-found",children:Object(b.jsxs)("div",{className:"not-found-content",children:[Object(b.jsx)("p",{className:"not-found-message",children:"404 Not Found"}),Object(b.jsx)("p",{className:"not-found-message-sub",children:"This url is invalid."})]})})}}]),r}(a.a.Component)),Y=(r(771),r(38)),J=(r(772),function(e){Object(p.a)(r,e);var t=Object(l.a)(r);function r(){return Object(o.a)(this,r),t.call(this)}return Object(u.a)(r,[{key:"render",value:function(){var e=this;return Object(b.jsxs)("div",{className:"App",children:[Object(b.jsx)(j,{isLoggedIn:""!==e.props.state.from,signOut:e.props.signOut}),Object(b.jsxs)(Y.c,{children:[Object(b.jsx)(Y.a,{exact:!0,path:"/",render:function(t){return""===e.props.state.from?Object(b.jsx)(g,{}):Object(b.jsx)(v,Object(i.a)(Object(i.a)({},t),{},{userCerts:e.props.state.certificates,fetchCertificates:e.props.fetchCertificates}))}}),Object(b.jsx)(Y.a,{exact:!0,path:"/top",render:function(e){return Object(b.jsx)(g,{})}}),Object(b.jsx)(Y.a,{exact:!0,path:"/signup",render:function(t){return Object(b.jsx)(m,Object(i.a)(Object(i.a)({},t),{},{signIn:e.props.signIn}))}}),Object(b.jsx)(Y.a,{exact:!0,path:"/new/",render:function(){return Object(b.jsx)(P,{fetchGroups:e.props.fetchGroups,fetchGroupsInSidebar:e.props.fetchGroupsInSidebar,groupsInSidebar:e.props.state.groupsInSidebar,groupInSidebar:e.props.state.groupInSidebar,onChangeGroupInSidebar:e.props.onChangeGroupInSidebar,onChangeTitle:e.props.onChangeTitle,onChangeDescription:e.props.onChangeDescription,onChangeImage:e.props.onChangeImage,onChangeGroup:e.props.onChangeGroup,sign:e.props.sign,from:e.props.state.from,image:e.props.state.image,groups:e.props.state.groups})}}),Object(b.jsx)(Y.a,{exact:!0,path:"/issue/",render:function(t){return Object(b.jsx)(M,Object(i.a)(Object(i.a)({},t),{},{fetchGroupsInSidebar:e.props.fetchGroupsInSidebar,groupsInSidebar:e.props.state.groupsInSidebar,groupInSidebar:e.props.state.groupInSidebar,onChangeGroupInSidebar:e.props.onChangeGroupInSidebar,groups:e.props.state.groupsInIssuer,certificates:e.props.state.certificatesInIssuer,fetchCertificates:e.props.fetchCertificatesInIssuer,issue:e.props.issue,invalidateUserCert:e.props.invalidateUserCert}))}}),Object(b.jsx)(Y.a,{exact:!0,path:"/issue/:certId",render:function(t){return Object(b.jsx)(B,Object(i.a)(Object(i.a)({},t),{},{certificate:e.props.state.certificateInIssue,fetchCertificate:e.props.fetchCertificateInIssue,onChangeToInIssue:e.props.onChangeToInIssue,issue:e.props.issue}))}}),Object(b.jsx)(Y.a,{exact:!0,path:"/certs/:id",render:function(t){return Object(b.jsx)(D,Object(i.a)(Object(i.a)({},t),{},{userCert:e.props.state.certificate,certificateImage:e.props.state.certificateImage,fetchCertificate:e.props.fetchCertificate}))}}),Object(b.jsx)(Y.a,{exact:!0,path:"/group/new",render:function(t){return Object(b.jsx)(H,Object(i.a)(Object(i.a)({},t),{},{registerGroup:e.props.registerGroup,onChangeGroupName:e.props.onChangeGroupName,onChangeGroupAddress:e.props.onChangeGroupAddress,onChangeGroupPhone:e.props.onChangeGroupPhone}))}}),Object(b.jsx)(Y.a,{exact:!0,path:"/group/edit",render:function(t){return Object(b.jsx)(U,Object(i.a)(Object(i.a)({},t),{},{fetchGroupsInSidebar:e.props.fetchGroupsInSidebar,groupsInSidebar:e.props.state.groupsInSidebar,groupInSidebar:e.props.state.groupInSidebar,onChangeGroupInSidebar:e.props.onChangeGroupInSidebar,group:e.props.state.groupInEdit,updateGroup:e.props.updateGroup,fetchGroup:e.props.fetchGroupInEdit,onChangeGroupId:e.props.onChangeGroupIdInEdit,onChangeGroupName:e.props.onChangeGroupNameInEdit,onChangeGroupAddress:e.props.onChangeGroupAddressInEdit,onChangeGroupPhone:e.props.onChangeGroupPhoneInEdit}))}}),Object(b.jsx)(Y.a,{exact:!0,path:"/group",render:function(t){return Object(b.jsx)(L,Object(i.a)(Object(i.a)({},t),{},{fetchGroupsInSidebar:e.props.fetchGroupsInSidebar,groupsInSidebar:e.props.state.groupsInSidebar,groupInSidebar:e.props.state.groupInSidebar,onChangeGroupInSidebar:e.props.onChangeGroupInSidebar,group:e.props.state.group,fetchGroup:e.props.fetchGroup,inviteMember:e.props.inviteMember,onChangeGroupMemberToInvite:e.props.onChangeGroupMemberToInvite,disableGroupMember:e.props.disableGroupMember}))}}),Object(b.jsx)(Y.a,{exact:!0,path:"/group/:groupId",render:function(t){return Object(b.jsx)(W,Object(i.a)(Object(i.a)({},t),{},{group:e.props.state.groupInShow,fetchGroup:e.props.fetchGroupInShow}))}}),Object(b.jsx)(Y.a,{exact:!0,path:"/profile/new",render:function(t){return Object(b.jsx)(F,Object(i.a)(Object(i.a)({},t),{},{image:e.props.state.profileImage,registerProfile:e.props.registerProfile,onChangeProfileName:e.props.onChangeProfileName,onChangeProfileEmail:e.props.onChangeProfileEmail,onChangeProfileImage:e.props.onChangeProfileImage}))}}),Object(b.jsx)(Y.a,{exact:!0,path:"/profile/edit",render:function(t){return Object(b.jsx)(R,Object(i.a)(Object(i.a)({},t),{},{image:e.props.state.profileImageInEdit,updateProfile:e.props.updateProfile,profile:e.props.state.profileInEdit,profileName:e.props.state.profileNameInEdit,profileEmail:e.props.state.profileEmailInEdit,profileImage:e.props.state.profileImageInEdit,fetchProfile:e.props.fetchProfileInEdit,onChangeProfileName:e.props.onChangeProfileNameInEdit,onChangeProfileEmail:e.props.onChangeProfileEmailInEdit,onChangeProfileImage:e.props.onChangeProfileImageInEdit}))}}),Object(b.jsx)(Y.a,{component:z})]}),Object(b.jsx)(O,{}),this.props.state.isLoading?Object(b.jsx)(V,{}):""]})}}]),r}(a.a.Component)),X=function(e){e&&e instanceof Function&&r.e(3).then(r.bind(null,1267)).then((function(t){var r=t.getCLS,n=t.getFID,a=t.getFCP,s=t.getLCP,c=t.getTTFB;r(e),n(e),a(e),s(e),c(e)}))},q=r(264),K=r(85),Q={from:"",to:"",title:"",description:"",image:null,toInIssue:"",isLoading:!1,groupId:null,groupInEdit:null,groupName:"",groupMemberToInvite:"",groupAddress:"",groupPhone:"",groupIdInEdit:"",groupInShow:null,groupNameInEdit:"",groupAddressInEdit:"",groupPhoneInEdit:"",groupInIssuer:null,groupInSidebar:null,groupsInSidebar:[],certificate:{},certificateImage:"",certificates:[],certificatesInIssuer:null,certificateInIssue:null,group:null,groups:[],profileInEdit:null,profileInShow:null,profileName:"",profileEmail:"",profileImage:"",profileNameInEdit:"",profileEmailInEdit:"",profileImageInEdit:""};var Z,$=r(450),ee=r(265),te=r(451),re={key:"root",storage:r.n(te).a},ne=Object(ee.a)(re,(function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Q,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"ON_CHANGE_TITLE":return Object.assign({},e,{title:t.payload});case"ON_CHANGE_DESCRIPTION":return Object.assign({},e,{description:t.payload});case"ON_CHANGE_IMAGE":return Object.assign({},e,{image:t.payload});case"ON_CHANGE_GROUP":return Object.assign({},e,{groupId:t.payload});case"ON_CHANGE_GROUP_NAME":return Object.assign({},e,{groupName:t.payload});case"ON_CHANGE_GROUP_ADDRESS":return Object.assign({},e,{groupAddress:t.payload});case"ON_CHANGE_GROUP_IN_SIDEBAR":return console.log(t.payload),Object.assign({},e,{groupInSidebar:t.payload});case"ON_CHANGE_GROUP_PHONE":return Object.assign({},e,{groupPhone:t.payload});case"ON_CHANGE_GROUP_MEMBER_TO_INVITE":return Object.assign({},e,{groupMemberToInvite:t.payload});case"ON_CHANGE_GROUP_ID_IN_EDIT":return Object.assign({},e,{groupIdInEdit:t.payload});case"ON_CHANGE_GROUP_NAME_IN_EDIT":return Object.assign({},e,{groupNameInEdit:t.payload});case"ON_CHANGE_GROUP_ADDRESS_IN_EDIT":return Object.assign({},e,{groupAddressInEdit:t.payload});case"ON_CHANGE_GROUP_PHONE_IN_EDIT":return Object.assign({},e,{groupPhoneInEdit:t.payload});case"ON_CHANGE_PROFILE_NAME":return Object.assign({},e,{profileName:t.payload});case"ON_CHANGE_PROFILE_EMAIL":return Object.assign({},e,{profileEmail:t.payload});case"ON_CHANGE_PROFILE_IMAGE":return Object.assign({},e,{profileImage:t.payload});case"ON_CHANGE_PROFILE_NAME_IN_EDIT":return Object.assign({},e,{profileNameInEdit:t.payload});case"ON_CHANGE_PROFILE_EMAIL_IN_EDIT":return Object.assign({},e,{profileEmailInEdit:t.payload});case"ON_CHANGE_PROFILE_IMAGE_IN_EDIT":return Object.assign({},e,{profileImageInEdit:t.payload});case"ON_CHANGE_TO_IN_ISSUE":return Object.assign({},e,{toInIssue:t.payload});case"LOGGED_IN":return Object.assign({},e,{from:t.payload});case"FETCHED_CERTIFICATE":return Object.assign({},e,{certificate:t.payload});case"FETCHED_CERTIFICATE_IN_ISSUE":return Object.assign({},e,{certificateInIssue:t.payload});case"FETCHED_CERTIFICATES":return null===t.payload?Object.assign({},e,{certificates:null}):Object.assign({},e,{certificates:t.payload});case"FETCHED_CERTIFICATE_IMAGE":return Object.assign({},e,{certificateImage:t.payload});case"FETCHED_GROUPS":return Object.assign({},e,{groups:t.payload});case"FETCHED_GROUPS_IN_SIDEBAR":return Object.assign({},e,{groupsInSidebar:t.payload});case"FETCHED_GROUP":return Object.assign({},e,{group:t.payload});case"FETCHED_GROUP_IN_EDIT":return Object.assign({},e,{groupInEdit:t.payload});case"FETCHED_CERTIFICATES_IN_ISSUER":return Object.assign({},e,{certificatesInIssuer:t.payload});case"FETCHED_PROFILE_IN_EDIT":return Object.assign({},e,{profileInEdit:t.payload});case"FETCHED_PROFILE_IN_SHOW":return Object.assign({},e,{profileInShow:t.payload});case"FETCHED_GROUP_IN_SHOW":return Object.assign({},e,{groupInShow:t.payload});case"LOADING":return Object.assign({},e,{isLoading:t.payload});default:return Q}})),ae=window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__||K.c,se=Object(K.d)(Object(K.b)({state:ne}),Q,ae(Object(K.a)($.a))),ce=(Object(ee.b)(se),se),ie=r(266),oe=r(263),ue=r.n(oe),pe=r(150),le=r.n(pe),de=r(454),fe=r.n(de),he=new(function(){function e(){Object(o.a)(this,e),this.torus=new fe.a}return Object(u.a)(e,[{key:"init",value:function(){var e=Object(N.a)(C.a.mark((function e(){return C.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.torus.init({buildEnv:"production",enableLogging:!0,network:{host:"https://matic-mumbai.chainstacklabs.com",chainId:80001,networkName:"Mumbai Testnet"},showTorusButton:!0,enabledVerifiers:{google:!0,facebook:!1,reddit:!1,twitch:!1,discord:!1}});case 2:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"login",value:function(){var e=Object(N.a)(C.a.mark((function e(){var t;return C.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.torus.login();case 2:return t=e.sent,console.log(t),console.log(this.torus),this.web3=new le.a(this.torus.provider),console.log(this.web3),e.abrupt("return",this.web3);case 8:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"getPublicAddressByGoogle",value:function(){var e=Object(N.a)(C.a.mark((function e(t){return C.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.torus.getPublicAddress({verifier:"google",verifierId:t});case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()}]),e}()),be=new ue.a(new le.a(T.web3Host),T.contractAddress);function je(){return Oe.apply(this,arguments)}function Oe(){return(Oe=Object(N.a)(C.a.mark((function e(){return C.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(be.isInitialized()){e.next=3;break}return e.next=3,be.init();case 3:return e.abrupt("return",be);case 4:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function ge(){return me.apply(this,arguments)}function me(){return(me=Object(N.a)(C.a.mark((function e(){var t;return C.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,he.init();case 3:return e.next=5,he.login();case 5:t=e.sent,e.next=11;break;case 8:e.prev=8,e.t0=e.catch(0),console.error(e.t0);case 11:if(console.log(t),!t){e.next=23;break}return e.prev=13,Z=new ue.a(t,T.contractAddress,T.gxApi),e.next=17,Z.init();case 17:e.next=23;break;case 19:throw e.prev=19,e.t1=e.catch(13),console.error(e.t1),new Error("gxCert is not initialized.");case 23:if(null!==Z){e.next=25;break}throw new Error("gxCert is not initialized.");case 25:if(Z.address){e.next=28;break}return e.next=28,Z.getMyAddress();case 28:return e.abrupt("return",Z);case 29:case"end":return e.stop()}}),e,null,[[0,8],[13,19]])})))).apply(this,arguments)}function xe(){return new Promise((function(e,t){setTimeout((function(){e()}),6e3)}))}var Ie=function(){return function(){var e=Object(N.a)(C.a.mark((function e(t,r){var n,a,s,c,i,o,u,p;return C.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,ge();case 3:n=e.sent,e.next=10;break;case 6:return e.prev=6,e.t0=e.catch(0),console.error(e.t0),e.abrupt("return");case 10:return a=r().state,n.address,s=[],c=a.groupInSidebar,i=c.groupId,e.prev=15,e.next=18,n.getGroupCerts(i);case 18:s=e.sent,e.next=26;break;case 21:return e.prev=21,e.t1=e.catch(15),console.error(e.t1),alert("Failed to fetch certificates."),e.abrupt("return");case 26:for(o=0;o<s.length;o++)s[o].userCerts=[];t({type:"FETCHED_CERTIFICATES_IN_ISSUER",payload:s}),u=C.a.mark((function e(r){var a,c,i;return C.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,n.getIssuedUserCerts(s[r].id);case 2:a=e.sent,s[r].userCerts=a,t({type:"FETCHED_CERTIFICATES_IN_ISSUER",payload:s}),c=C.a.mark((function e(c){var i;return C.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,n.getProfile(a[c].to);case 2:i=e.sent,s[r].userCerts[c].profile=i,k(i.icon).then((function(e){i.imageUrl=e,s[r].userCerts[c].profile=i,t({type:"FETCHED_CERTIFICATES_IN_ISSUER",payload:s})})).catch((function(e){console.error(e)}));case 5:case"end":return e.stop()}}),e)})),i=0;case 7:if(!(i<a.length)){e.next=12;break}return e.delegateYield(c(i),"t0",9);case 9:i++,e.next=7;break;case 12:k(s[r].image).then((function(e){s[r].imageUrl=e,t({type:"FETCHED_CERTIFICATES_IN_ISSUER",payload:s})})).catch((function(e){console.error(e)}));case 13:case"end":return e.stop()}}),e)})),p=0;case 30:if(!(p<s.length)){e.next=35;break}return e.delegateYield(u(p),"t2",32);case 32:p++,e.next=30;break;case 35:case"end":return e.stop()}}),e,null,[[0,6],[15,21]])})));return function(t,r){return e.apply(this,arguments)}}()};var ve=Object(q.b)((function(e,t){return e}),(function(e,t){return{onChangeTitle:function(t){e(function(e){return function(){var t=Object(N.a)(C.a.mark((function t(r,n){return C.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:r({type:"ON_CHANGE_TITLE",payload:e.target.value});case 1:case"end":return t.stop()}}),t)})));return function(e,r){return t.apply(this,arguments)}}()}(t))},onChangeDescription:function(t){e(function(e){return function(){var t=Object(N.a)(C.a.mark((function t(r,n){return C.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:r({type:"ON_CHANGE_DESCRIPTION",payload:e.target.value});case 1:case"end":return t.stop()}}),t)})));return function(e,r){return t.apply(this,arguments)}}()}(t))},onChangeImage:function(t){e(function(e){return function(){var t=Object(N.a)(C.a.mark((function t(r,n){var a,s;return C.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:a=e.target.files[0],(s=new FileReader).onload=function(){r({type:"ON_CHANGE_IMAGE",payload:s.result})},s.readAsArrayBuffer(a);case 4:case"end":return t.stop()}}),t)})));return function(e,r){return t.apply(this,arguments)}}()}(t))},onChangeGroupName:function(t){e(function(e){return function(){var t=Object(N.a)(C.a.mark((function t(r,n){return C.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:r({type:"ON_CHANGE_GROUP_NAME",payload:e.target.value});case 1:case"end":return t.stop()}}),t)})));return function(e,r){return t.apply(this,arguments)}}()}(t))},onChangeGroupAddress:function(t){e(function(e){return function(){var t=Object(N.a)(C.a.mark((function t(r,n){return C.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:r({type:"ON_CHANGE_GROUP_ADDRESS",payload:e.target.value});case 1:case"end":return t.stop()}}),t)})));return function(e,r){return t.apply(this,arguments)}}()}(t))},onChangeGroupPhone:function(t){e(function(e){return function(){var t=Object(N.a)(C.a.mark((function t(r,n){return C.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:r({type:"ON_CHANGE_GROUP_PHONE",payload:e.target.value});case 1:case"end":return t.stop()}}),t)})));return function(e,r){return t.apply(this,arguments)}}()}(t))},onChangeGroupNameInEdit:function(t){e(function(e){return function(){var t=Object(N.a)(C.a.mark((function t(r,n){return C.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:r({type:"ON_CHANGE_GROUP_NAME_IN_EDIT",payload:e.target.value});case 1:case"end":return t.stop()}}),t)})));return function(e,r){return t.apply(this,arguments)}}()}(t))},onChangeGroupAddressInEdit:function(t){e(function(e){return function(){var t=Object(N.a)(C.a.mark((function t(r,n){return C.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:r({type:"ON_CHANGE_GROUP_ADDRESS_IN_EDIT",payload:e.target.value});case 1:case"end":return t.stop()}}),t)})));return function(e,r){return t.apply(this,arguments)}}()}(t))},onChangeGroupPhoneInEdit:function(t){e(function(e){return function(){var t=Object(N.a)(C.a.mark((function t(r,n){return C.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:r({type:"ON_CHANGE_GROUP_PHONE_IN_EDIT",payload:e.target.value});case 1:case"end":return t.stop()}}),t)})));return function(e,r){return t.apply(this,arguments)}}()}(t))},onChangeProfileName:function(t){e(function(e){return function(){var t=Object(N.a)(C.a.mark((function t(r,n){return C.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:r({type:"ON_CHANGE_PROFILE_NAME",payload:e.target.value});case 1:case"end":return t.stop()}}),t)})));return function(e,r){return t.apply(this,arguments)}}()}(t))},onChangeProfileEmail:function(t){e(function(e){return function(){var t=Object(N.a)(C.a.mark((function t(r,n){return C.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:r({type:"ON_CHANGE_PROFILE_EMAIL",payload:e.target.value});case 1:case"end":return t.stop()}}),t)})));return function(e,r){return t.apply(this,arguments)}}()}(t))},onChangeProfileImage:function(t){e(function(e){return function(){var t=Object(N.a)(C.a.mark((function t(r,n){var a,s;return C.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:a=e.target.files[0],(s=new FileReader).onload=function(){r({type:"ON_CHANGE_PROFILE_IMAGE",payload:s.result})},s.readAsArrayBuffer(a);case 4:case"end":return t.stop()}}),t)})));return function(e,r){return t.apply(this,arguments)}}()}(t))},onChangeProfileNameInEdit:function(t){e(function(e){return function(){var t=Object(N.a)(C.a.mark((function t(r,n){return C.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:r({type:"ON_CHANGE_PROFILE_NAME_IN_EDIT",payload:e.target.value});case 1:case"end":return t.stop()}}),t)})));return function(e,r){return t.apply(this,arguments)}}()}(t))},onChangeProfileEmailInEdit:function(t){e(function(e){return function(){var t=Object(N.a)(C.a.mark((function t(r,n){return C.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:r({type:"ON_CHANGE_PROFILE_EMAIL_IN_EDIT",payload:e.target.value});case 1:case"end":return t.stop()}}),t)})));return function(e,r){return t.apply(this,arguments)}}()}(t))},onChangeProfileImageInEdit:function(t){e(function(e){return function(){var t=Object(N.a)(C.a.mark((function t(r,n){var a,s;return C.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:a=e.target.files[0],(s=new FileReader).onload=function(){r({type:"ON_CHANGE_PROFILE_IMAGE_IN_EDIT",payload:s.result})},s.readAsArrayBuffer(a);case 4:case"end":return t.stop()}}),t)})));return function(e,r){return t.apply(this,arguments)}}()}(t))},onChangeGroup:function(t){e(function(e){return function(){var t=Object(N.a)(C.a.mark((function t(r,n){return C.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if("new"!==e.target.value){t.next=3;break}return f.push("/group/new"),t.abrupt("return");case 3:r({type:"ON_CHANGE_GROUP",payload:parseInt(e.target.value)});case 4:case"end":return t.stop()}}),t)})));return function(e,r){return t.apply(this,arguments)}}()}(t))},onChangeToInIssue:function(t){e(function(e){return function(){var t=Object(N.a)(C.a.mark((function t(r){return C.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:r({type:"ON_CHANGE_TO_IN_ISSUE",payload:e.target.value});case 1:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()}(t))},onChangeGroupMemberToInvite:function(t){e(function(e){return function(){var t=Object(N.a)(C.a.mark((function t(r,n){return C.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:r({type:"ON_CHANGE_GROUP_MEMBER_TO_INVITE",payload:e.target.value});case 1:case"end":return t.stop()}}),t)})));return function(e,r){return t.apply(this,arguments)}}()}(t))},onChangeGroupInSidebar:function(t){e(function(e){return function(){var t=Object(N.a)(C.a.mark((function t(r,n){var a,s,c,i,o,u,p;return C.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,ge();case 3:t.sent,t.next=10;break;case 6:return t.prev=6,t.t0=t.catch(0),console.error(t.t0),t.abrupt("return");case 10:if(a=n().state,"new"!==(s=e.target.value)){t.next=15;break}return f.push("/group/new"),t.abrupt("return");case 15:c=parseInt(s),i=a.groupsInSidebar,o=Object(ie.a)(i),t.prev=18,p=function(){var e=u.value;if(e.groupId===c){r({type:"ON_CHANGE_GROUP_IN_SIDEBAR",payload:e}),r({type:"ON_CHANGE_GROUP_NAME_IN_EDIT",payload:e.name}),r({type:"ON_CHANGE_GROUP_ADDRESS_IN_EDIT",payload:e.residence}),r({type:"ON_CHANGE_GROUP_PHONE_IN_EDIT",payload:e.phone}),console.log(e);for(var t=function(t){k(e.members[t].icon).then((function(n){e.members[t].imageUrl=n,r({type:"ON_CHANGE_GROUP_IN_SIDEBAR",payload:e})})).catch((function(e){console.error(e)}))},n=0;n<e.members.length;n++)t(n);return"continue"}},o.s();case 21:if((u=o.n()).done){t.next=27;break}if("continue"!==p()){t.next=25;break}return t.abrupt("continue",25);case 25:t.next=21;break;case 27:t.next=32;break;case 29:t.prev=29,t.t1=t.catch(18),o.e(t.t1);case 32:return t.prev=32,o.f(),t.finish(32);case 35:Ie()(r,n);case 36:case"end":return t.stop()}}),t,null,[[0,6],[18,29,32,35]])})));return function(e,r){return t.apply(this,arguments)}}()}(t))},sign:function(){e(function(){var e=Object(N.a)(C.a.mark((function e(t,r){var n,a,s,c,i,o;return C.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t({type:"LOADING",payload:!0}),e.prev=1,e.next=4,ge();case 4:n=e.sent,e.next=12;break;case 7:return e.prev=7,e.t0=e.catch(1),console.error(e.t0),t({type:"LOADING",payload:!1}),e.abrupt("return");case 12:if(window.confirm("\u3053\u306e\u64cd\u4f5c\u306b\u306f0.01MATIC\u304c\u5fc5\u8981\u3067\u3059\u3002\u7d9a\u3051\u307e\u3059\u304b\uff1f")){e.next=15;break}return t({type:"LOADING",payload:!1}),e.abrupt("return");case 15:if(null!==(a=r().state).groupInSidebar){e.next=20;break}return alert("Please set group on sidebar."),t({type:"LOADING",payload:!1}),e.abrupt("return");case 20:if(s=a.image){e.next=25;break}return alert("Image not set."),t({type:"LOADING",payload:!1}),e.abrupt("return");case 25:return e.prev=25,e.next=28,n.uploadImageToIpfs(s);case 28:c=e.sent,e.next=37;break;case 31:return e.prev=31,e.t1=e.catch(25),console.error(e.t1),alert("Failed to post the image to IPFS."),t({type:"LOADING",payload:!1}),e.abrupt("return");case 37:if(i={context:{},title:a.title,description:a.description,image:c,groupId:a.groupInSidebar.groupId},n.isCertificate(i)){e.next=42;break}return alert("Invalid Certificate."),t({type:"LOADING",payload:!1}),e.abrupt("return");case 42:return o=null,e.prev=43,e.next=46,n.signCertificate(i,{address:n.address});case 46:o=e.sent,e.next=55;break;case 49:return e.prev=49,e.t2=e.catch(43),console.error(e.t2),alert("Failed to sign the certificate."),t({type:"LOADING",payload:!1}),e.abrupt("return");case 55:return e.prev=55,e.next=58,n.createCert(o);case 58:e.next=66;break;case 60:return e.prev=60,e.t3=e.catch(55),console.error(e.t3),alert("Failed to post the signed certificate."),t({type:"LOADING",payload:!1}),e.abrupt("return");case 66:return e.next=68,xe();case 68:t({type:"LOADING",payload:!1}),f.push("/issue");case 70:case"end":return e.stop()}}),e,null,[[1,7],[25,31],[43,49],[55,60]])})));return function(t,r){return e.apply(this,arguments)}}())},fetchCertificate:function(t){var r;e((r=t,function(){var e=Object(N.a)(C.a.mark((function e(t){var n,a,s,c,i,o;return C.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t({type:"FETCHED_CERTIFICATE",payload:null}),e.prev=1,e.next=4,je();case 4:n=e.sent,e.next=11;break;case 7:return e.prev=7,e.t0=e.catch(1),console.error(e.t0),e.abrupt("return");case 11:return e.prev=11,e.next=14,n.getUserCert(r);case 14:a=e.sent,e.next=21;break;case 17:return e.prev=17,e.t1=e.catch(11),console.error(e.t1),e.abrupt("return");case 21:return t({type:"FETCHED_CERTIFICATE",payload:a}),s=a.certificate.image,e.prev=23,e.next=26,k(s);case 26:c=e.sent,e.next=33;break;case 29:return e.prev=29,e.t2=e.catch(23),console.error(e.t2),e.abrupt("return");case 33:return t({type:"FETCHED_CERTIFICATE_IMAGE",payload:c}),e.prev=34,e.next=37,n.getGroup(a.certificate.groupId);case 37:i=e.sent,a.certificate.group=i,t({type:"FETCHED_CERTIFICATE",payload:a}),e.next=46;break;case 42:return e.prev=42,e.t3=e.catch(34),console.error(e.t3),e.abrupt("return");case 46:return e.prev=46,e.next=49,n.getProfile(a.to);case 49:o=e.sent,a.to=o.name,t({type:"FETCHED_CERTIFICATE",payload:a}),e.next=58;break;case 54:return e.prev=54,e.t4=e.catch(46),console.error(e.t4),e.abrupt("return");case 58:case"end":return e.stop()}}),e,null,[[1,7],[11,17],[23,29],[34,42],[46,54]])})));return function(t){return e.apply(this,arguments)}}()))},fetchCertificates:function(){e(function(){var e=Object(N.a)(C.a.mark((function e(t,r){var n,a,s,c,i,o;return C.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t({type:"FETCHED_CERTIFICATES",payload:null}),n=r().state,""!==(a=n.from)&&a){e.next=6;break}return f.push("/top"),e.abrupt("return");case 6:return e.prev=6,e.next=9,je();case 9:s=e.sent,e.next=16;break;case 12:return e.prev=12,e.t0=e.catch(6),console.error(e.t0),e.abrupt("return");case 16:return e.prev=16,e.next=19,s.getReceivedUserCerts(a);case 19:c=e.sent,e.next=26;break;case 22:return e.prev=22,e.t1=e.catch(16),console.error(e.t1),e.abrupt("return");case 26:for(i=function(e){s.getGroup(c[e].certificate.groupId).then((function(r){c[e].certificate.groupName=r.name,t({type:"FETCHED_CERTIFICATES",payload:c})})),k(c[e].certificate.image).then((function(r){c[e].certificate.imageUrl=r,t({type:"FETCHED_CERTIFICATES",payload:c})}))},o=0;o<c.length;o++)i(o);t({type:"FETCHED_CERTIFICATES",payload:c});case 29:case"end":return e.stop()}}),e,null,[[6,12],[16,22]])})));return function(t,r){return e.apply(this,arguments)}}())},fetchGroups:function(){e(function(){var e=Object(N.a)(C.a.mark((function e(t,r){var n,a,s,c;return C.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,ge();case 3:n=e.sent,e.next=10;break;case 6:return e.prev=6,e.t0=e.catch(0),console.error(e.t0),e.abrupt("return");case 10:return a=r().state,s=a.from,e.prev=12,e.next=15,n.getGroups(s);case 15:c=e.sent,e.next=22;break;case 18:return e.prev=18,e.t1=e.catch(12),console.error(e.t1),e.abrupt("return");case 22:t({type:"FETCHED_GROUPS",payload:c});case 23:case"end":return e.stop()}}),e,null,[[0,6],[12,18]])})));return function(t,r){return e.apply(this,arguments)}}())},fetchGroup:function(t){e(function(){var e=Object(N.a)(C.a.mark((function e(t,r){return C.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t({type:"FETCHED_GROUP",payload:null}),e.prev=1,e.next=4,je();case 4:e.sent,e.next=11;break;case 7:return e.prev=7,e.t0=e.catch(1),console.error(e.t0),e.abrupt("return");case 11:case"end":return e.stop()}}),e,null,[[1,7]])})));return function(t,r){return e.apply(this,arguments)}}())},fetchGroupInShow:function(t){e(function(e){return function(){var t=Object(N.a)(C.a.mark((function t(r,n){var a,s;return C.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return r({type:"FETCHED_GROUP_IN_SHOW",payload:null}),t.prev=1,t.next=4,je();case 4:a=t.sent,t.next=11;break;case 7:return t.prev=7,t.t0=t.catch(1),console.error(t.t0),t.abrupt("return");case 11:return t.prev=11,t.next=14,a.getGroup(e);case 14:s=t.sent,t.next=21;break;case 17:return t.prev=17,t.t1=t.catch(11),console.error(t.t1),t.abrupt("return");case 21:r({type:"FETCHED_GROUP_IN_SHOW",payload:s});case 22:case"end":return t.stop()}}),t,null,[[1,7],[11,17]])})));return function(e,r){return t.apply(this,arguments)}}()}(t))},fetchGroupInEdit:function(t){e(function(e){return function(){var t=Object(N.a)(C.a.mark((function t(r,n){var a,s;return C.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return r({type:"ON_CHANGE_GROUP_ID_IN_EDIT",payload:e}),r({type:"FETCHED_GROUP_IN_EDIT",payload:null}),t.prev=2,t.next=5,je();case 5:a=t.sent,t.next=12;break;case 8:return t.prev=8,t.t0=t.catch(2),console.error(t.t0),t.abrupt("return");case 12:return n().state,t.prev=13,t.next=16,a.getGroup(e);case 16:s=t.sent,t.next=23;break;case 19:return t.prev=19,t.t1=t.catch(13),console.error(t.t1),t.abrupt("return");case 23:r({type:"FETCHED_GROUP_IN_EDIT",payload:s});case 24:case"end":return t.stop()}}),t,null,[[2,8],[13,19]])})));return function(e,r){return t.apply(this,arguments)}}()}(t))},fetchCertificatesInIssuer:function(){e(Ie())},fetchCertificateInIssue:function(t){e(function(e){return function(){var t=Object(N.a)(C.a.mark((function t(r){var n,a;return C.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,je();case 3:n=t.sent,t.next=10;break;case 6:return t.prev=6,t.t0=t.catch(0),console.error(t.t0),t.abrupt("return");case 10:return t.prev=10,t.next=13,n.getCert(e);case 13:a=t.sent,t.next=20;break;case 16:return t.prev=16,t.t1=t.catch(10),console.error(t.t1),t.abrupt("return");case 20:r({type:"FETCHED_CERTIFICATE_IN_ISSUE",payload:a});case 21:case"end":return t.stop()}}),t,null,[[0,6],[10,16]])})));return function(e){return t.apply(this,arguments)}}()}(t))},fetchGroupsInSidebar:function(){e(function(){var e=Object(N.a)(C.a.mark((function e(t,r){var n,a,s;return C.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,ge();case 3:n=e.sent,e.next=10;break;case 6:return e.prev=6,e.t0=e.catch(0),console.error(e.t0),e.abrupt("return");case 10:return a=n.address,e.prev=11,e.next=14,n.getGroups(a);case 14:s=e.sent,e.next=21;break;case 17:return e.prev=17,e.t1=e.catch(11),console.error(e.t1),e.abrupt("return");case 21:t({type:"FETCHED_GROUPS_IN_SIDEBAR",payload:s});case 22:case"end":return e.stop()}}),e,null,[[0,6],[11,17]])})));return function(t,r){return e.apply(this,arguments)}}())},fetchProfileInEdit:function(){e(function(){var e=Object(N.a)(C.a.mark((function e(t,r){var n,a;return C.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t({type:"FETCHED_PROFILE_IN_EDIT",payload:null}),e.prev=1,e.next=4,ge();case 4:n=e.sent,e.next=11;break;case 7:return e.prev=7,e.t0=e.catch(1),console.error(e.t0),e.abrupt("return");case 11:return e.prev=11,e.next=14,n.getProfile(n.address);case 14:a=e.sent,e.next=22;break;case 17:return e.prev=17,e.t1=e.catch(11),console.error(e.t1),alert("Failed to fetch profile."),e.abrupt("return");case 22:t({type:"FETCHED_PROFILE_IN_EDIT",payload:a}),t({type:"ON_CHANGE_PROFILE_NAME_IN_EDIT",payload:a.name}),t({type:"ON_CHANGE_PROFILE_EMAIL_IN_EDIT",payload:a.email}),k(a.icon).then((function(e){a.imageUrl=e,t({type:"FETCHED_PROFILE_IN_EDIT",payload:a})})).catch((function(e){console.error(e)}));case 26:case"end":return e.stop()}}),e,null,[[1,7],[11,17]])})));return function(t,r){return e.apply(this,arguments)}}())},fetchProfileInShow:function(t){e(function(e){return function(){var t=Object(N.a)(C.a.mark((function t(r,n){var a,s;return C.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return r({type:"FETCHED_PROFILE_IN_SHOW",payload:null}),t.prev=1,t.next=4,je();case 4:a=t.sent,t.next=11;break;case 7:return t.prev=7,t.t0=t.catch(1),console.error(t.t0),t.abrupt("return");case 11:return t.prev=11,t.next=14,a.getProfile(e);case 14:s=t.sent,t.next=21;break;case 17:return t.prev=17,t.t1=t.catch(11),console.error(t.t1),t.abrupt("return");case 21:r({type:"FETCHED_PROFILE_IN_SHOW",payload:s}),k(s.icon).then((function(e){s.imageUrl=e,r({type:"FETCHED_PROFILE_IN_SHOW",payload:s})})).catch((function(e){console.error(e)}));case 23:case"end":return t.stop()}}),t,null,[[1,7],[11,17]])})));return function(e,r){return t.apply(this,arguments)}}()}(t))},signIn:function(){e(function(){var e=Object(N.a)(C.a.mark((function e(t){var r;return C.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,ge();case 2:if((r=e.sent).address){e.next=6;break}return console.log("Failed to login."),e.abrupt("return");case 6:return console.log(r.address),t({type:"LOGGED_IN",payload:r.address}),e.prev=8,e.next=11,r.getProfile(r.address);case 11:e.sent,e.next=19;break;case 14:return e.prev=14,e.t0=e.catch(8),console.error(e.t0),f.push("/profile/new"),e.abrupt("return");case 19:f.push("/");case 20:case"end":return e.stop()}}),e,null,[[8,14]])})));return function(t){return e.apply(this,arguments)}}())},registerGroup:function(){e(function(){var e=Object(N.a)(C.a.mark((function e(t,r){var n,a,s,c,i,o;return C.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t({type:"LOADING",payload:!0}),e.prev=1,e.next=4,ge();case 4:n=e.sent,e.next=12;break;case 7:return e.prev=7,e.t0=e.catch(1),console.error(e.t0),t({type:"LOADING",payload:!1}),e.abrupt("return");case 12:if(window.confirm("\u3053\u306e\u64cd\u4f5c\u306b\u306f0.01MATIC\u304c\u5fc5\u8981\u3067\u3059\u3002\u7d9a\u3051\u307e\u3059\u304b\uff1f")){e.next=15;break}return t({type:"LOADING",payload:!1}),e.abrupt("return");case 15:return a=r().state,s=a.from,c=a.groupName,i=a.groupAddress,o=a.groupPhone,e.prev=20,e.next=23,n.createGroup(c,i,o,s);case 23:e.next=31;break;case 25:return e.prev=25,e.t1=e.catch(20),console.error(e.t1),alert("Failed to create group."),t({type:"LOADING",payload:!1}),e.abrupt("return");case 31:return e.next=33,xe();case 33:t({type:"LOADING",payload:!1}),f.push("/new");case 35:case"end":return e.stop()}}),e,null,[[1,7],[20,25]])})));return function(t,r){return e.apply(this,arguments)}}())},updateGroup:function(){e(function(){var e=Object(N.a)(C.a.mark((function e(t,r){var n,a,s,c,i,o,u,p;return C.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t({type:"LOADING",payload:!0}),e.prev=1,e.next=4,ge();case 4:n=e.sent,e.next=12;break;case 7:return e.prev=7,e.t0=e.catch(1),console.error(e.t0),t({type:"LOADING",payload:!1}),e.abrupt("return");case 12:if(null!==(a=r().state).groupInSidebar){e.next=17;break}return alert("Please choose group on sidebar."),t({type:"LOADING",payload:!1}),e.abrupt("return");case 17:return s=a.groupInSidebar.groupId,c=a.groupNameInEdit,i=a.groupAddressInEdit,o=a.groupPhoneInEdit,u={groupId:s,name:c,residence:i,phone:o},e.next=24,n.signGroup(u,{address:n.address});case 24:return p=e.sent,e.prev=25,e.next=28,n.updateGroup(p);case 28:e.next=36;break;case 30:return e.prev=30,e.t1=e.catch(25),console.error(e.t1),alert("Failed to update group."),t({type:"LOADING",payload:!1}),e.abrupt("return");case 36:t({type:"LOADING",payload:!1}),f.push("/");case 38:case"end":return e.stop()}}),e,null,[[1,7],[25,30]])})));return function(t,r){return e.apply(this,arguments)}}())},updateProfile:function(){e(function(){var e=Object(N.a)(C.a.mark((function e(t,r){var n,a,s,c,i,o,u,p,l;return C.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t({type:"LOADING",payload:!0}),e.prev=1,e.next=4,ge();case 4:n=e.sent,e.next=12;break;case 7:return e.prev=7,e.t0=e.catch(1),console.error(e.t0),t({type:"LOADING",payload:!1}),e.abrupt("return");case 12:if(a=r().state,s=a.profileNameInEdit,c=a.profileEmailInEdit,""!==(i=a.profileImageInEdit)){e.next=20;break}o=null!==a.profileInEdit?a.profileInEdit.icon:"",e.next=23;break;case 20:return e.next=22,n.uploadImageToIpfs(i);case 22:o=e.sent;case 23:return u=n.address,p={name:s,email:c,icon:o},console.log(p),e.next=28,n.signProfileForUpdating(p,{address:u});case 28:return l=e.sent,e.prev=29,e.next=32,n.updateProfile(l);case 32:e.next=40;break;case 34:return e.prev=34,e.t1=e.catch(29),console.error(e.t1),alert("Failed to update your profile."),t({type:"LOADING",payload:!1}),e.abrupt("return");case 40:t({type:"LOADING",payload:!1}),f.push("/");case 42:case"end":return e.stop()}}),e,null,[[1,7],[29,34]])})));return function(t,r){return e.apply(this,arguments)}}())},registerProfile:function(){e(function(){var e=Object(N.a)(C.a.mark((function e(t,r){var n,a,s,c,i,o,u,p;return C.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t({type:"LOADING",payload:!0}),e.prev=1,e.next=4,ge();case 4:n=e.sent,e.next=12;break;case 7:return e.prev=7,e.t0=e.catch(1),console.error(e.t0),t({type:"LOADING",payload:!1}),e.abrupt("return");case 12:return a=r().state,s=a.profileName,c=a.profileEmail,i=a.profileImage,o=a.from,e.prev=17,e.next=20,n.uploadImageToIpfs(i);case 20:u=e.sent,e.next=29;break;case 23:return e.prev=23,e.t1=e.catch(17),console.error(e.t1),alert("Failed to upload image to IPFS."),t({type:"LOADING",payload:!1}),e.abrupt("return");case 29:return e.prev=29,e.next=32,n.signProfile({name:s,email:c,icon:u},{address:o});case 32:p=e.sent,e.next=41;break;case 35:return e.prev=35,e.t2=e.catch(29),console.error(e.t2),alert("Failed to sign profile."),t({type:"LOADING",payload:!1}),e.abrupt("return");case 41:return e.prev=41,e.next=44,n.createProfile(o,p);case 44:e.next=52;break;case 46:return e.prev=46,e.t3=e.catch(41),console.error(e.t3),alert("Failed to register profile."),t({type:"LOADING",payload:!1}),e.abrupt("return");case 52:t({type:"LOADING",payload:!1}),f.push("/");case 54:case"end":return e.stop()}}),e,null,[[1,7],[17,23],[29,35],[41,46]])})));return function(t,r){return e.apply(this,arguments)}}())},inviteMember:function(){e(function(){var e=Object(N.a)(C.a.mark((function e(t,r){var n,a,s,c,i,o,u,p;return C.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,ge();case 3:n=e.sent,e.next=10;break;case 6:return e.prev=6,e.t0=e.catch(0),console.error(e.t0),e.abrupt("return");case 10:return a=r().state,s=a.from,c=a.group.groupId,i=a.groupMemberToInvite,e.prev=14,e.next=17,he.getPublicAddressByGoogle(i);case 17:o=e.sent,e.next=25;break;case 20:return e.prev=20,e.t1=e.catch(14),console.error(e.t1),alert("Email is not registered."),e.abrupt("return");case 25:return e.prev=25,e.next=28,n.signMemberAddressForInviting(o,{address:s});case 28:u=e.sent,e.next=36;break;case 31:return e.prev=31,e.t2=e.catch(25),console.error(e.t2),alert("Failed to sign for invitation."),e.abrupt("return");case 36:return e.prev=36,e.next=39,n.inviteMemberToGroup(c,u);case 39:e.next=46;break;case 41:return e.prev=41,e.t3=e.catch(36),console.error(e.t3),alert("Failed to send invitation."),e.abrupt("return");case 46:return e.prev=46,e.next=49,n.getGroup(c);case 49:p=e.sent,e.next=56;break;case 52:return e.prev=52,e.t4=e.catch(46),console.error(e.t4),e.abrupt("return");case 56:t({type:"FETCHED_GROUP",payload:p});case 57:case"end":return e.stop()}}),e,null,[[0,6],[14,20],[25,31],[36,41],[46,52]])})));return function(t,r){return e.apply(this,arguments)}}())},issue:function(t){e(function(e){return function(){var t=Object(N.a)(C.a.mark((function t(r,n){var a,s,c,i,o,u,p;return C.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return r({type:"LOADING",payload:!0}),t.prev=1,t.next=4,ge();case 4:a=t.sent,t.next=12;break;case 7:return t.prev=7,t.t0=t.catch(1),console.error(t.t0),r({type:"LOADING",payload:!1}),t.abrupt("return");case 12:if(window.confirm("\u3053\u306e\u64cd\u4f5c\u306b\u306f0.01MATIC\u304c\u5fc5\u8981\u3067\u3059\u3002\u7d9a\u3051\u307e\u3059\u304b\uff1f")){t.next=15;break}return r({type:"LOADING",payload:!1}),t.abrupt("return");case 15:return s=n().state,c=s.from,s.from,i=s.toInIssue,t.prev=19,t.next=22,he.getPublicAddressByGoogle(i);case 22:o=t.sent,t.next=31;break;case 25:return t.prev=25,t.t1=t.catch(19),console.error(t.t1),alert("Failed to get public address of the Google account."),r({type:"LOADING",payload:!1}),t.abrupt("return");case 31:return u={certId:e,from:c,to:o},t.prev=32,t.next=35,a.signUserCertificate(u,{address:c});case 35:p=t.sent,t.next=44;break;case 38:return t.prev=38,t.t2=t.catch(32),console.error(t.t2),alert("Failed to sign the certificate."),r({type:"LOADING",payload:!1}),t.abrupt("return");case 44:return t.prev=44,t.next=47,a.createUserCert(p);case 47:t.next=55;break;case 49:return t.prev=49,t.t3=t.catch(44),console.error(t.t3),alert("Failed to issue the certificate."),r({type:"LOADING",payload:!1}),t.abrupt("return");case 55:return t.next=57,xe();case 57:r({type:"LOADING",payload:!1}),f.push("/");case 59:case"end":return t.stop()}}),t,null,[[1,7],[19,25],[32,38],[44,49]])})));return function(e,r){return t.apply(this,arguments)}}()}(t))},disableGroupMember:function(t,r){e(function(e,t){return function(){var r=Object(N.a)(C.a.mark((function r(n,a){var s,c;return C.a.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.prev=0,r.next=3,ge();case 3:s=r.sent,r.next=10;break;case 6:return r.prev=6,r.t0=r.catch(0),console.error(r.t0),r.abrupt("return");case 10:return a().state,r.next=13,s.signMemberAddressForDisabling(t,{address:s.address});case 13:return c=r.sent,r.prev=14,r.next=17,s.disableGroupMember(e,c);case 17:r.next=23;break;case 19:return r.prev=19,r.t1=r.catch(14),console.error(r.t1),r.abrupt("return");case 23:case"end":return r.stop()}}),r,null,[[0,6],[14,19]])})));return function(e,t){return r.apply(this,arguments)}}()}(t,r))},invalidateUserCert:function(t){e(function(e){return function(){var t=Object(N.a)(C.a.mark((function t(r,n){var a,s,c,i,o,u,p,l,d,f,h,b;return C.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,ge();case 3:a=t.sent,t.next=10;break;case 6:return t.prev=6,t.t0=t.catch(0),console.error(t.t0),t.abrupt("return");case 10:return t.next=12,a.signUserCertForInvalidation(e,{address:a.address});case 12:return s=t.sent,console.log(s),t.prev=14,t.next=17,a.invalidateUserCert(s);case 17:t.next=23;break;case 19:return t.prev=19,t.t1=t.catch(14),console.error(t.t1),t.abrupt("return");case 23:return t.next=25,xe();case 25:return n().state,c=a.address,t.prev=27,t.next=30,a.getGroups(c);case 30:i=t.sent,t.next=38;break;case 33:return t.prev=33,t.t2=t.catch(27),console.error(t.t2),alert("Failed to fetch your groups"),t.abrupt("return");case 38:o=[],u=Object(ie.a)(i),t.prev=40,u.s();case 42:if((p=u.n()).done){t.next=59;break}return l=p.value,d=l.groupId,t.prev=45,t.t3=o,t.next=49,a.getGroupCerts(d);case 49:t.t4=t.sent,o=t.t3.concat.call(t.t3,t.t4),t.next=57;break;case 53:return t.prev=53,t.t5=t.catch(45),console.error(t.t5),t.abrupt("continue",57);case 57:t.next=42;break;case 59:t.next=64;break;case 61:t.prev=61,t.t6=t.catch(40),u.e(t.t6);case 64:return t.prev=64,u.f(),t.finish(64);case 67:for(f=0;f<o.length;f++)o[f].userCerts=[];r({type:"FETCHED_CERTIFICATES_IN_ISSUER",payload:o}),h=C.a.mark((function e(t){var n,s,c;return C.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,a.getIssuedUserCerts(o[t].id);case 2:n=e.sent,o[t].userCerts=n,r({type:"FETCHED_CERTIFICATES_IN_ISSUER",payload:o}),s=0;case 6:if(!(s<n.length)){e.next=14;break}return e.next=9,a.getProfile(n[s].to);case 9:c=e.sent,o[t].userCerts[s].profile=c;case 11:s++,e.next=6;break;case 14:k(o[t].image).then((function(e){o[t].imageUrl=e,r({type:"FETCHED_CERTIFICATES_IN_ISSUER",payload:o})})).catch((function(e){console.error(e)}));case 15:case"end":return e.stop()}}),e)})),b=0;case 71:if(!(b<o.length)){t.next=76;break}return t.delegateYield(h(b),"t7",73);case 73:b++,t.next=71;break;case 76:case"end":return t.stop()}}),t,null,[[0,6],[14,19],[27,33],[40,61,64,67],[45,53]])})));return function(e,r){return t.apply(this,arguments)}}()}(t))},signOut:function(){e(function(){var e=Object(N.a)(C.a.mark((function e(t){return C.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t({type:"SIGN_OUT",payload:null}),f.push("/top");case 2:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}())}}}))(Object(Y.f)(J));c.a.render(Object(b.jsx)(q.a,{store:ce,children:Object(b.jsx)(h.a,{history:f,children:Object(b.jsx)(ve,{})})}),document.getElementById("root")),X()},461:function(e,t,r){},538:function(e,t){},545:function(e,t){},560:function(e,t){},561:function(e,t){},770:function(e,t,r){},771:function(e,t,r){},837:function(e,t){},838:function(e,t){},865:function(e,t){},867:function(e,t){},878:function(e,t){},880:function(e,t){},999:function(e,t){}},[[1263,1,2]]]);
//# sourceMappingURL=main.fa4ed661.chunk.js.map