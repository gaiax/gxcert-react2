(this["webpackJsonpgxcert-react2"]=this["webpackJsonpgxcert-react2"]||[]).push([[0],{1145:function(e,t){},1239:function(e,t,r){},1242:function(e,t,r){"use strict";r.r(t);var n=r(3),a=r.n(n),c=r(189),s=r.n(c),i=(r(460),r(45)),o=r(10),u=r(11),p=r(16),l=r(15),f=(r.p,r(446)),h=r.n(f)()(),b=r(49),d=r(1);var j=function(e){return Object(d.jsxs)("header",{className:"App-header",children:[Object(d.jsxs)("div",{className:"header-wrapper",children:[Object(d.jsx)(b.b,{to:"/",className:"logo",children:"GxCert"}),Object(d.jsx)(b.b,{to:"/issue",className:"header-left-link",children:"ISSUE"})]}),Object(d.jsx)("div",{className:"sign-in-button",onClick:function(){return h.push("/signup")},children:"SIGN IN"})]})};var m=function(){return Object(d.jsxs)("div",{className:"top",children:[Object(d.jsx)("div",{className:"top-left"}),Object(d.jsxs)("div",{className:"top-right",children:[Object(d.jsx)("p",{className:"concept",children:"\u78ba\u304b\u306a\u8a3c\u660e\u66f8\u3092\u8ab0\u306b\u3067\u3082\u7c21\u5358\u306b"}),Object(d.jsx)("p",{className:"concept-large",children:"\u30d6\u30ed\u30c3\u30af\u30c1\u30a7\u30fc\u30f3\u6280\u8853\u306b\u3088\u308b\u3001\u6539\u3056\u3093\u3055\u308c\u306a\u3044\u78ba\u304b\u306a\u8a3c\u660e\u66f8\u3092\u7c21\u5358\u306b\u767a\u884c\u3001\u53d7\u3051\u53d6\u308a\u3059\u308b\u3053\u3068\u304c\u3067\u304d\u307e\u3059\u3002"}),Object(d.jsx)(b.b,{to:"/signup",children:Object(d.jsx)("div",{className:"sign-up",children:"SIGN UP"})})]})]})},O=r(0),g=r.n(O),x=r(23),v=r(447),C=r.n(v),N=r(149),I=r.n(N),w=new(function(){function e(){Object(o.a)(this,e),this.torus=new C.a}return Object(u.a)(e,[{key:"init",value:function(){var e=Object(x.a)(g.a.mark((function e(){return g.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.torus.init({buildEnv:"production",enableLogging:!0,network:{host:"https://matic-mumbai.chainstacklabs.com",chainId:80001,networkName:"Mumbai Testnet"},showTorusButton:!0,enabledVerifiers:{google:!0,facebook:!1,reddit:!1,twitch:!1,discord:!1}});case 2:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"login",value:function(){var e=Object(x.a)(g.a.mark((function e(){var t;return g.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.torus.login();case 2:return t=e.sent,console.log(t),console.log(this.torus),this.web3=new I.a(this.torus.provider),console.log(this.web3),e.abrupt("return",this.web3);case 8:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"getPublicAddressByGoogle",value:function(){var e=Object(x.a)(g.a.mark((function e(t){return g.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.torus.getPublicAddress({verifier:"google",verifierId:t});case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()}]),e}()),E=r(262),y=r.n(E),k={web3Host:"https://matic-mumbai.chainstacklabs.com",contractAddress:"0xddcFaf6fF9232058D1E2A759008cfdC2d057C6c2",gxApi:"https://asia-northeast1-gxcert-21233.cloudfunctions.net/gxcert"},_=null,G=new y.a(new I.a(k.web3Host),k.contractAddress);function A(){return T.apply(this,arguments)}function T(){return(T=Object(x.a)(g.a.mark((function e(){return g.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(G.isInitialized()){e.next=3;break}return e.next=3,G.init();case 3:return e.abrupt("return",G);case 4:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function P(e){if(null===_&&e&&(_=new y.a(e,k.contractAddress,k.gxApi)),null===_)throw new Error("gxCert is not initialized.");return _}var F=function(e){return Object(d.jsx)("div",{className:"sign-in",children:Object(d.jsxs)("div",{className:"sign-in-content",children:[Object(d.jsx)("p",{className:"sign-in-message",children:"\u30b5\u30fc\u30d3\u30b9\u306e\u5229\u7528\u306b\u306fGoogle\u30a2\u30ab\u30a6\u30f3\u30c8\u3067\u306e\u8a8d\u8a3c\u304c\u5fc5\u9808\u3067\u3059\u3002Google\u30a2\u30ab\u30a6\u30f3\u30c8\u3067\u8a8d\u8a3c\u3092\u884c\u3063\u305f\u5f8c\u3001\u767b\u9332\u3092\u5b8c\u4e86\u3055\u305b\u3066\u304f\u3060\u3055\u3044\u3002"}),Object(d.jsx)("img",{src:"/google.png",onClick:e.signIn})]})})};var R=function(e){Object(p.a)(r,e);var t=Object(l.a)(r);function r(){return Object(o.a)(this,r),t.call(this)}return Object(u.a)(r,[{key:"componentDidMount",value:function(){this.props.fetchCertificates()}},{key:"render",value:function(){return Object(d.jsx)("div",{className:"certificates",children:Object(d.jsxs)("div",{className:"certificates-content",children:[Object(d.jsx)("p",{className:"certificates-title",children:"\u8a3c\u660e\u66f8"}),Object(d.jsxs)("div",{className:"certificates-list",children:[0===this.props.userCerts.length?Object(d.jsx)("p",{className:"certificate-not-found",children:"Certificate not found."}):"",this.props.userCerts.map((function(e,t){return Object(d.jsx)(b.b,{to:"/certs/"+e.userCertId,children:Object(d.jsxs)("div",{className:"certificates-list-cell",children:[Object(d.jsx)("img",{src:e.certificate.imageUrl,className:"certificates-list-cell-icon"}),Object(d.jsxs)("div",{className:"certificates-list-cell-detail",children:[Object(d.jsx)("p",{className:"certificates-list-cell-title",children:e.certificate.title}),Object(d.jsx)("p",{className:"certificates-list-cell-date",children:e.certificate.timestamp?new Date(e.certificate.timestamp).toISOString():""}),Object(d.jsx)("p",{className:"certificates-list-cell-by",children:e.certificate.from})]})]})})}))]})]})})}}]),r}(a.a.Component),D=r(151),H=r(259)({host:"ipfs.infura.io",port:5001,protocol:"https"});function S(e){var t=new Blob([e]);return(window.URL||window.webkitURL).createObjectURL(t)}var U=function(e,t){var r=new Uint8Array(e.byteLength+t.byteLength);return r.set(new Uint8Array(e),0),r.set(new Uint8Array(t),e.byteLength),r.buffer};function M(e){var t,r,n,a,c,s,i,o,u,p,l,f,h,b,d,j;return g.a.async((function(m){for(;;)switch(m.prev=m.next){case 0:return m.next=2,g.a.awrap(H.get(e));case 2:t=m.sent,r=!0,n=!1,m.prev=5,c=Object(D.a)(t);case 7:return m.next=9,g.a.awrap(c.next());case 9:return s=m.sent,r=s.done,m.next=13,g.a.awrap(s.value);case 13:if(i=m.sent,r){m.next=56;break}o=i,console.log(o),u=new ArrayBuffer(0),p=!0,l=!1,m.prev=20,h=Object(D.a)(o.content);case 22:return m.next=24,g.a.awrap(h.next());case 24:return b=m.sent,p=b.done,m.next=28,g.a.awrap(b.value);case 28:if(d=m.sent,p){m.next=35;break}u=U(u,d);case 32:p=!0,m.next=22;break;case 35:m.next=41;break;case 37:m.prev=37,m.t0=m.catch(20),l=!0,f=m.t0;case 41:if(m.prev=41,m.prev=42,p||null==h.return){m.next=46;break}return m.next=46,g.a.awrap(h.return());case 46:if(m.prev=46,!l){m.next=49;break}throw f;case 49:return m.finish(46);case 50:return m.finish(41);case 51:return j=S(u),m.abrupt("return",j);case 53:r=!0,m.next=7;break;case 56:m.next=62;break;case 58:m.prev=58,m.t1=m.catch(5),n=!0,a=m.t1;case 62:if(m.prev=62,m.prev=63,r||null==c.return){m.next=67;break}return m.next=67,g.a.awrap(c.return());case 67:if(m.prev=67,!n){m.next=70;break}throw a;case 70:return m.finish(67);case 71:return m.finish(62);case 72:return m.abrupt("return",null);case 73:case"end":return m.stop()}}),null,null,[[5,58,62,72],[20,37,41,51],[42,,46,50],[63,,67,71]],Promise)}var L=function(e){Object(p.a)(r,e);var t=Object(l.a)(r);function r(){return Object(o.a)(this,r),t.call(this)}return Object(u.a)(r,[{key:"componentDidMount",value:function(){var e=parseInt(this.props.match.params.id);this.props.fetchCertificate(e)}},{key:"render",value:function(){return console.log(this.props.userCert),Object(d.jsx)("div",{className:"certificate",children:this.props.userCert&&this.props.userCert.certificate?Object(d.jsxs)("div",{className:"certificate-content",children:[Object(d.jsx)("p",{className:"certificate-title",children:this.props.userCert.certificate.title}),Object(d.jsx)("img",{src:this.props.certificateImage,className:"certificate-icon"}),Object(d.jsxs)("table",{className:"certificate-detail",children:[Object(d.jsxs)("tr",{children:[Object(d.jsx)("td",{children:"Publisher: "}),Object(d.jsx)("td",{children:this.props.userCert.certificate.group?this.props.userCert.certificate.group.name:""})]}),Object(d.jsxs)("tr",{children:[Object(d.jsx)("td",{children:"Title: "}),Object(d.jsx)("td",{children:this.props.userCert.certificate.title})]}),Object(d.jsxs)("tr",{children:[Object(d.jsx)("td",{children:"Description: "}),Object(d.jsx)("td",{children:this.props.userCert.certificate.description})]}),Object(d.jsxs)("tr",{children:[Object(d.jsx)("td",{children:"Issued at: "}),Object(d.jsx)("td",{children:new Date(parseInt(1e3*this.props.userCert.timestamp)).toISOString()})]})]}),Object(d.jsxs)("div",{className:"certificate-buttons",children:[Object(d.jsx)("div",{className:"certificate-button",children:"\u53c2\u7167URL\u306e\u767a\u884c"}),Object(d.jsx)("div",{className:"certificate-button",children:"PDF\u306e\u30c0\u30a6\u30f3\u30ed\u30fc\u30c9"})]})]}):Object(d.jsx)("div",{className:"certificate-content",children:Object(d.jsx)("p",{className:"certificate-not-found",children:"Certificate not found."})})})}}]),r}(a.a.Component),B=function(e){Object(p.a)(r,e);var t=Object(l.a)(r);function r(){return Object(o.a)(this,r),t.call(this)}return Object(u.a)(r,[{key:"componentDidMount",value:function(){this.props.fetchGroups()}},{key:"render",value:function(){var e=this,t="";try{t=S(this.props.image)}catch(r){console.error(r)}return Object(d.jsx)("div",{className:"new-cert",children:Object(d.jsxs)("div",{className:"new-cert-content",children:[Object(d.jsx)("p",{className:"new-cert-title",children:"\u8a3c\u660e\u66f8\u306e\u767b\u9332"}),Object(d.jsx)("p",{className:"new-cert-description",children:"\u8a3c\u660e\u66f8\u3092\u767b\u9332\u3057\u3066\u304f\u3060\u3055\u3044\u3002\u8a3c\u660e\u66f8\u306f\u8907\u6570\u767b\u9332\u3059\u308b\u3053\u3068\u304c\u3067\u304d\u3001\u305d\u308c\u305e\u308c\u306e\u8907\u6570\u306e\u30e6\u30fc\u30b6\u30fc\u306b\u5bfe\u3057\u3066\u767a\u884c\u3059\u308b\u3053\u3068\u304c\u3067\u304d\u307e\u3059\u3002"}),Object(d.jsxs)("div",{className:"new-cert-form",children:[Object(d.jsx)("p",{className:"new-cert-form-title",children:"Group"}),Object(d.jsxs)("select",{className:"new-cert-form-group",onChange:this.props.onChangeGroup,children:[Object(d.jsx)("option",{hidden:!0,children:"Choose group"}),this.props.groups.map((function(e){return Object(d.jsx)("option",{value:e.groupId.toString(),children:e.name})})),Object(d.jsx)("option",{value:"new",children:"Create new group"})]}),Object(d.jsx)("p",{className:"new-cert-form-title",children:"Title of Certificate"}),Object(d.jsx)("input",{type:"text",className:"new-cert-form-name",onChange:this.props.onChangeTitle}),Object(d.jsx)("p",{className:"new-cert-form-title",children:"Description of Certificate"}),Object(d.jsx)("textarea",{className:"new-cert-form-description",onChange:this.props.onChangeDescription}),Object(d.jsx)("p",{className:"new-cert-form-title",children:"Certificate Image"}),Object(d.jsx)("img",{src:t,className:"new-cert-form-image"}),Object(d.jsx)("div",{className:"new-cert-form-image-file-div",children:Object(d.jsxs)("label",{className:"new-cert-form-image-file-label",children:[Object(d.jsx)("input",{type:"file",className:"new-cert-form-image-file",onChange:this.props.onChangeImage}),"\u753b\u50cf\u9078\u629e"]})}),Object(d.jsx)("div",{className:"register-button",onClick:function(){return e.props.sign()},children:"\u767b\u9332"})]})]})})}}]),r}(a.a.Component),z=function(e){Object(p.a)(r,e);var t=Object(l.a)(r);function r(){return Object(o.a)(this,r),t.call(this)}return Object(u.a)(r,[{key:"render",value:function(){return Object(d.jsx)("div",{className:"new-profile",children:Object(d.jsxs)("div",{className:"new-profile-content",children:[Object(d.jsx)("p",{className:"new-profile-title",children:"\u30e6\u30fc\u30b6\u30fc\u767b\u9332"}),Object(d.jsxs)("div",{className:"new-profile-form",children:[Object(d.jsx)("img",{src:this.props.imageUrl,className:"new-profile-form-image"}),Object(d.jsx)("p",{className:"new-profile-form-title",children:"Name"}),Object(d.jsx)("input",{type:"text",className:"new-profile-form-name",onChange:this.props.onChangeProfileName}),Object(d.jsx)("p",{className:"new-profile-form-title",children:"E-mail"}),Object(d.jsx)("input",{type:"text",className:"new-profile-form-email",onChange:this.props.onChangeProfileEmail}),Object(d.jsx)("div",{className:"register-button",onClick:this.props.registerProfile,children:"\u767b\u9332"})]})]})})}}]),r}(a.a.Component),J=function(e){Object(p.a)(r,e);var t=Object(l.a)(r);function r(){return Object(o.a)(this,r),t.call(this)}return Object(u.a)(r,[{key:"render",value:function(){return Object(d.jsx)("div",{className:"new-group",children:Object(d.jsxs)("div",{className:"new-group-content",children:[Object(d.jsx)("p",{className:"new-group-title",children:"\u767a\u884c\u5143\u306e\u767b\u9332"}),Object(d.jsx)("p",{className:"new-group-description",children:"\u8a3c\u660e\u66f8\u306e\u767a\u884c\u306b\u306f\u767a\u884c\u5143\u3068\u306a\u308b\u56e3\u4f53\uff08\u4f01\u696d\u3001\u6559\u80b2\u6a5f\u95a2\u3001NPO\u6cd5\u4eba\u306a\u3069\uff09\u306e\u767b\u9332\u304c\u5fc5\u8981\u3067\u3059\u3002"}),Object(d.jsxs)("div",{className:"new-group-form",children:[Object(d.jsx)("p",{className:"new-group-form-title",children:"Name"}),Object(d.jsx)("input",{type:"text",className:"new-group-form-name",onChange:this.props.onChangeGroupName}),Object(d.jsx)("p",{className:"new-group-form-title",children:"Address"}),Object(d.jsx)("input",{type:"text",className:"new-group-form-address",onChange:this.props.onChangeGroupAddress}),Object(d.jsx)("p",{className:"new-group-form-title",children:"Phone"}),Object(d.jsx)("input",{type:"text",className:"new-group-form-phone",onChange:this.props.onChangeGroupPhone}),Object(d.jsx)("div",{className:"register-button",onClick:this.props.registerGroup,children:"\u767b\u9332"})]})]})})}}]),r}(a.a.Component),V=function(e){Object(p.a)(r,e);var t=Object(l.a)(r);function r(){return Object(o.a)(this,r),t.call(this)}return Object(u.a)(r,[{key:"componentDidMount",value:function(){this.props.fetchGroup(parseInt(this.props.match.params.id))}},{key:"render",value:function(){var e=this;return Object(d.jsx)("div",{className:"group-members",children:Object(d.jsx)("div",{className:"group-members-content",children:e.props.group?Object(d.jsxs)("div",{children:[Object(d.jsxs)("p",{className:"group-members-title",children:[e.props.group.name,"\u306e\u30e1\u30f3\u30d0\u30fc"]}),Object(d.jsx)("input",{type:"text",className:"group-members-invite"}),Object(d.jsx)("button",{className:"group-members-invite-button",onClick:e.props.inviteMember,children:"Invite"}),Object(d.jsx)("div",{className:"group-members-list",children:e.props.group.members.map((function(e){return Object(d.jsxs)("div",{className:"group-members-list-cell",children:[Object(d.jsx)("img",{src:e.imageUrl,className:"group-members-list-cell-icon"}),Object(d.jsxs)("div",{className:"group-members-list-cell-detail",children:[Object(d.jsx)("p",{className:"group-members-list-cell-name",children:e.name}),Object(d.jsx)("p",{className:"group-members-list-cell-address",children:e.address})]})]})}))})]}):Object(d.jsx)("p",{children:"Group not found."})})})}}]),r}(a.a.Component),X=function(e){Object(p.a)(r,e);var t=Object(l.a)(r);function r(){return Object(o.a)(this,r),t.call(this)}return Object(u.a)(r,[{key:"componentDidMount",value:function(){this.props.fetchCertificates()}},{key:"render",value:function(){return Object(d.jsx)("div",{className:"issuer",children:Object(d.jsxs)("div",{className:"issuer-certificates",children:[Object(d.jsx)(b.b,{to:"/new",children:Object(d.jsx)("div",{className:"issuer-certificates-new",children:"\u65b0\u898f\u4f5c\u6210"})}),Object(d.jsx)("br",{}),Object(d.jsx)("p",{className:"issuer-certificates-title",children:"\u8a3c\u660e\u66f8"}),Object(d.jsx)("div",{className:"issuer-certificates-list",children:this.props.certificates.map((function(e){return Object(d.jsxs)("div",{className:"issuer-certificates-list-cell",children:[Object(d.jsx)("img",{src:e.imageUrl,className:"issuer-certificates-list-cell-icon"}),Object(d.jsx)("p",{className:"issuer-certificates-list-cell-title",children:e.title}),Object(d.jsx)(b.b,{to:"/issue/"+e.id,children:Object(d.jsx)("div",{className:"issuer-certificates-list-cell-issue",children:"\u767a\u884c"})})]})}))})]})})}}]),r}(a.a.Component),q=function(e){Object(p.a)(r,e);var t=Object(l.a)(r);function r(){return Object(o.a)(this,r),t.call(this)}return Object(u.a)(r,[{key:"componentDidMount",value:function(){this.certId=parseInt(this.props.match.params.certId),this.props.fetchCertificate(this.certId)}},{key:"render",value:function(){var e=this;return Object(d.jsx)("div",{className:"issue",children:this.props.certificate?Object(d.jsxs)("div",{className:"issue-content",children:[Object(d.jsxs)("p",{className:"issue-title",children:[this.props.certificate.title,"\u306e\u767a\u884c"]}),Object(d.jsx)("p",{className:"issue-form-title",children:"Add Address"}),Object(d.jsxs)("div",{className:"issue-form",children:[Object(d.jsx)("input",{type:"text",className:"issue-form-to",onChange:this.props.onChangeToInIssue}),Object(d.jsx)("button",{className:"issue-form-issue",onClick:function(){e.props.issue(e.certId)},children:"\u767a\u884c"})]})]}):Object(d.jsx)("div",{className:"issue-content",children:Object(d.jsx)("p",{className:"certificate-not-found",children:"Certificate not found."})})})}}]),r}(a.a.Component),K=(r(1239),r(35)),Q=function(e){Object(p.a)(r,e);var t=Object(l.a)(r);function r(){return Object(o.a)(this,r),t.call(this)}return Object(u.a)(r,[{key:"render",value:function(){var e=this;return Object(d.jsxs)("div",{className:"App",children:[Object(d.jsx)(j,{}),Object(d.jsxs)(K.c,{children:[Object(d.jsx)(K.a,{exact:!0,path:"/",render:function(t){return""===e.props.state.from?Object(d.jsx)(m,{}):Object(d.jsx)(R,Object(i.a)(Object(i.a)({},t),{},{userCerts:e.props.state.certificates,fetchCertificates:e.props.fetchCertificates}))}}),Object(d.jsx)(K.a,{exact:!0,path:"/signup",render:function(t){return Object(d.jsx)(F,Object(i.a)(Object(i.a)({},t),{},{signIn:e.props.signIn}))}}),Object(d.jsx)(K.a,{exact:!0,path:"/new/",render:function(){return Object(d.jsx)(B,{fetchGroups:e.props.fetchGroups,onChangeTitle:e.props.onChangeTitle,onChangeDescription:e.props.onChangeDescription,onChangeImage:e.props.onChangeImage,onChangeGroup:e.props.onChangeGroup,sign:e.props.sign,from:e.props.state.from,image:e.props.state.image,groups:e.props.state.groups})}}),Object(d.jsx)(K.a,{exact:!0,path:"/issue/",render:function(t){return Object(d.jsx)(X,Object(i.a)(Object(i.a)({},t),{},{groups:e.props.state.groupsInIssuer,certificates:e.props.state.certificatesInIssuer,fetchCertificates:e.props.fetchCertificatesInIssuer,issue:e.props.issue}))}}),Object(d.jsx)(K.a,{exact:!0,path:"/issue/:certId",render:function(t){return Object(d.jsx)(q,Object(i.a)(Object(i.a)({},t),{},{certificate:e.props.state.certificateInIssue,fetchCertificate:e.props.fetchCertificateInIssue,onChangeToInIssue:e.props.onChangeToInIssue,issue:e.props.issue}))}}),Object(d.jsx)(K.a,{exact:!0,path:"/certs/:id",render:function(t){return Object(d.jsx)(L,Object(i.a)(Object(i.a)({},t),{},{userCert:e.props.state.certificate,certificateImage:e.props.state.certificateImage,fetchCertificate:e.props.fetchCertificate}))}}),Object(d.jsx)(K.a,{exact:!0,path:"/group/new",render:function(t){return Object(d.jsx)(J,Object(i.a)(Object(i.a)({},t),{},{registerGroup:e.props.registerGroup,onChangeGroupName:e.props.onChangeGroupName,onChangeGroupAddress:e.props.onChangeGroupAddress,onChangeGroupPhone:e.props.onChangeGroupPhone}))}}),Object(d.jsx)(K.a,{exact:!0,path:"/group/:id",render:function(t){return Object(d.jsx)(V,Object(i.a)(Object(i.a)({},t),{},{group:e.props.state.group,fetchGroup:e.props.fetchGroup,inviteMember:e.props.inviteMember}))}}),Object(d.jsx)(K.a,{exact:!0,path:"/profile/new",render:function(t){return Object(d.jsx)(z,Object(i.a)(Object(i.a)({},t),{},{imageUrl:e.props.state.profileImageUrl,registerProfile:e.props.registerProfile,onChangeProfileName:e.props.onChangeProfileName,onChangeProfileEmail:e.props.onChangeProfileEmail,onChangeProfileImage:e.props.onChangeProfileImage}))}})]})]})}}]),r}(a.a.Component),W=function(e){e&&e instanceof Function&&r.e(3).then(r.bind(null,1246)).then((function(t){var r=t.getCLS,n=t.getFID,a=t.getFCP,c=t.getLCP,s=t.getTTFB;r(e),n(e),a(e),c(e),s(e)}))},Y=r(450),Z=r(263),$=r(83),ee={from:"",to:"",title:"",description:"",image:null,toInIssue:"",groupId:null,groupName:"",groupAddress:"",groupPhone:"",groupInIssuer:null,certificate:{},certificateImage:"",certificates:[],certificatesInIssuer:[],certificateInIssue:null,group:null,groups:[],profileName:"",profileEmail:"",profileImage:""};var te=r(451),re=r(264),ne=r(452),ae={key:"root",storage:r.n(ne).a},ce=Object(re.a)(ae,(function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:ee,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"ON_CHANGE_TITLE":return Object.assign({},e,{title:t.payload});case"ON_CHANGE_DESCRIPTION":return Object.assign({},e,{description:t.payload});case"ON_CHANGE_IMAGE":return Object.assign({},e,{image:t.payload});case"ON_CHANGE_GROUP":return Object.assign({},e,{groupId:t.payload});case"ON_CHANGE_GROUP_NAME":return Object.assign({},e,{groupName:t.payload});case"ON_CHANGE_GROUP_ADDRESS":return Object.assign({},e,{groupAddress:t.payload});case"ON_CHANGE_GROUP_PHONE":return Object.assign({},e,{groupPhone:t.payload});case"ON_CHANGE_PROFILE_NAME":return Object.assign({},e,{profileName:t.payload});case"ON_CHANGE_PROFILE_EMAIL":case"ON_CHANGE_PROFILE_EMAIL":return Object.assign({},e,{profileEmail:t.payload});case"ON_CHANGE_PROFILE_IMAGE":return Object.assign({},e,{image:t.payload});case"ON_CHANGE_TO_IN_ISSUE":return Object.assign({},e,{toInIssue:t.payload});case"LOGGED_IN":return Object.assign({},e,{from:t.payload});case"FETCHED_CERTIFICATE":return Object.assign({},e,{certificate:t.payload});case"FETCHED_CERTIFICATE_IN_ISSUE":return Object.assign({},e,{certificateInIssue:t.payload});case"FETCHED_CERTIFICATES":return Object.assign({},e,{certificates:t.payload});case"FETCHED_CERTIFICATE_IMAGE":return Object.assign({},e,{certificateImage:t.payload});case"FETCHED_GROUPS":return Object.assign({},e,{groups:t.payload});case"FETCHED_GROUP":return Object.assign({},e,{group:t.payload});case"FETCHED_CERTIFICATES_IN_ISSUER":return Object.assign({},e,{certificatesInIssuer:t.payload});default:return ee}})),se=window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__||$.c,ie=Object($.d)(Object($.b)({state:ce}),ee,se(Object($.a)(te.a))),oe=Object(re.b)(ie),ue=ie,pe=r(453);var le=Object(Z.b)((function(e,t){return e}),(function(e,t){return{onChangeTitle:function(t){e(function(e){return function(){var t=Object(x.a)(g.a.mark((function t(r,n){return g.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:r({type:"ON_CHANGE_TITLE",payload:e.target.value});case 1:case"end":return t.stop()}}),t)})));return function(e,r){return t.apply(this,arguments)}}()}(t))},onChangeDescription:function(t){e(function(e){return function(){var t=Object(x.a)(g.a.mark((function t(r,n){return g.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:r({type:"ON_CHANGE_DESCRIPTION",payload:e.target.value});case 1:case"end":return t.stop()}}),t)})));return function(e,r){return t.apply(this,arguments)}}()}(t))},onChangeImage:function(t){e(function(e){return function(){var t=Object(x.a)(g.a.mark((function t(r,n){var a,c;return g.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:a=e.target.files[0],(c=new FileReader).onload=function(){r({type:"ON_CHANGE_IMAGE",payload:c.result})},c.readAsArrayBuffer(a);case 4:case"end":return t.stop()}}),t)})));return function(e,r){return t.apply(this,arguments)}}()}(t))},onChangeGroupName:function(t){e(function(e){return function(){var t=Object(x.a)(g.a.mark((function t(r,n){return g.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:r({type:"ON_CHANGE_GROUP_NAME",payload:e.target.value});case 1:case"end":return t.stop()}}),t)})));return function(e,r){return t.apply(this,arguments)}}()}(t))},onChangeGroupAddress:function(t){e(function(e){return function(){var t=Object(x.a)(g.a.mark((function t(r,n){return g.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:r({type:"ON_CHANGE_GROUP_ADDRESS",payload:e.target.value});case 1:case"end":return t.stop()}}),t)})));return function(e,r){return t.apply(this,arguments)}}()}(t))},onChangeGroupPhone:function(t){e(function(e){return function(){var t=Object(x.a)(g.a.mark((function t(r,n){return g.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:r({type:"ON_CHANGE_GROUP_PHONE",payload:e.target.value});case 1:case"end":return t.stop()}}),t)})));return function(e,r){return t.apply(this,arguments)}}()}(t))},onChangeProfileName:function(t){e(function(e){return function(){var t=Object(x.a)(g.a.mark((function t(r,n){return g.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:r({type:"ON_CHANGE_PROFILE_NAME",payload:e.target.value});case 1:case"end":return t.stop()}}),t)})));return function(e,r){return t.apply(this,arguments)}}()}(t))},onChangeProfileEmail:function(t){e(function(e){return function(){var t=Object(x.a)(g.a.mark((function t(r,n){return g.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:r({type:"ON_CHANGE_PROFILE_EMAIL",payload:e.target.value});case 1:case"end":return t.stop()}}),t)})));return function(e,r){return t.apply(this,arguments)}}()}(t))},onChangeProfileImage:function(t){e(function(e){return function(){var t=Object(x.a)(g.a.mark((function t(r,n){var a,c;return g.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:a=e.target.files[0],(c=new FileReader).onload=function(){r({type:"ON_CHANGE_PROFILE_IMAGE",payload:c.result})},c.readAsArrayBuffer(a);case 4:case"end":return t.stop()}}),t)})));return function(e,r){return t.apply(this,arguments)}}()}(t))},onChangeGroup:function(t){e(function(e){return function(){var t=Object(x.a)(g.a.mark((function t(r,n){return g.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if("new"!==e.target.value){t.next=3;break}return h.push("/group/new"),t.abrupt("return");case 3:r({type:"ON_CHANGE_GROUP",payload:parseInt(e.target.value)});case 4:case"end":return t.stop()}}),t)})));return function(e,r){return t.apply(this,arguments)}}()}(t))},onChangeToInIssue:function(t){e(function(e){return function(){var t=Object(x.a)(g.a.mark((function t(r){return g.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:r({type:"ON_CHANGE_TO_IN_ISSUE",payload:e.target.value});case 1:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()}(t))},sign:function(){e(function(){var e=Object(x.a)(g.a.mark((function e(t,r){var n,a,c,s,i,o;return g.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:e.prev=0,n=P(),e.next=8;break;case 4:return e.prev=4,e.t0=e.catch(0),console.error(e.t0),e.abrupt("return");case 8:if(a=r().state,c=a.image){e.next=13;break}return alert("Image not set."),e.abrupt("return");case 13:return e.prev=13,e.next=16,n.uploadImageToIpfs(c);case 16:s=e.sent,e.next=24;break;case 19:return e.prev=19,e.t1=e.catch(13),console.error(e.t1),alert("Failed to post the image to IPFS."),e.abrupt("return");case 24:return e.next=26,n.web3.eth.getAccounts();case 26:if(e.sent,i={context:{},title:a.title,description:a.description,image:s,groupId:a.groupId},n.isCertificate(i)){e.next=31;break}return alert("Invalid Certificate."),e.abrupt("return");case 31:return o=null,e.prev=32,e.next=35,n.signCertificate(i,{address:a.from});case 35:o=e.sent,e.next=43;break;case 38:return e.prev=38,e.t2=e.catch(32),console.error(e.t2),alert("Failed to sign the certificate."),e.abrupt("return");case 43:return e.prev=43,e.next=46,n.createCert(o);case 46:e.next=53;break;case 48:return e.prev=48,e.t3=e.catch(43),console.error(e.t3),alert("Failed to post the signed certificate."),e.abrupt("return");case 53:h.push("/issue");case 54:case"end":return e.stop()}}),e,null,[[0,4],[13,19],[32,38],[43,48]])})));return function(t,r){return e.apply(this,arguments)}}())},fetchCertificate:function(t){var r;e((r=t,function(){var e=Object(x.a)(g.a.mark((function e(t){var n,a,c,s,i,o;return g.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,A();case 3:n=e.sent,e.next=10;break;case 6:return e.prev=6,e.t0=e.catch(0),console.error(e.t0),e.abrupt("return");case 10:return e.prev=10,e.next=13,n.getUserCert(r);case 13:a=e.sent,e.next=20;break;case 16:return e.prev=16,e.t1=e.catch(10),console.error(e.t1),e.abrupt("return");case 20:return t({type:"FETCHED_CERTIFICATE",payload:a}),c=a.certificate.image,e.prev=22,e.next=25,M(c);case 25:s=e.sent,e.next=32;break;case 28:return e.prev=28,e.t2=e.catch(22),console.error(e.t2),e.abrupt("return");case 32:return t({type:"FETCHED_CERTIFICATE_IMAGE",payload:s}),e.prev=33,e.next=36,n.getGroup(a.certificate.groupId);case 36:i=e.sent,a.certificate.group=i,t({type:"FETCHED_CERTIFICATE",payload:a}),e.next=45;break;case 41:return e.prev=41,e.t3=e.catch(33),console.error(e.t3),e.abrupt("return");case 45:return e.prev=45,e.next=48,n.getProfile(a.certificate.to);case 48:o=e.sent,a.certificate.to=o.name,t({type:"FETCHED_CERTIFICATE",payload:a}),e.next=57;break;case 53:return e.prev=53,e.t4=e.catch(45),console.error(e.t4),e.abrupt("return");case 57:case"end":return e.stop()}}),e,null,[[0,6],[10,16],[22,28],[33,41],[45,53]])})));return function(t){return e.apply(this,arguments)}}()))},fetchCertificates:function(){e(function(){var e=Object(x.a)(g.a.mark((function e(t,r){var n,a,c,s,i,o;return g.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=r().state,""!==(a=n.from)&&a){e.next=5;break}return h.push("/top"),e.abrupt("return");case 5:return e.prev=5,e.next=8,A();case 8:c=e.sent,e.next=15;break;case 11:return e.prev=11,e.t0=e.catch(5),console.error(e.t0),e.abrupt("return");case 15:return e.prev=15,e.next=18,c.getReceivedUserCerts(a);case 18:s=e.sent,e.next=25;break;case 21:return e.prev=21,e.t1=e.catch(15),console.error(e.t1),e.abrupt("return");case 25:for(console.log(s),i=function(e){M(s[e].certificate.image).then((function(r){s[e].certificate.imageUrl=r,t({type:"FETCHED_CERTIFICATES",payload:s})}))},o=0;o<s.length;o++)i(o);t({type:"FETCHED_CERTIFICATES",payload:s});case 29:case"end":return e.stop()}}),e,null,[[5,11],[15,21]])})));return function(t,r){return e.apply(this,arguments)}}())},fetchGroups:function(){e(function(){var e=Object(x.a)(g.a.mark((function e(t,r){var n,a,c,s;return g.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:e.prev=0,n=P(),e.next=8;break;case 4:return e.prev=4,e.t0=e.catch(0),console.error(e.t0),e.abrupt("return");case 8:return a=r().state,c=a.from,e.prev=10,e.next=13,n.getGroups(c);case 13:s=e.sent,e.next=20;break;case 16:return e.prev=16,e.t1=e.catch(10),console.error(e.t1),e.abrupt("return");case 20:t({type:"FETCHED_GROUPS",payload:s});case 21:case"end":return e.stop()}}),e,null,[[0,4],[10,16]])})));return function(t,r){return e.apply(this,arguments)}}())},fetchGroup:function(t){e(function(e){return function(){var t=Object(x.a)(g.a.mark((function t(r,n){var a,c;return g.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,A();case 3:a=t.sent,t.next=10;break;case 6:return t.prev=6,t.t0=t.catch(0),console.error(t.t0),t.abrupt("return");case 10:return t.prev=10,t.next=13,a.getGroup(e);case 13:c=t.sent,t.next=20;break;case 16:return t.prev=16,t.t1=t.catch(10),console.error(t.t1),t.abrupt("return");case 20:r({type:"FETCHED_GROUP",payload:c});case 21:case"end":return t.stop()}}),t,null,[[0,6],[10,16]])})));return function(e,r){return t.apply(this,arguments)}}()}(t))},fetchCertificatesInIssuer:function(){e(function(){var e=Object(x.a)(g.a.mark((function e(t,r){var n,a,c,s,i,o,u,p,l,f,h;return g.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:e.prev=0,n=P(),e.next=8;break;case 4:return e.prev=4,e.t0=e.catch(0),console.error(e.t0),e.abrupt("return");case 8:return a=r().state,c=a.from,e.prev=10,e.next=13,n.getGroups(c);case 13:s=e.sent,e.next=21;break;case 16:return e.prev=16,e.t1=e.catch(10),console.error(e.t1),alert("Failed to fetch your groups"),e.abrupt("return");case 21:i=[],o=Object(pe.a)(s),e.prev=23,o.s();case 25:if((u=o.n()).done){e.next=42;break}return p=u.value,l=p.groupId,e.prev=28,e.t2=i,e.next=32,n.getGroupCerts(l);case 32:e.t3=e.sent,i=e.t2.concat.call(e.t2,e.t3),e.next=40;break;case 36:return e.prev=36,e.t4=e.catch(28),console.error(e.t4),e.abrupt("continue",40);case 40:e.next=25;break;case 42:e.next=47;break;case 44:e.prev=44,e.t5=e.catch(23),o.e(e.t5);case 47:return e.prev=47,o.f(),e.finish(47);case 50:for(t({type:"FETCHED_CERTIFICATES_IN_ISSUER",payload:i}),f=function(e){M(i[e].image).then((function(r){i[e].imageUrl=r,t({type:"FETCHED_CERTIFICATES_IN_ISSUER",payload:i})})).catch((function(e){console.error(e)}))},h=0;h<i.length;h++)f(h);case 53:case"end":return e.stop()}}),e,null,[[0,4],[10,16],[23,44,47,50],[28,36]])})));return function(t,r){return e.apply(this,arguments)}}())},fetchCertificateInIssue:function(t){e(function(e){return function(){var t=Object(x.a)(g.a.mark((function t(r){var n,a;return g.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,A();case 3:n=t.sent,t.next=10;break;case 6:return t.prev=6,t.t0=t.catch(0),console.error(t.t0),t.abrupt("return");case 10:return t.prev=10,t.next=13,n.getCert(e);case 13:a=t.sent,t.next=20;break;case 16:return t.prev=16,t.t1=t.catch(10),console.error(t.t1),t.abrupt("return");case 20:r({type:"FETCHED_CERTIFICATE_IN_ISSUE",payload:a});case 21:case"end":return t.stop()}}),t,null,[[0,6],[10,16]])})));return function(e){return t.apply(this,arguments)}}()}(t))},signIn:function(){e(function(){var e=Object(x.a)(g.a.mark((function e(t){var r,n,a,c;return g.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,w.init();case 2:return e.next=4,w.login();case 4:return r=e.sent,n=P(r),e.next=8,n.init();case 8:return e.next=10,n.web3.eth.getAccounts();case 10:if(0!==(a=e.sent).length){e.next=14;break}return console.log("Failed to login."),e.abrupt("return");case 14:return c=a[0],t({type:"LOGGED_IN",payload:c}),e.prev=16,e.next=19,n.getProfile(c);case 19:e.sent,e.next=27;break;case 22:return e.prev=22,e.t0=e.catch(16),console.error(e.t0),h.push("/profile/new"),e.abrupt("return");case 27:h.push("/");case 28:case"end":return e.stop()}}),e,null,[[16,22]])})));return function(t){return e.apply(this,arguments)}}())},registerGroup:function(){e(function(){var e=Object(x.a)(g.a.mark((function e(t,r){var n,a,c,s;return g.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:e.prev=0,n=P(),e.next=8;break;case 4:return e.prev=4,e.t0=e.catch(0),console.error(e.t0),e.abrupt("return");case 8:return a=r().state,c=a.from,s=a.groupName,a.groupAddress,a.groupPhone,e.prev=13,e.next=16,n.createGroup(s,c);case 16:e.next=23;break;case 18:return e.prev=18,e.t1=e.catch(13),console.error(e.t1),alert("Failed to create group."),e.abrupt("return");case 23:h.push("/new");case 24:case"end":return e.stop()}}),e,null,[[0,4],[13,18]])})));return function(t,r){return e.apply(this,arguments)}}())},registerProfile:function(){e(function(){var e=Object(x.a)(g.a.mark((function e(t,r){var n,a,c,s,i,o;return g.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:e.prev=0,n=P(),e.next=8;break;case 4:return e.prev=4,e.t0=e.catch(0),console.error(e.t0),e.abrupt("return");case 8:return a=r().state,c=a.profileName,s=a.profileEmail,i=a.from,e.prev=12,e.next=15,n.signProfile({name:c,email:s},{address:i});case 15:o=e.sent,e.next=23;break;case 18:return e.prev=18,e.t1=e.catch(12),console.error(e.t1),alert("Failed to sign profile."),e.abrupt("return");case 23:return e.prev=23,e.next=26,n.createProfile(i,o);case 26:e.next=33;break;case 28:return e.prev=28,e.t2=e.catch(23),console.error(e.t2),alert("Failed to register profile."),e.abrupt("return");case 33:h.push("/");case 34:case"end":return e.stop()}}),e,null,[[0,4],[12,18],[23,28]])})));return function(t,r){return e.apply(this,arguments)}}())},inviteMember:function(){e(function(){var e=Object(x.a)(g.a.mark((function e(t,r){var n,a,c,s,i,o,u,p;return g.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:e.prev=0,n=P(),e.next=8;break;case 4:return e.prev=4,e.t0=e.catch(0),console.error(e.t0),e.abrupt("return");case 8:return a=r().state,c=a.from,s=a.group.groupId,i=a.group.emailToInvite,e.prev=12,e.next=15,w.getPublicAddressByGoogle(i);case 15:o=e.sent,e.next=23;break;case 18:return e.prev=18,e.t1=e.catch(12),console.error(e.t1),alert("Email is not registered."),e.abrupt("return");case 23:return e.prev=23,e.next=26,n.signMemberAddress(o,{address:c});case 26:u=e.sent,e.next=34;break;case 29:return e.prev=29,e.t2=e.catch(23),console.error(e.t2),alert("Failed to sign for invitation."),e.abrupt("return");case 34:return e.prev=34,e.next=37,n.inviteMemberToGroup(s,u);case 37:e.next=44;break;case 39:return e.prev=39,e.t3=e.catch(34),console.error(e.t3),alert("Failed to send invitation."),e.abrupt("return");case 44:return e.prev=44,e.next=47,n.getGroup(s);case 47:p=e.sent,e.next=54;break;case 50:return e.prev=50,e.t4=e.catch(44),console.error(e.t4),e.abrupt("return");case 54:t({type:"FETCHED_GROUP",payload:p});case 55:case"end":return e.stop()}}),e,null,[[0,4],[12,18],[23,29],[34,39],[44,50]])})));return function(t,r){return e.apply(this,arguments)}}())},issue:function(t){e(function(e){return function(){var t=Object(x.a)(g.a.mark((function t(r,n){var a,c,s,i,o,u,p;return g.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:t.prev=0,a=P(),t.next=8;break;case 4:return t.prev=4,t.t0=t.catch(0),console.error(t.t0),t.abrupt("return");case 8:return c=n().state,s=c.from,c.from,i=c.toInIssue,t.prev=12,t.next=15,w.getPublicAddressByGoogle(i);case 15:o=t.sent,t.next=23;break;case 18:return t.prev=18,t.t1=t.catch(12),console.error(t.t1),alert("Failed to get public address of the Google account."),t.abrupt("return");case 23:return u={certId:e,from:s,to:o},t.prev=24,t.next=27,a.signUserCertificate(u,{address:s});case 27:p=t.sent,t.next=35;break;case 30:return t.prev=30,t.t2=t.catch(24),console.error(t.t2),alert("Failed to sign the certificate."),t.abrupt("return");case 35:return t.prev=35,t.next=38,a.createUserCert(p);case 38:t.next=45;break;case 40:return t.prev=40,t.t3=t.catch(35),console.error(t.t3),alert("Failed to issue the certificate."),t.abrupt("return");case 45:h.push("/");case 46:case"end":return t.stop()}}),t,null,[[0,4],[12,18],[24,30],[35,40]])})));return function(e,r){return t.apply(this,arguments)}}()}(t))}}}))(Object(K.f)(Q));s.a.render(Object(d.jsx)(Z.a,{store:ue,children:Object(d.jsx)(Y.a,{loading:null,persistor:oe,children:Object(d.jsx)(b.a,{history:h,children:Object(d.jsx)(le,{})})})}),document.getElementById("root")),W()},460:function(e,t,r){},512:function(e,t){},535:function(e,t){},537:function(e,t){},604:function(e,t){},606:function(e,t){},638:function(e,t){},643:function(e,t){},645:function(e,t){},652:function(e,t){},665:function(e,t){},688:function(e,t){},705:function(e,t){},809:function(e,t){},815:function(e,t){},827:function(e,t){},828:function(e,t){}},[[1242,1,2]]]);
//# sourceMappingURL=main.2389f3ff.chunk.js.map