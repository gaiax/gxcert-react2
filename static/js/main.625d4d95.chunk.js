(this["webpackJsonpgxcert-react2"]=this["webpackJsonpgxcert-react2"]||[]).push([[0],{1010:function(e,t){},1017:function(e,t){},1124:function(e,t){},1241:function(e,t,r){"use strict";r.r(t);var n=r(3),a=r.n(n),s=r(189),c=r.n(s),i=(r(459),r(36)),o=r(10),u=r(11),p=r(16),l=r(15),f=(r.p,r(447)),d=r.n(f)()(),h=r(37),b=r(0);var j=function(e){return Object(b.jsxs)("header",{className:"App-header",children:[Object(b.jsxs)("div",{className:"header-wrapper",children:[Object(b.jsx)(h.b,{to:"/",className:"logo",children:"GxCert"}),Object(b.jsx)(h.b,{to:"/issue",className:"header-left-link",children:"ISSUE"})]}),Object(b.jsx)("div",{className:"sign-in-button",onClick:function(){return d.push("/signup")},children:"SIGN IN"})]})};var m=function(){return Object(b.jsxs)("div",{className:"top",children:[Object(b.jsx)("div",{className:"top-left"}),Object(b.jsxs)("div",{className:"top-right",children:[Object(b.jsx)("p",{className:"concept",children:"\u78ba\u304b\u306a\u8a3c\u660e\u66f8\u3092\u8ab0\u306b\u3067\u3082\u7c21\u5358\u306b"}),Object(b.jsx)("p",{className:"concept-large",children:"\u30d6\u30ed\u30c3\u30af\u30c1\u30a7\u30fc\u30f3\u6280\u8853\u306b\u3088\u308b\u3001\u6539\u3056\u3093\u3055\u308c\u306a\u3044\u78ba\u304b\u306a\u8a3c\u660e\u66f8\u3092\u7c21\u5358\u306b\u767a\u884c\u3001\u53d7\u3051\u53d6\u308a\u3059\u308b\u3053\u3068\u304c\u3067\u304d\u307e\u3059\u3002"}),Object(b.jsx)(h.b,{to:"/signup",children:Object(b.jsx)("div",{className:"sign-up",children:"SIGN UP"})})]})]})};var O=function(e){return Object(b.jsx)("div",{className:"sign-in",children:Object(b.jsxs)("div",{className:"sign-in-content",children:[Object(b.jsx)("p",{className:"sign-in-message",children:"\u30b5\u30fc\u30d3\u30b9\u306e\u5229\u7528\u306b\u306fGoogle\u30a2\u30ab\u30a6\u30f3\u30c8\u3067\u306e\u8a8d\u8a3c\u304c\u5fc5\u9808\u3067\u3059\u3002Google\u30a2\u30ab\u30a6\u30f3\u30c8\u3067\u8a8d\u8a3c\u3092\u884c\u3063\u305f\u5f8c\u3001\u767b\u9332\u3092\u5b8c\u4e86\u3055\u305b\u3066\u304f\u3060\u3055\u3044\u3002"}),Object(b.jsx)("img",{src:"/google.png",onClick:e.signIn})]})})};var g=function(e){Object(p.a)(r,e);var t=Object(l.a)(r);function r(){return Object(o.a)(this,r),t.call(this)}return Object(u.a)(r,[{key:"componentDidMount",value:function(){this.props.fetchCertificates()}},{key:"render",value:function(){return Object(b.jsx)("div",{className:"certificates",children:Object(b.jsxs)("div",{className:"certificates-content",children:[Object(b.jsx)("p",{className:"certificates-title",children:"\u8a3c\u660e\u66f8"}),Object(b.jsxs)("div",{className:"certificates-list",children:[0===this.props.userCerts.length?Object(b.jsx)("p",{className:"certificate-not-found",children:"Certificate not found."}):"",this.props.userCerts.map((function(e,t){return Object(b.jsx)(h.b,{to:"/certs/"+e.userCertId,children:Object(b.jsxs)("div",{className:"certificates-list-cell",children:[Object(b.jsx)("img",{src:e.certificate.imageUrl,className:"certificates-list-cell-icon"}),Object(b.jsxs)("div",{className:"certificates-list-cell-detail",children:[Object(b.jsx)("p",{className:"certificates-list-cell-title",children:e.certificate.title}),Object(b.jsx)("p",{className:"certificates-list-cell-date",children:e.certificate.timestamp?new Date(e.certificate.timestamp).toISOString():""}),Object(b.jsx)("p",{className:"certificates-list-cell-by",children:e.certificate.from})]})]})})}))]})]})})}}]),r}(a.a.Component),x=r(17),v=r(1),I=r.n(v),E=r(151),N=r(259)({host:"ipfs.infura.io",port:5001,protocol:"https"});function C(e){var t=new Blob([e]);return(window.URL||window.webkitURL).createObjectURL(t)}var y=function(e,t){var r=new Uint8Array(e.byteLength+t.byteLength);return r.set(new Uint8Array(e),0),r.set(new Uint8Array(t),e.byteLength),r.buffer};function _(e){var t,r,n,a,s,c,i,o,u,p,l,f,d,h,b,j;return I.a.async((function(m){for(;;)switch(m.prev=m.next){case 0:return m.next=2,I.a.awrap(N.get(e));case 2:t=m.sent,r=!0,n=!1,m.prev=5,s=Object(E.a)(t);case 7:return m.next=9,I.a.awrap(s.next());case 9:return c=m.sent,r=c.done,m.next=13,I.a.awrap(c.value);case 13:if(i=m.sent,r){m.next=56;break}o=i,console.log(o),u=new ArrayBuffer(0),p=!0,l=!1,m.prev=20,d=Object(E.a)(o.content);case 22:return m.next=24,I.a.awrap(d.next());case 24:return h=m.sent,p=h.done,m.next=28,I.a.awrap(h.value);case 28:if(b=m.sent,p){m.next=35;break}u=y(u,b);case 32:p=!0,m.next=22;break;case 35:m.next=41;break;case 37:m.prev=37,m.t0=m.catch(20),l=!0,f=m.t0;case 41:if(m.prev=41,m.prev=42,p||null==d.return){m.next=46;break}return m.next=46,I.a.awrap(d.return());case 46:if(m.prev=46,!l){m.next=49;break}throw f;case 49:return m.finish(46);case 50:return m.finish(41);case 51:return j=C(u),m.abrupt("return",j);case 53:r=!0,m.next=7;break;case 56:m.next=62;break;case 58:m.prev=58,m.t1=m.catch(5),n=!0,a=m.t1;case 62:if(m.prev=62,m.prev=63,r||null==s.return){m.next=67;break}return m.next=67,I.a.awrap(s.return());case 67:if(m.prev=67,!n){m.next=70;break}throw a;case 70:return m.finish(67);case 71:return m.finish(62);case 72:return m.abrupt("return",null);case 73:case"end":return m.stop()}}),null,null,[[5,58,62,72],[20,37,41,51],[42,,46,50],[63,,67,71]],Promise)}var w=function(e){Object(p.a)(r,e);var t=Object(l.a)(r);function r(){return Object(o.a)(this,r),t.call(this)}return Object(u.a)(r,[{key:"componentDidMount",value:function(){var e=parseInt(this.props.match.params.id);this.props.fetchCertificate(e)}},{key:"render",value:function(){return console.log(this.props.userCert),Object(b.jsx)("div",{className:"certificate",children:this.props.userCert&&this.props.userCert.certificate?Object(b.jsxs)("div",{className:"certificate-content",children:[Object(b.jsx)("p",{className:"certificate-title",children:this.props.userCert.certificate.title}),Object(b.jsx)("img",{src:this.props.certificateImage,className:"certificate-icon"}),Object(b.jsxs)("table",{className:"certificate-detail",children:[Object(b.jsxs)("tr",{children:[Object(b.jsx)("td",{children:"Issuer: "}),Object(b.jsx)("td",{children:this.props.userCert.certificate.group?this.props.userCert.certificate.group.name:""})]}),Object(b.jsxs)("tr",{children:[Object(b.jsx)("td",{children:"To: "}),Object(b.jsx)("td",{children:this.props.userCert.to})]}),Object(b.jsxs)("tr",{children:[Object(b.jsx)("td",{children:"Title: "}),Object(b.jsx)("td",{children:this.props.userCert.certificate.title})]}),Object(b.jsxs)("tr",{children:[Object(b.jsx)("td",{children:"Description: "}),Object(b.jsx)("td",{children:this.props.userCert.certificate.description})]}),Object(b.jsxs)("tr",{children:[Object(b.jsx)("td",{children:"Issued at: "}),Object(b.jsx)("td",{children:new Date(parseInt(1e3*this.props.userCert.timestamp)).toISOString()})]})]}),Object(b.jsxs)("div",{className:"certificate-buttons",children:[Object(b.jsx)("div",{className:"certificate-button",children:"\u53c2\u7167URL\u306e\u767a\u884c"}),Object(b.jsx)("div",{className:"certificate-button",children:"PDF\u306e\u30c0\u30a6\u30f3\u30ed\u30fc\u30c9"})]})]}):Object(b.jsx)("div",{className:"certificate-content",children:Object(b.jsx)("p",{className:"certificate-not-found",children:"Certificate not found."})})})}}]),r}(a.a.Component),k=function(e){Object(p.a)(r,e);var t=Object(l.a)(r);function r(){return Object(o.a)(this,r),t.call(this)}return Object(u.a)(r,[{key:"componentDidMount",value:function(){this.props.fetchGroups()}},{key:"render",value:function(){var e=this,t="";try{t=C(this.props.image)}catch(r){console.error(r)}return Object(b.jsxs)("div",{className:"new-cert",children:[Object(b.jsx)("div",{className:"sidebar",children:Object(b.jsxs)("ul",{children:[Object(b.jsx)("li",{className:"sidebar-title",children:"ISSUE"}),Object(b.jsx)("li",{children:Object(b.jsx)(h.b,{to:"/issue",children:"CERTIFICATE"})}),Object(b.jsx)("li",{children:"MEMBERS"}),Object(b.jsx)("li",{children:"PUBLISHER"})]})}),Object(b.jsxs)("div",{className:"new-cert-content",children:[Object(b.jsx)("p",{className:"new-cert-title",children:"\u8a3c\u660e\u66f8\u306e\u767b\u9332"}),Object(b.jsx)("p",{className:"new-cert-description",children:"\u8a3c\u660e\u66f8\u3092\u767b\u9332\u3057\u3066\u304f\u3060\u3055\u3044\u3002\u8a3c\u660e\u66f8\u306f\u8907\u6570\u767b\u9332\u3059\u308b\u3053\u3068\u304c\u3067\u304d\u3001\u305d\u308c\u305e\u308c\u306e\u8907\u6570\u306e\u30e6\u30fc\u30b6\u30fc\u306b\u5bfe\u3057\u3066\u767a\u884c\u3059\u308b\u3053\u3068\u304c\u3067\u304d\u307e\u3059\u3002"}),Object(b.jsxs)("div",{className:"new-cert-form",children:[Object(b.jsx)("p",{className:"new-cert-form-title",children:"Group"}),Object(b.jsxs)("select",{className:"new-cert-form-group",onChange:this.props.onChangeGroup,children:[Object(b.jsx)("option",{hidden:!0,children:"Choose group"}),this.props.groups.map((function(e){return Object(b.jsx)("option",{value:e.groupId.toString(),children:e.name})})),Object(b.jsx)("option",{value:"new",children:"Create new group"})]}),Object(b.jsx)("p",{className:"new-cert-form-title",children:"Title of Certificate"}),Object(b.jsx)("input",{type:"text",className:"new-cert-form-name",onChange:this.props.onChangeTitle}),Object(b.jsx)("p",{className:"new-cert-form-title",children:"Description of Certificate"}),Object(b.jsx)("textarea",{className:"new-cert-form-description",onChange:this.props.onChangeDescription}),Object(b.jsx)("p",{className:"new-cert-form-title",children:"Certificate Image"}),Object(b.jsx)("img",{src:t,className:"new-cert-form-image"}),Object(b.jsx)("div",{className:"new-cert-form-image-file-div",children:Object(b.jsxs)("label",{className:"new-cert-form-image-file-label",children:[Object(b.jsx)("input",{type:"file",className:"new-cert-form-image-file",onChange:this.props.onChangeImage}),"\u753b\u50cf\u9078\u629e"]})}),Object(b.jsx)("div",{className:"register-button",onClick:function(){return e.props.sign()},children:"\u767b\u9332"})]})]})]})}}]),r}(a.a.Component),G=function(e){Object(p.a)(r,e);var t=Object(l.a)(r);function r(){return Object(o.a)(this,r),t.call(this)}return Object(u.a)(r,[{key:"render",value:function(){var e="";try{e=C(this.props.image)}catch(t){console.error(t)}return Object(b.jsx)("div",{className:"new-profile",children:Object(b.jsxs)("div",{className:"new-profile-content",children:[Object(b.jsx)("p",{className:"new-profile-title",children:"\u30e6\u30fc\u30b6\u30fc\u767b\u9332"}),Object(b.jsxs)("div",{className:"new-profile-form",children:[Object(b.jsxs)("div",{className:"new-profile-form-image",children:[Object(b.jsx)("label",{for:"new-profile-form-image-file",children:Object(b.jsx)("img",{src:e,className:"new-profile-form-image"})}),Object(b.jsx)("input",{id:"new-profile-form-image-file",type:"file",onChange:this.props.onChangeProfileImage})]}),Object(b.jsx)("p",{className:"new-profile-form-title",children:"Name"}),Object(b.jsx)("input",{type:"text",className:"new-profile-form-name",onChange:this.props.onChangeProfileName}),Object(b.jsx)("p",{className:"new-profile-form-title",children:"E-mail"}),Object(b.jsx)("input",{type:"text",className:"new-profile-form-email",onChange:this.props.onChangeProfileEmail}),Object(b.jsx)("div",{className:"register-button",onClick:this.props.registerProfile,children:"\u767b\u9332"})]})]})})}}]),r}(a.a.Component),T=function(e){Object(p.a)(r,e);var t=Object(l.a)(r);function r(){return Object(o.a)(this,r),t.call(this)}return Object(u.a)(r,[{key:"componentDidMount",value:function(){this.props.fetchProfile()}},{key:"render",value:function(){var e="";try{e=C(this.props.image)}catch(t){console.error(t)}return console.log(this.props),Object(b.jsx)("div",{className:"edit-profile",children:Object(b.jsxs)("div",{className:"edit-profile-content",children:[Object(b.jsx)("p",{className:"edit-profile-title",children:"\u30d7\u30ed\u30d5\u30a3\u30fc\u30eb\u7de8\u96c6"}),Object(b.jsxs)("div",{className:"edit-profile-form",children:[Object(b.jsxs)("div",{className:"edit-profile-form-image",children:[Object(b.jsx)("label",{for:"edit-profile-form-image-file",children:Object(b.jsx)("img",{src:e,className:"edit-profile-form-image"})}),Object(b.jsx)("input",{id:"edit-profile-form-image-file",type:"file",onChange:this.props.onChangeProfileImage})]}),Object(b.jsx)("p",{className:"edit-profile-form-title",children:"Name"}),Object(b.jsx)("input",{type:"text",className:"edit-profile-form-name",onChange:this.props.onChangeProfileName}),Object(b.jsx)("p",{className:"edit-profile-form-title",children:"E-mail"}),Object(b.jsx)("input",{type:"text",className:"edit-profile-form-email",onChange:this.props.onChangeProfileEmail}),Object(b.jsx)("div",{className:"register-button",onClick:this.props.updateProfile,children:"\u66f4\u65b0"})]})]})})}}]),r}(a.a.Component),A=function(e){Object(p.a)(r,e);var t=Object(l.a)(r);function r(){return Object(o.a)(this,r),t.call(this)}return Object(u.a)(r,[{key:"render",value:function(){return Object(b.jsx)("div",{className:"new-group",children:Object(b.jsxs)("div",{className:"new-group-content",children:[Object(b.jsx)("p",{className:"new-group-title",children:"\u767a\u884c\u5143\u306e\u767b\u9332"}),Object(b.jsx)("p",{className:"new-group-description",children:"\u8a3c\u660e\u66f8\u306e\u767a\u884c\u306b\u306f\u767a\u884c\u5143\u3068\u306a\u308b\u56e3\u4f53\uff08\u4f01\u696d\u3001\u6559\u80b2\u6a5f\u95a2\u3001NPO\u6cd5\u4eba\u306a\u3069\uff09\u306e\u767b\u9332\u304c\u5fc5\u8981\u3067\u3059\u3002"}),Object(b.jsxs)("div",{className:"new-group-form",children:[Object(b.jsx)("p",{className:"new-group-form-title",children:"Name"}),Object(b.jsx)("input",{type:"text",className:"new-group-form-name",onChange:this.props.onChangeGroupName}),Object(b.jsx)("p",{className:"new-group-form-title",children:"Address"}),Object(b.jsx)("input",{type:"text",className:"new-group-form-address",onChange:this.props.onChangeGroupAddress}),Object(b.jsx)("p",{className:"new-group-form-title",children:"Phone"}),Object(b.jsx)("input",{type:"text",className:"new-group-form-phone",onChange:this.props.onChangeGroupPhone}),Object(b.jsx)("div",{className:"register-button",onClick:this.props.registerGroup,children:"\u767b\u9332"})]})]})})}}]),r}(a.a.Component),P=function(e){Object(p.a)(r,e);var t=Object(l.a)(r);function r(){return Object(o.a)(this,r),t.call(this)}return Object(u.a)(r,[{key:"componentDidMount",value:function(){var e=parseInt(this.props.match.params.groupId);this.props.fetchGroup(e)}},{key:"render",value:function(){return this.props.group?Object(b.jsxs)("div",{className:"edit-group",children:[Object(b.jsx)("div",{className:"sidebar",children:Object(b.jsxs)("ul",{children:[Object(b.jsx)("li",{className:"sidebar-title",children:"ISSUE"}),Object(b.jsx)("li",{children:Object(b.jsx)(h.b,{to:"/issue",children:"CERTIFICATE"})}),Object(b.jsx)("li",{children:"MEMBERS"}),Object(b.jsx)("li",{children:"PUBLISHER"})]})}),Object(b.jsxs)("div",{className:"edit-group-content",children:[Object(b.jsxs)("p",{className:"edit-group-title",children:["\u767a\u884c\u5143 ",this.props.group.name,"\u306e\u66f4\u65b0"]}),Object(b.jsx)("p",{className:"edit-group-description",children:"\u8a3c\u660e\u66f8\u306e\u767a\u884c\u306b\u306f\u767a\u884c\u5143\u3068\u306a\u308b\u56e3\u4f53\uff08\u4f01\u696d\u3001\u6559\u80b2\u6a5f\u95a2\u3001NPO\u6cd5\u4eba\u306a\u3069\uff09\u306e\u767b\u9332\u304c\u5fc5\u8981\u3067\u3059\u3002"}),Object(b.jsxs)("div",{className:"edit-group-form",children:[Object(b.jsx)("p",{className:"edit-group-form-title",children:"Name"}),Object(b.jsx)("input",{type:"text",className:"edit-group-form-name",onChange:this.props.onChangeGroupName}),Object(b.jsx)("p",{className:"edit-group-form-title",children:"Address"}),Object(b.jsx)("input",{type:"text",className:"edit-group-form-address",onChange:this.props.onChangeGroupAddress}),Object(b.jsx)("p",{className:"edit-group-form-title",children:"Phone"}),Object(b.jsx)("input",{type:"text",className:"edit-group-form-phone",onChange:this.props.onChangeGroupPhone}),Object(b.jsx)("div",{className:"register-button",onClick:this.props.updateGroup,children:"\u66f4\u65b0"})]})]})]}):Object(b.jsx)("div",{className:"edit-group"})}}]),r}(a.a.Component),F=function(e){Object(p.a)(r,e);var t=Object(l.a)(r);function r(){return Object(o.a)(this,r),t.call(this)}return Object(u.a)(r,[{key:"componentDidMount",value:function(){this.props.fetchGroup(parseInt(this.props.match.params.id))}},{key:"render",value:function(){var e=this;return Object(b.jsxs)("div",{className:"group-members",children:[Object(b.jsx)("div",{className:"sidebar",children:Object(b.jsxs)("ul",{children:[Object(b.jsx)("li",{className:"sidebar-title",children:"ISSUE"}),Object(b.jsx)("li",{children:Object(b.jsx)(h.b,{to:"/issue",children:"CERTIFICATE"})}),Object(b.jsx)("li",{children:"MEMBERS"}),Object(b.jsx)("li",{children:"PUBLISHER"})]})}),Object(b.jsx)("div",{className:"group-members-content",children:function(){var t=e;return e.props.group?Object(b.jsxs)("div",{children:[Object(b.jsxs)("p",{className:"group-members-title",children:[e.props.group.name,"\u306e\u30e1\u30f3\u30d0\u30fc"]}),Object(b.jsx)("input",{type:"text",className:"group-members-invite",onChange:e.props.onChangeGroupMemberToInvite}),Object(b.jsx)("button",{className:"group-members-invite-button",onClick:e.props.inviteMember,children:"Invite"}),Object(b.jsx)("div",{className:"group-members-list",children:e.props.group.members.map((function(e){return Object(b.jsxs)("div",{className:"group-members-list-cell",children:[Object(b.jsx)("img",{src:e.imageUrl,className:"group-members-list-cell-icon"}),Object(b.jsxs)("div",{className:"group-members-list-cell-detail",children:[Object(b.jsx)("p",{className:"group-members-list-cell-name",children:e.name}),Object(b.jsx)("p",{className:"group-members-list-cell-address",children:e.address})]}),Object(b.jsx)("div",{className:"group-members-list-cell-disable",onClick:function(){return t.props.disableGroupMember(t.props.group.groupId,e.address)},children:"\u7121\u52b9\u5316"})]})}))})]}):Object(b.jsx)("p",{children:"Group not found."})}()})]})}}]),r}(a.a.Component),R=function(e){Object(p.a)(r,e);var t=Object(l.a)(r);function r(){return Object(o.a)(this,r),t.call(this)}return Object(u.a)(r,[{key:"componentDidMount",value:function(){this.props.fetchCertificates()}},{key:"render",value:function(){var e=this;return Object(b.jsxs)("div",{className:"issuer",children:[Object(b.jsxs)("div",{className:"issuer-certificates",children:[Object(b.jsx)(h.b,{to:"/new",children:Object(b.jsx)("div",{className:"issuer-certificates-new",children:"\u65b0\u898f\u4f5c\u6210"})}),Object(b.jsx)("br",{}),Object(b.jsx)("p",{className:"issuer-certificates-title",children:"\u8a3c\u660e\u66f8"}),Object(b.jsx)("div",{className:"issuer-certificates-list",children:this.props.certificates.map((function(e){return Object(b.jsxs)("div",{className:"issuer-certificates-list-cell",children:[Object(b.jsx)("img",{src:e.imageUrl,className:"issuer-certificates-list-cell-icon"}),Object(b.jsx)("p",{className:"issuer-certificates-list-cell-title",children:e.title}),Object(b.jsx)(h.b,{to:"/issue/"+e.id,children:Object(b.jsx)("div",{className:"issuer-certificates-list-cell-issue",children:"\u767a\u884c"})})]})}))})]}),this.props.certificates.map((function(t){return Object(b.jsxs)("div",{className:"issuer-certificate",children:[Object(b.jsx)("p",{className:"issuer-certificate-title",children:t.title}),Object(b.jsx)("div",{className:"issuer-certificate-list",children:t.userCerts.map((function(t,r){return Object(b.jsxs)("div",{className:"certificates-list-cell",children:[Object(b.jsx)("img",{src:t.profile?t.profile.imageUrl:"",className:"issuer-certificate-list-cell-icon"}),Object(b.jsxs)("div",{className:"issuer-certificate-list-cell-detail",children:[Object(b.jsx)("p",{className:"issuer-certificate-list-cell-name",children:t.profile?t.profile.name:""}),Object(b.jsx)("p",{className:"issuer-certificate-list-cell-address",children:t.to})]}),Object(b.jsx)("div",{className:"issuer-certificate-list-cell-invalidate",onClick:function(){return e.props.invalidateUserCert(t.userCertId)},children:"\u7121\u52b9\u5316"})]})}))})]})}))]})}}]),r}(a.a.Component),D=function(e){Object(p.a)(r,e);var t=Object(l.a)(r);function r(){return Object(o.a)(this,r),t.call(this)}return Object(u.a)(r,[{key:"componentDidMount",value:function(){this.certId=parseInt(this.props.match.params.certId),this.props.fetchCertificate(this.certId)}},{key:"render",value:function(){var e=this;return Object(b.jsx)("div",{className:"issue",children:this.props.certificate?Object(b.jsxs)("div",{className:"issue-content",children:[Object(b.jsxs)("p",{className:"issue-title",children:[this.props.certificate.title,"\u306e\u767a\u884c"]}),Object(b.jsx)("p",{className:"issue-form-title",children:"Add Address"}),Object(b.jsxs)("div",{className:"issue-form",children:[Object(b.jsx)("input",{type:"text",className:"issue-form-to",onChange:this.props.onChangeToInIssue}),Object(b.jsx)("button",{className:"issue-form-issue",onClick:function(){e.props.issue(e.certId)},children:"\u767a\u884c"})]})]}):Object(b.jsx)("div",{className:"issue-content",children:Object(b.jsx)("p",{className:"certificate-not-found",children:"Certificate not found."})})})}}]),r}(a.a.Component),H=(r(750),r(35)),U=function(e){Object(p.a)(r,e);var t=Object(l.a)(r);function r(){return Object(o.a)(this,r),t.call(this)}return Object(u.a)(r,[{key:"render",value:function(){var e=this;return Object(b.jsxs)("div",{className:"App",children:[Object(b.jsx)(j,{}),Object(b.jsxs)(H.c,{children:[Object(b.jsx)(H.a,{exact:!0,path:"/",render:function(t){return""===e.props.state.from?Object(b.jsx)(m,{}):Object(b.jsx)(g,Object(i.a)(Object(i.a)({},t),{},{userCerts:e.props.state.certificates,fetchCertificates:e.props.fetchCertificates}))}}),Object(b.jsx)(H.a,{exact:!0,path:"/signup",render:function(t){return Object(b.jsx)(O,Object(i.a)(Object(i.a)({},t),{},{signIn:e.props.signIn}))}}),Object(b.jsx)(H.a,{exact:!0,path:"/new/",render:function(){return Object(b.jsx)(k,{fetchGroups:e.props.fetchGroups,onChangeTitle:e.props.onChangeTitle,onChangeDescription:e.props.onChangeDescription,onChangeImage:e.props.onChangeImage,onChangeGroup:e.props.onChangeGroup,sign:e.props.sign,from:e.props.state.from,image:e.props.state.image,groups:e.props.state.groups})}}),Object(b.jsx)(H.a,{exact:!0,path:"/issue/",render:function(t){return Object(b.jsx)(R,Object(i.a)(Object(i.a)({},t),{},{groups:e.props.state.groupsInIssuer,certificates:e.props.state.certificatesInIssuer,fetchCertificates:e.props.fetchCertificatesInIssuer,issue:e.props.issue,invalidateUserCert:e.props.invalidateUserCert}))}}),Object(b.jsx)(H.a,{exact:!0,path:"/issue/:certId",render:function(t){return Object(b.jsx)(D,Object(i.a)(Object(i.a)({},t),{},{certificate:e.props.state.certificateInIssue,fetchCertificate:e.props.fetchCertificateInIssue,onChangeToInIssue:e.props.onChangeToInIssue,issue:e.props.issue}))}}),Object(b.jsx)(H.a,{exact:!0,path:"/certs/:id",render:function(t){return Object(b.jsx)(w,Object(i.a)(Object(i.a)({},t),{},{userCert:e.props.state.certificate,certificateImage:e.props.state.certificateImage,fetchCertificate:e.props.fetchCertificate}))}}),Object(b.jsx)(H.a,{exact:!0,path:"/group/new",render:function(t){return Object(b.jsx)(A,Object(i.a)(Object(i.a)({},t),{},{registerGroup:e.props.registerGroup,onChangeGroupName:e.props.onChangeGroupName,onChangeGroupAddress:e.props.onChangeGroupAddress,onChangeGroupPhone:e.props.onChangeGroupPhone}))}}),Object(b.jsx)(H.a,{exact:!0,path:"/group/edit/:groupId",render:function(t){return Object(b.jsx)(P,Object(i.a)(Object(i.a)({},t),{},{group:e.props.state.groupInEdit,updateGroup:e.props.updateGroup,fetchGroup:e.props.fetchGroupInEdit,onChangeGroupId:e.props.onChangeGroupIdInEdit,onChangeGroupName:e.props.onChangeGroupNameInEdit,onChangeGroupAddress:e.props.onChangeGroupAddressInEdit,onChangeGroupPhone:e.props.onChangeGroupPhone}))}}),Object(b.jsx)(H.a,{exact:!0,path:"/group/:id",render:function(t){return Object(b.jsx)(F,Object(i.a)(Object(i.a)({},t),{},{group:e.props.state.group,fetchGroup:e.props.fetchGroup,inviteMember:e.props.inviteMember,onChangeGroupMemberToInvite:e.props.onChangeGroupMemberToInvite,disableGroupMember:e.props.disableGroupMember}))}}),Object(b.jsx)(H.a,{exact:!0,path:"/profile/new",render:function(t){return Object(b.jsx)(G,Object(i.a)(Object(i.a)({},t),{},{image:e.props.state.profileImage,registerProfile:e.props.registerProfile,onChangeProfileName:e.props.onChangeProfileName,onChangeProfileEmail:e.props.onChangeProfileEmail,onChangeProfileImage:e.props.onChangeProfileImage}))}}),Object(b.jsx)(H.a,{exact:!0,path:"/profile/edit",render:function(t){return Object(b.jsx)(T,Object(i.a)(Object(i.a)({},t),{},{image:e.props.state.profileImage,updateProfile:e.props.updateProfile,profile:e.props.state.profileInEdit,profileName:e.props.state.profileNameInEdit,profileEmail:e.props.state.profileEmailInEdit,profileImage:e.props.state.profileImageInEdit,fetchProfile:e.props.fetchProfileInEdit,onChangeProfileName:e.props.onChangeProfileNameInEdit,onChangeProfileEmail:e.props.onChangeProfileEmailInEdit,onChangeProfileIcon:e.props.onChangeProfileImageInEdit}))}})]})]})}}]),r}(a.a.Component),S=function(e){e&&e instanceof Function&&r.e(3).then(r.bind(null,1245)).then((function(t){var r=t.getCLS,n=t.getFID,a=t.getFCP,s=t.getLCP,c=t.getTTFB;r(e),n(e),a(e),s(e),c(e)}))},M=r(263),L=r(83),B={from:"",to:"",title:"",description:"",image:null,toInIssue:"",groupId:null,groupInEdit:null,groupName:"",groupMemberToInvite:"",groupAddress:"",groupPhone:"",groupIdInEdit:"",groupNameInEdit:"",groupAddressInEdit:"",groupPhoneInEdit:"",groupInIssuer:null,certificate:{},certificateImage:"",certificates:[],certificatesInIssuer:[],certificateInIssue:null,group:null,groups:[],profileName:"",profileEmail:"",profileImage:"",profileNameInEdit:"",profileEmailInEdit:"",profileImageInEdit:""};var V,z=r(448),J=r(264),X=r(449),Y={key:"root",storage:r.n(X).a},q=Object(J.a)(Y,(function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:B,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"ON_CHANGE_TITLE":return Object.assign({},e,{title:t.payload});case"ON_CHANGE_DESCRIPTION":return Object.assign({},e,{description:t.payload});case"ON_CHANGE_IMAGE":return Object.assign({},e,{image:t.payload});case"ON_CHANGE_GROUP":return Object.assign({},e,{groupId:t.payload});case"ON_CHANGE_GROUP_NAME":return Object.assign({},e,{groupName:t.payload});case"ON_CHANGE_GROUP_ADDRESS":return Object.assign({},e,{groupAddress:t.payload});case"ON_CHANGE_GROUP_PHONE":return Object.assign({},e,{groupPhone:t.payload});case"ON_CHANGE_GROUP_MEMBER_TO_INVITE":return Object.assign({},e,{groupMemberToInvite:t.payload});case"ON_CHANGE_GROUP_ID_IN_EDIT":return Object.assign({},e,{groupIdInEdit:t.payload});case"ON_CHANGE_GROUP_NAME_IN_EDIT":return Object.assign({},e,{groupNameInEdit:t.payload});case"ON_CHANGE_GROUP_ADDRESS_IN_EDIT":return Object.assign({},e,{groupAddressInEdit:t.payload});case"ON_CHANGE_GROUP_PHONE_IN_EDIT":return Object.assign({},e,{groupPhoneInEdit:t.payload});case"ON_CHANGE_PROFILE_NAME":return Object.assign({},e,{profileName:t.payload});case"ON_CHANGE_PROFILE_EMAIL":return Object.assign({},e,{profileEmail:t.payload});case"ON_CHANGE_PROFILE_IMAGE":return Object.assign({},e,{profileImage:t.payload});case"ON_CHANGE_PROFILE_NAME_IN_EDIT":return Object.assign({},e,{profileNameInEdit:t.payload});case"ON_CHANGE_PROFILE_EMAIL_IN_EDIT":return Object.assign({},e,{profileEmailInEdit:t.payload});case"ON_CHANGE_PROFILE_IMAGE_IN_EDIT":return Object.assign({},e,{profileImageInEdit:t.payload});case"ON_CHANGE_TO_IN_ISSUE":return Object.assign({},e,{toInIssue:t.payload});case"LOGGED_IN":return Object.assign({},e,{from:t.payload});case"FETCHED_CERTIFICATE":return Object.assign({},e,{certificate:t.payload});case"FETCHED_CERTIFICATE_IN_ISSUE":return Object.assign({},e,{certificateInIssue:t.payload});case"FETCHED_CERTIFICATES":return Object.assign({},e,{certificates:t.payload});case"FETCHED_CERTIFICATE_IMAGE":return Object.assign({},e,{certificateImage:t.payload});case"FETCHED_GROUPS":return Object.assign({},e,{groups:t.payload});case"FETCHED_GROUP":return Object.assign({},e,{group:t.payload});case"FETCHED_GROUP_IN_EDIT":return Object.assign({},e,{groupInEdit:t.payload});case"FETCHED_CERTIFICATES_IN_ISSUER":return Object.assign({},e,{certificatesInIssuer:t.payload});case"FETCHED_PROFILE_IN_EDIT":return Object.assign({},e,{profileInEdit:t.payload});default:return B}})),K=window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__||L.c,Q=Object(L.d)(Object(L.b)({state:q}),B,K(Object(L.a)(z.a))),W=(Object(J.b)(Q),Q),Z=r(265),$=r(262),ee=r.n($),te=r(149),re=r.n(te),ne=r(452),ae=r.n(ne),se=new(function(){function e(){Object(o.a)(this,e),this.torus=new ae.a}return Object(u.a)(e,[{key:"init",value:function(){var e=Object(x.a)(I.a.mark((function e(){return I.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.torus.init({buildEnv:"production",enableLogging:!0,network:{host:"https://matic-mumbai.chainstacklabs.com",chainId:80001,networkName:"Mumbai Testnet"},showTorusButton:!0,enabledVerifiers:{google:!0,facebook:!1,reddit:!1,twitch:!1,discord:!1}});case 2:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"login",value:function(){var e=Object(x.a)(I.a.mark((function e(){var t;return I.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.torus.login();case 2:return t=e.sent,console.log(t),console.log(this.torus),this.web3=new re.a(this.torus.provider),console.log(this.web3),e.abrupt("return",this.web3);case 8:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"getPublicAddressByGoogle",value:function(){var e=Object(x.a)(I.a.mark((function e(t){return I.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.torus.getPublicAddress({verifier:"google",verifierId:t});case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()}]),e}()),ce={web3Host:"https://matic-mumbai.chainstacklabs.com",contractAddress:"0xE19F38e0fA7B005E8E62E837B0D79C8558fAd8E0",gxApi:"https://asia-northeast1-gxcert-21233.cloudfunctions.net/gxcert"},ie=new ee.a(new re.a(ce.web3Host),ce.contractAddress);function oe(){return ue.apply(this,arguments)}function ue(){return(ue=Object(x.a)(I.a.mark((function e(){return I.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(ie.isInitialized()){e.next=3;break}return e.next=3,ie.init();case 3:return e.abrupt("return",ie);case 4:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function pe(){return le.apply(this,arguments)}function le(){return(le=Object(x.a)(I.a.mark((function e(){var t;return I.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,se.init();case 3:return e.next=5,se.login();case 5:t=e.sent,e.next=11;break;case 8:e.prev=8,e.t0=e.catch(0),console.error(e.t0);case 11:if(console.log(t),!t){e.next=23;break}return e.prev=13,V=new ee.a(t,ce.contractAddress,ce.gxApi),e.next=17,V.init();case 17:e.next=23;break;case 19:throw e.prev=19,e.t1=e.catch(13),console.error(e.t1),new Error("gxCert is not initialized.");case 23:if(null!==V){e.next=25;break}throw new Error("gxCert is not initialized.");case 25:if(V.address){e.next=28;break}return e.next=28,V.getMyAddress();case 28:return e.abrupt("return",V);case 29:case"end":return e.stop()}}),e,null,[[0,8],[13,19]])})))).apply(this,arguments)}function fe(){return new Promise((function(e,t){setTimeout((function(){e()}),6e3)}))}var de=Object(M.b)((function(e,t){return e}),(function(e,t){return{onChangeTitle:function(t){e(function(e){return function(){var t=Object(x.a)(I.a.mark((function t(r,n){return I.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:r({type:"ON_CHANGE_TITLE",payload:e.target.value});case 1:case"end":return t.stop()}}),t)})));return function(e,r){return t.apply(this,arguments)}}()}(t))},onChangeDescription:function(t){e(function(e){return function(){var t=Object(x.a)(I.a.mark((function t(r,n){return I.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:r({type:"ON_CHANGE_DESCRIPTION",payload:e.target.value});case 1:case"end":return t.stop()}}),t)})));return function(e,r){return t.apply(this,arguments)}}()}(t))},onChangeImage:function(t){e(function(e){return function(){var t=Object(x.a)(I.a.mark((function t(r,n){var a,s;return I.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:a=e.target.files[0],(s=new FileReader).onload=function(){r({type:"ON_CHANGE_IMAGE",payload:s.result})},s.readAsArrayBuffer(a);case 4:case"end":return t.stop()}}),t)})));return function(e,r){return t.apply(this,arguments)}}()}(t))},onChangeGroupName:function(t){e(function(e){return function(){var t=Object(x.a)(I.a.mark((function t(r,n){return I.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:r({type:"ON_CHANGE_GROUP_NAME",payload:e.target.value});case 1:case"end":return t.stop()}}),t)})));return function(e,r){return t.apply(this,arguments)}}()}(t))},onChangeGroupAddress:function(t){e(function(e){return function(){var t=Object(x.a)(I.a.mark((function t(r,n){return I.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:r({type:"ON_CHANGE_GROUP_ADDRESS",payload:e.target.value});case 1:case"end":return t.stop()}}),t)})));return function(e,r){return t.apply(this,arguments)}}()}(t))},onChangeGroupPhone:function(t){e(function(e){return function(){var t=Object(x.a)(I.a.mark((function t(r,n){return I.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:r({type:"ON_CHANGE_GROUP_PHONE",payload:e.target.value});case 1:case"end":return t.stop()}}),t)})));return function(e,r){return t.apply(this,arguments)}}()}(t))},onChangeGroupNameInEdit:function(t){e(function(e){return function(){var t=Object(x.a)(I.a.mark((function t(r,n){return I.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:r({type:"ON_CHANGE_GROUP_NAME_IN_EDIT",payload:e.target.value});case 1:case"end":return t.stop()}}),t)})));return function(e,r){return t.apply(this,arguments)}}()}(t))},onChangeGroupAddressInEdit:function(t){e(function(e){return function(){var t=Object(x.a)(I.a.mark((function t(r,n){return I.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:r({type:"ON_CHANGE_GROUP_ADDRESS_IN_EDIT",payload:e.target.value});case 1:case"end":return t.stop()}}),t)})));return function(e,r){return t.apply(this,arguments)}}()}(t))},onChangeGroupPhoneInEdit:function(t){e(function(e){return function(){var t=Object(x.a)(I.a.mark((function t(r,n){return I.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:r({type:"ON_CHANGE_GROUP_PHONE_IN_EDIT",payload:e.target.value});case 1:case"end":return t.stop()}}),t)})));return function(e,r){return t.apply(this,arguments)}}()}(t))},onChangeProfileName:function(t){e(function(e){return function(){var t=Object(x.a)(I.a.mark((function t(r,n){return I.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:r({type:"ON_CHANGE_PROFILE_NAME",payload:e.target.value});case 1:case"end":return t.stop()}}),t)})));return function(e,r){return t.apply(this,arguments)}}()}(t))},onChangeProfileEmail:function(t){e(function(e){return function(){var t=Object(x.a)(I.a.mark((function t(r,n){return I.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:r({type:"ON_CHANGE_PROFILE_EMAIL",payload:e.target.value});case 1:case"end":return t.stop()}}),t)})));return function(e,r){return t.apply(this,arguments)}}()}(t))},onChangeProfileImage:function(t){e(function(e){return function(){var t=Object(x.a)(I.a.mark((function t(r,n){var a,s;return I.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:a=e.target.files[0],(s=new FileReader).onload=function(){r({type:"ON_CHANGE_PROFILE_IMAGE",payload:s.result})},s.readAsArrayBuffer(a);case 4:case"end":return t.stop()}}),t)})));return function(e,r){return t.apply(this,arguments)}}()}(t))},onChangeProfileNameInEdit:function(t){e(function(e){return function(){var t=Object(x.a)(I.a.mark((function t(r,n){return I.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:r({type:"ON_CHANGE_PROFILE_NAME_IN_EDIT",payload:e.target.value});case 1:case"end":return t.stop()}}),t)})));return function(e,r){return t.apply(this,arguments)}}()}(t))},onChangeProfileEmailInEdit:function(t){e(function(e){return function(){var t=Object(x.a)(I.a.mark((function t(r,n){return I.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:r({type:"ON_CHANGE_PROFILE_EMAIL_IN_EDIT",payload:e.target.value});case 1:case"end":return t.stop()}}),t)})));return function(e,r){return t.apply(this,arguments)}}()}(t))},onChangeProfileImageInEdit:function(t){e(function(e){return function(){var t=Object(x.a)(I.a.mark((function t(r,n){var a,s;return I.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:a=e.target.files[0],(s=new FileReader).onload=function(){r({type:"ON_CHANGE_PROFILE_IMAGE_IN_EDIT",payload:s.result})},s.readAsArrayBuffer(a);case 4:case"end":return t.stop()}}),t)})));return function(e,r){return t.apply(this,arguments)}}()}(t))},onChangeGroup:function(t){e(function(e){return function(){var t=Object(x.a)(I.a.mark((function t(r,n){return I.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if("new"!==e.target.value){t.next=3;break}return d.push("/group/new"),t.abrupt("return");case 3:r({type:"ON_CHANGE_GROUP",payload:parseInt(e.target.value)});case 4:case"end":return t.stop()}}),t)})));return function(e,r){return t.apply(this,arguments)}}()}(t))},onChangeToInIssue:function(t){e(function(e){return function(){var t=Object(x.a)(I.a.mark((function t(r){return I.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:r({type:"ON_CHANGE_TO_IN_ISSUE",payload:e.target.value});case 1:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()}(t))},onChangeGroupMemberToInvite:function(t){e(function(e){return function(){var t=Object(x.a)(I.a.mark((function t(r,n){return I.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:r({type:"ON_CHANGE_GROUP_MEMBER_TO_INVITE",payload:e.target.value});case 1:case"end":return t.stop()}}),t)})));return function(e,r){return t.apply(this,arguments)}}()}(t))},sign:function(){e(function(){var e=Object(x.a)(I.a.mark((function e(t,r){var n,a,s,c,i,o;return I.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,pe();case 3:n=e.sent,e.next=10;break;case 6:return e.prev=6,e.t0=e.catch(0),console.error(e.t0),e.abrupt("return");case 10:if(a=r().state,s=a.image){e.next=15;break}return alert("Image not set."),e.abrupt("return");case 15:return e.prev=15,e.next=18,n.uploadImageToIpfs(s);case 18:c=e.sent,e.next=26;break;case 21:return e.prev=21,e.t1=e.catch(15),console.error(e.t1),alert("Failed to post the image to IPFS."),e.abrupt("return");case 26:if(i={context:{},title:a.title,description:a.description,image:c,groupId:a.groupId},n.isCertificate(i)){e.next=30;break}return alert("Invalid Certificate."),e.abrupt("return");case 30:return o=null,e.prev=31,e.next=34,n.signCertificate(i,{address:n.address});case 34:o=e.sent,e.next=42;break;case 37:return e.prev=37,e.t2=e.catch(31),console.error(e.t2),alert("Failed to sign the certificate."),e.abrupt("return");case 42:return e.prev=42,e.next=45,n.createCert(o);case 45:e.next=52;break;case 47:return e.prev=47,e.t3=e.catch(42),console.error(e.t3),alert("Failed to post the signed certificate."),e.abrupt("return");case 52:return e.next=54,fe();case 54:d.push("/issue");case 55:case"end":return e.stop()}}),e,null,[[0,6],[15,21],[31,37],[42,47]])})));return function(t,r){return e.apply(this,arguments)}}())},fetchCertificate:function(t){var r;e((r=t,function(){var e=Object(x.a)(I.a.mark((function e(t){var n,a,s,c,i,o;return I.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t({type:"FETCHED_CERTIFICATE",payload:null}),e.prev=1,e.next=4,oe();case 4:n=e.sent,e.next=11;break;case 7:return e.prev=7,e.t0=e.catch(1),console.error(e.t0),e.abrupt("return");case 11:return e.prev=11,e.next=14,n.getUserCert(r);case 14:a=e.sent,e.next=21;break;case 17:return e.prev=17,e.t1=e.catch(11),console.error(e.t1),e.abrupt("return");case 21:return t({type:"FETCHED_CERTIFICATE",payload:a}),s=a.certificate.image,e.prev=23,e.next=26,_(s);case 26:c=e.sent,e.next=33;break;case 29:return e.prev=29,e.t2=e.catch(23),console.error(e.t2),e.abrupt("return");case 33:return t({type:"FETCHED_CERTIFICATE_IMAGE",payload:c}),e.prev=34,e.next=37,n.getGroup(a.certificate.groupId);case 37:i=e.sent,a.certificate.group=i,t({type:"FETCHED_CERTIFICATE",payload:a}),e.next=46;break;case 42:return e.prev=42,e.t3=e.catch(34),console.error(e.t3),e.abrupt("return");case 46:return e.prev=46,e.next=49,n.getProfile(a.to);case 49:o=e.sent,a.to=o.name,t({type:"FETCHED_CERTIFICATE",payload:a}),e.next=58;break;case 54:return e.prev=54,e.t4=e.catch(46),console.error(e.t4),e.abrupt("return");case 58:case"end":return e.stop()}}),e,null,[[1,7],[11,17],[23,29],[34,42],[46,54]])})));return function(t){return e.apply(this,arguments)}}()))},fetchCertificates:function(){e(function(){var e=Object(x.a)(I.a.mark((function e(t,r){var n,a,s,c,i,o;return I.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t({type:"FETCHED_CERTIFICATES",payload:[]}),n=r().state,""!==(a=n.from)&&a){e.next=6;break}return d.push("/top"),e.abrupt("return");case 6:return e.prev=6,e.next=9,oe();case 9:s=e.sent,e.next=16;break;case 12:return e.prev=12,e.t0=e.catch(6),console.error(e.t0),e.abrupt("return");case 16:return e.prev=16,e.next=19,s.getReceivedUserCerts(a);case 19:c=e.sent,e.next=26;break;case 22:return e.prev=22,e.t1=e.catch(16),console.error(e.t1),e.abrupt("return");case 26:for(i=function(e){_(c[e].certificate.image).then((function(r){c[e].certificate.imageUrl=r,t({type:"FETCHED_CERTIFICATES",payload:c})}))},o=0;o<c.length;o++)i(o);t({type:"FETCHED_CERTIFICATES",payload:c});case 29:case"end":return e.stop()}}),e,null,[[6,12],[16,22]])})));return function(t,r){return e.apply(this,arguments)}}())},fetchGroups:function(){e(function(){var e=Object(x.a)(I.a.mark((function e(t,r){var n,a,s,c;return I.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,pe();case 3:n=e.sent,e.next=10;break;case 6:return e.prev=6,e.t0=e.catch(0),console.error(e.t0),e.abrupt("return");case 10:return a=r().state,s=a.from,e.prev=12,e.next=15,n.getGroups(s);case 15:c=e.sent,e.next=22;break;case 18:return e.prev=18,e.t1=e.catch(12),console.error(e.t1),e.abrupt("return");case 22:t({type:"FETCHED_GROUPS",payload:c});case 23:case"end":return e.stop()}}),e,null,[[0,6],[12,18]])})));return function(t,r){return e.apply(this,arguments)}}())},fetchGroup:function(t){e(function(e){return function(){var t=Object(x.a)(I.a.mark((function t(r,n){var a,s,c,i;return I.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return r({type:"FETCHED_GROUP",payload:null}),t.prev=1,t.next=4,oe();case 4:a=t.sent,t.next=11;break;case 7:return t.prev=7,t.t0=t.catch(1),console.error(t.t0),t.abrupt("return");case 11:return t.prev=11,t.next=14,a.getGroup(e);case 14:s=t.sent,t.next=21;break;case 17:return t.prev=17,t.t1=t.catch(11),console.error(t.t1),t.abrupt("return");case 21:for(r({type:"FETCHED_GROUP",payload:s}),c=function(e){_(s.members[e].icon).then((function(t){s.members[e].imageUrl=t,r({type:"FETCHED_GROUP",payload:s})})).catch((function(e){}))},i=0;i<s.members.length;i++)c(i);case 24:case"end":return t.stop()}}),t,null,[[1,7],[11,17]])})));return function(e,r){return t.apply(this,arguments)}}()}(t))},fetchGroupInEdit:function(t){e(function(e){return function(){var t=Object(x.a)(I.a.mark((function t(r,n){var a,s;return I.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return r({type:"ON_CHANGE_GROUP_ID_IN_EDIT",payload:e}),r({type:"FETCHED_GROUP_IN_EDIT",payload:null}),t.prev=2,t.next=5,oe();case 5:a=t.sent,t.next=12;break;case 8:return t.prev=8,t.t0=t.catch(2),console.error(t.t0),t.abrupt("return");case 12:return n().state,t.prev=13,t.next=16,a.getGroup(e);case 16:s=t.sent,t.next=23;break;case 19:return t.prev=19,t.t1=t.catch(13),console.error(t.t1),t.abrupt("return");case 23:r({type:"FETCHED_GROUP_IN_EDIT",payload:s});case 24:case"end":return t.stop()}}),t,null,[[2,8],[13,19]])})));return function(e,r){return t.apply(this,arguments)}}()}(t))},fetchCertificatesInIssuer:function(){e(function(){var e=Object(x.a)(I.a.mark((function e(t,r){var n,a,s,c,i,o,u,p,l,f,d;return I.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,pe();case 3:n=e.sent,e.next=10;break;case 6:return e.prev=6,e.t0=e.catch(0),console.error(e.t0),e.abrupt("return");case 10:return r().state,a=n.address,e.prev=12,e.next=15,n.getGroups(a);case 15:s=e.sent,e.next=23;break;case 18:return e.prev=18,e.t1=e.catch(12),console.error(e.t1),alert("Failed to fetch your groups"),e.abrupt("return");case 23:c=[],i=Object(Z.a)(s),e.prev=25,i.s();case 27:if((o=i.n()).done){e.next=44;break}return u=o.value,p=u.groupId,e.prev=30,e.t2=c,e.next=34,n.getGroupCerts(p);case 34:e.t3=e.sent,c=e.t2.concat.call(e.t2,e.t3),e.next=42;break;case 38:return e.prev=38,e.t4=e.catch(30),console.error(e.t4),e.abrupt("continue",42);case 42:e.next=27;break;case 44:e.next=49;break;case 46:e.prev=46,e.t5=e.catch(25),i.e(e.t5);case 49:return e.prev=49,i.f(),e.finish(49);case 52:for(l=0;l<c.length;l++)c[l].userCerts=[];t({type:"FETCHED_CERTIFICATES_IN_ISSUER",payload:c}),f=I.a.mark((function e(r){var a,s,i;return I.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,n.getIssuedUserCerts(c[r].id);case 2:a=e.sent,c[r].userCerts=a,t({type:"FETCHED_CERTIFICATES_IN_ISSUER",payload:c}),s=0;case 6:if(!(s<a.length)){e.next=14;break}return e.next=9,n.getProfile(a[s].to);case 9:i=e.sent,c[r].userCerts[s].profile=i;case 11:s++,e.next=6;break;case 14:_(c[r].image).then((function(e){c[r].imageUrl=e,t({type:"FETCHED_CERTIFICATES_IN_ISSUER",payload:c})})).catch((function(e){console.error(e)}));case 15:case"end":return e.stop()}}),e)})),d=0;case 56:if(!(d<c.length)){e.next=61;break}return e.delegateYield(f(d),"t6",58);case 58:d++,e.next=56;break;case 61:case"end":return e.stop()}}),e,null,[[0,6],[12,18],[25,46,49,52],[30,38]])})));return function(t,r){return e.apply(this,arguments)}}())},fetchCertificateInIssue:function(t){e(function(e){return function(){var t=Object(x.a)(I.a.mark((function t(r){var n,a;return I.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,oe();case 3:n=t.sent,t.next=10;break;case 6:return t.prev=6,t.t0=t.catch(0),console.error(t.t0),t.abrupt("return");case 10:return t.prev=10,t.next=13,n.getCert(e);case 13:a=t.sent,t.next=20;break;case 16:return t.prev=16,t.t1=t.catch(10),console.error(t.t1),t.abrupt("return");case 20:r({type:"FETCHED_CERTIFICATE_IN_ISSUE",payload:a});case 21:case"end":return t.stop()}}),t,null,[[0,6],[10,16]])})));return function(e){return t.apply(this,arguments)}}()}(t))},fetchProfileInEdit:function(){e(function(){var e=Object(x.a)(I.a.mark((function e(t,r){var n,a;return I.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t({type:"FETCHED_PROFILE_IN_EDIT",payload:null}),e.prev=1,e.next=4,pe();case 4:n=e.sent,e.next=11;break;case 7:return e.prev=7,e.t0=e.catch(1),console.error(e.t0),e.abrupt("return");case 11:return e.prev=11,e.next=14,n.getProfile(n.address);case 14:a=e.sent,e.next=22;break;case 17:return e.prev=17,e.t1=e.catch(11),console.error(e.t1),alert("Failed to fetch profile."),e.abrupt("return");case 22:t({type:"FETCHED_PROFILE_IN_EDIT",payload:a}),t({type:"ON_CHANGE_PROFILE_NAME_IN_EDIT",payload:a.name}),t({type:"ON_CHANGE_PROFILE_NAME_IN_EDIT",payload:a.email});case 25:case"end":return e.stop()}}),e,null,[[1,7],[11,17]])})));return function(t,r){return e.apply(this,arguments)}}())},signIn:function(){e(function(){var e=Object(x.a)(I.a.mark((function e(t){var r;return I.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,pe();case 2:if((r=e.sent).address){e.next=6;break}return console.log("Failed to login."),e.abrupt("return");case 6:return console.log(r.address),t({type:"LOGGED_IN",payload:r.address}),e.prev=8,e.next=11,r.getProfile(r.address);case 11:e.sent,e.next=19;break;case 14:return e.prev=14,e.t0=e.catch(8),console.error(e.t0),d.push("/profile/new"),e.abrupt("return");case 19:d.push("/");case 20:case"end":return e.stop()}}),e,null,[[8,14]])})));return function(t){return e.apply(this,arguments)}}())},registerGroup:function(){e(function(){var e=Object(x.a)(I.a.mark((function e(t,r){var n,a,s,c,i,o;return I.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,pe();case 3:n=e.sent,e.next=10;break;case 6:return e.prev=6,e.t0=e.catch(0),console.error(e.t0),e.abrupt("return");case 10:return a=r().state,s=a.from,c=a.groupName,i=a.groupAddress,o=a.groupPhone,e.prev=15,e.next=18,n.createGroup(c,i,o,s);case 18:e.next=25;break;case 20:return e.prev=20,e.t1=e.catch(15),console.error(e.t1),alert("Failed to create group."),e.abrupt("return");case 25:return e.next=27,fe();case 27:d.push("/new");case 28:case"end":return e.stop()}}),e,null,[[0,6],[15,20]])})));return function(t,r){return e.apply(this,arguments)}}())},updateGroup:function(){e(function(){var e=Object(x.a)(I.a.mark((function e(t,r){var n,a,s,c,i,o,u,p;return I.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,pe();case 3:n=e.sent,e.next=10;break;case 6:return e.prev=6,e.t0=e.catch(0),console.error(e.t0),e.abrupt("return");case 10:return a=r().state,s=a.groupIdInEdit,c=a.groupNameInEdit,i=a.groupAddressInEdit,o=a.groupPhoneInEdit,u={groupId:s,name:c,residence:i,phone:o},e.next=18,n.signGroup(u,{address:n.address});case 18:return p=e.sent,e.prev=19,e.next=22,n.updateGroup(p);case 22:e.next=29;break;case 24:return e.prev=24,e.t1=e.catch(19),console.error(e.t1),alert("Failed to update group."),e.abrupt("return");case 29:d.push("/");case 30:case"end":return e.stop()}}),e,null,[[0,6],[19,24]])})));return function(t,r){return e.apply(this,arguments)}}())},updateProfile:function(){e(function(){var e=Object(x.a)(I.a.mark((function e(t,r){var n,a,s,c,i,o,u,p;return I.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,pe();case 3:n=e.sent,e.next=10;break;case 6:return e.prev=6,e.t0=e.catch(0),console.error(e.t0),e.abrupt("return");case 10:return a=r().state,s=a.profileNameInEdit,c=a.profileEmailInEdit,i=a.profileImageInEdit,o=n.address,u={name:s,email:c,icon:i},e.next=18,n.signProfileForUpdating(u,{address:o});case 18:return p=e.sent,e.prev=19,e.next=22,n.updateProfile(p);case 22:e.next=29;break;case 24:return e.prev=24,e.t1=e.catch(19),console.error(e.t1),alert("Failed to update your profile."),e.abrupt("return");case 29:d.push("/");case 30:case"end":return e.stop()}}),e,null,[[0,6],[19,24]])})));return function(t,r){return e.apply(this,arguments)}}())},registerProfile:function(){e(function(){var e=Object(x.a)(I.a.mark((function e(t,r){var n,a,s,c,i,o,u,p;return I.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,pe();case 3:n=e.sent,e.next=10;break;case 6:return e.prev=6,e.t0=e.catch(0),console.error(e.t0),e.abrupt("return");case 10:return a=r().state,s=a.profileName,c=a.profileEmail,i=a.profileImage,o=a.from,e.prev=15,e.next=18,n.uploadImageToIpfs(i);case 18:u=e.sent,e.next=26;break;case 21:return e.prev=21,e.t1=e.catch(15),console.error(e.t1),alert("Failed to upload image to IPFS."),e.abrupt("return");case 26:return e.prev=26,e.next=29,n.signProfile({name:s,email:c,icon:u},{address:o});case 29:p=e.sent,e.next=37;break;case 32:return e.prev=32,e.t2=e.catch(26),console.error(e.t2),alert("Failed to sign profile."),e.abrupt("return");case 37:return e.prev=37,e.next=40,n.createProfile(o,p);case 40:e.next=47;break;case 42:return e.prev=42,e.t3=e.catch(37),console.error(e.t3),alert("Failed to register profile."),e.abrupt("return");case 47:d.push("/");case 48:case"end":return e.stop()}}),e,null,[[0,6],[15,21],[26,32],[37,42]])})));return function(t,r){return e.apply(this,arguments)}}())},inviteMember:function(){e(function(){var e=Object(x.a)(I.a.mark((function e(t,r){var n,a,s,c,i,o,u,p;return I.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,pe();case 3:n=e.sent,e.next=10;break;case 6:return e.prev=6,e.t0=e.catch(0),console.error(e.t0),e.abrupt("return");case 10:return a=r().state,s=a.from,c=a.group.groupId,i=a.groupMemberToInvite,e.prev=14,e.next=17,se.getPublicAddressByGoogle(i);case 17:o=e.sent,e.next=25;break;case 20:return e.prev=20,e.t1=e.catch(14),console.error(e.t1),alert("Email is not registered."),e.abrupt("return");case 25:return e.prev=25,e.next=28,n.signMemberAddressForInviting(o,{address:s});case 28:u=e.sent,e.next=36;break;case 31:return e.prev=31,e.t2=e.catch(25),console.error(e.t2),alert("Failed to sign for invitation."),e.abrupt("return");case 36:return e.prev=36,e.next=39,n.inviteMemberToGroup(c,u);case 39:e.next=46;break;case 41:return e.prev=41,e.t3=e.catch(36),console.error(e.t3),alert("Failed to send invitation."),e.abrupt("return");case 46:return e.prev=46,e.next=49,n.getGroup(c);case 49:p=e.sent,e.next=56;break;case 52:return e.prev=52,e.t4=e.catch(46),console.error(e.t4),e.abrupt("return");case 56:t({type:"FETCHED_GROUP",payload:p});case 57:case"end":return e.stop()}}),e,null,[[0,6],[14,20],[25,31],[36,41],[46,52]])})));return function(t,r){return e.apply(this,arguments)}}())},issue:function(t){e(function(e){return function(){var t=Object(x.a)(I.a.mark((function t(r,n){var a,s,c,i,o,u,p;return I.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,pe();case 3:a=t.sent,t.next=10;break;case 6:return t.prev=6,t.t0=t.catch(0),console.error(t.t0),t.abrupt("return");case 10:return s=n().state,c=s.from,s.from,i=s.toInIssue,t.prev=14,t.next=17,se.getPublicAddressByGoogle(i);case 17:o=t.sent,t.next=25;break;case 20:return t.prev=20,t.t1=t.catch(14),console.error(t.t1),alert("Failed to get public address of the Google account."),t.abrupt("return");case 25:return u={certId:e,from:c,to:o},t.prev=26,t.next=29,a.signUserCertificate(u,{address:c});case 29:p=t.sent,t.next=37;break;case 32:return t.prev=32,t.t2=t.catch(26),console.error(t.t2),alert("Failed to sign the certificate."),t.abrupt("return");case 37:return t.prev=37,t.next=40,a.createUserCert(p);case 40:t.next=47;break;case 42:return t.prev=42,t.t3=t.catch(37),console.error(t.t3),alert("Failed to issue the certificate."),t.abrupt("return");case 47:return t.next=49,fe();case 49:d.push("/");case 50:case"end":return t.stop()}}),t,null,[[0,6],[14,20],[26,32],[37,42]])})));return function(e,r){return t.apply(this,arguments)}}()}(t))},disableGroupMember:function(t,r){e(function(e,t){return function(){var r=Object(x.a)(I.a.mark((function r(n,a){var s,c;return I.a.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.prev=0,r.next=3,pe();case 3:s=r.sent,r.next=10;break;case 6:return r.prev=6,r.t0=r.catch(0),console.error(r.t0),r.abrupt("return");case 10:return a().state,r.next=13,s.signMemberAddressForDisabling(t,{address:s.address});case 13:return c=r.sent,r.prev=14,r.next=17,s.disableGroupMember(e,c);case 17:r.next=23;break;case 19:return r.prev=19,r.t1=r.catch(14),console.error(r.t1),r.abrupt("return");case 23:case"end":return r.stop()}}),r,null,[[0,6],[14,19]])})));return function(e,t){return r.apply(this,arguments)}}()}(t,r))},invalidateUserCert:function(t){e(function(e){return function(){var t=Object(x.a)(I.a.mark((function t(r,n){var a,s,c,i,o,u,p,l,f,d,h,b;return I.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,pe();case 3:a=t.sent,t.next=10;break;case 6:return t.prev=6,t.t0=t.catch(0),console.error(t.t0),t.abrupt("return");case 10:return t.next=12,a.signUserCertForInvalidation(e,{address:a.address});case 12:return s=t.sent,console.log(s),t.prev=14,t.next=17,a.invalidateUserCert(s);case 17:t.next=23;break;case 19:return t.prev=19,t.t1=t.catch(14),console.error(t.t1),t.abrupt("return");case 23:return t.next=25,fe();case 25:return n().state,c=a.address,t.prev=27,t.next=30,a.getGroups(c);case 30:i=t.sent,t.next=38;break;case 33:return t.prev=33,t.t2=t.catch(27),console.error(t.t2),alert("Failed to fetch your groups"),t.abrupt("return");case 38:o=[],u=Object(Z.a)(i),t.prev=40,u.s();case 42:if((p=u.n()).done){t.next=59;break}return l=p.value,f=l.groupId,t.prev=45,t.t3=o,t.next=49,a.getGroupCerts(f);case 49:t.t4=t.sent,o=t.t3.concat.call(t.t3,t.t4),t.next=57;break;case 53:return t.prev=53,t.t5=t.catch(45),console.error(t.t5),t.abrupt("continue",57);case 57:t.next=42;break;case 59:t.next=64;break;case 61:t.prev=61,t.t6=t.catch(40),u.e(t.t6);case 64:return t.prev=64,u.f(),t.finish(64);case 67:for(d=0;d<o.length;d++)o[d].userCerts=[];r({type:"FETCHED_CERTIFICATES_IN_ISSUER",payload:o}),h=I.a.mark((function e(t){var n,s,c;return I.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,a.getIssuedUserCerts(o[t].id);case 2:n=e.sent,o[t].userCerts=n,r({type:"FETCHED_CERTIFICATES_IN_ISSUER",payload:o}),s=0;case 6:if(!(s<n.length)){e.next=14;break}return e.next=9,a.getProfile(n[s].to);case 9:c=e.sent,o[t].userCerts[s].profile=c;case 11:s++,e.next=6;break;case 14:_(o[t].image).then((function(e){o[t].imageUrl=e,r({type:"FETCHED_CERTIFICATES_IN_ISSUER",payload:o})})).catch((function(e){console.error(e)}));case 15:case"end":return e.stop()}}),e)})),b=0;case 71:if(!(b<o.length)){t.next=76;break}return t.delegateYield(h(b),"t7",73);case 73:b++,t.next=71;break;case 76:case"end":return t.stop()}}),t,null,[[0,6],[14,19],[27,33],[40,61,64,67],[45,53]])})));return function(e,r){return t.apply(this,arguments)}}()}(t))}}}))(Object(H.f)(U));c.a.render(Object(b.jsx)(M.a,{store:W,children:Object(b.jsx)(h.a,{history:d,children:Object(b.jsx)(de,{})})}),document.getElementById("root")),S()},459:function(e,t,r){},518:function(e,t){},525:function(e,t){},540:function(e,t){},541:function(e,t){},750:function(e,t,r){},815:function(e,t){},816:function(e,t){},843:function(e,t){},845:function(e,t){},856:function(e,t){},858:function(e,t){},977:function(e,t){},979:function(e,t){},986:function(e,t){},987:function(e,t){}},[[1241,1,2]]]);
//# sourceMappingURL=main.625d4d95.chunk.js.map